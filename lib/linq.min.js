var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,d){b!=Array.prototype&&b!=Object.prototype&&(b[f]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,f,d,a){if(f){d=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var c=b[a];c in d||(d[c]={});d=d[c]}b=b[b.length-1];a=d[b];f=f(a);f!=a&&null!=f&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:f})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},f={};try{return f.__proto__=b,f.a}catch(d){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,f){b.__proto__=f;if(b.__proto__!==f)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(b,f,d){b instanceof String&&(b=String(b));for(var a=b.length,c=0;c<a;c++){var e=b[c];if(f.call(d,e,c,b))return{i:c,v:e}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(f,d){return $jscomp.findInternal(this,f,d).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,f){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var d=0,a={next:function(){if(d<b.length){var c=d++;return{value:f(c,b[c]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");
var __extends=this&&this.__extends||function(){var b=function(f,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return b(f,d)};return function(f,d){function a(){this.constructor=f}b(f,d);f.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}(),Activator;
(function(b){b.CreateInstance=function(f){var d=Object.create({});if(Array.isArray(f))for(var a=0;a<f.length;a++){var c=f[a];var e=c.value;Object.defineProperty(d,c.name,{get:e.get,set:e.set})}else for(a in f)e=f[a],Object.defineProperty(d,a,{get:e.get,set:e.set});return d};b.EmptyObject=function(f,d){var a={};"function"==typeof d?Array.isArray(f)?f.forEach(function(c){return a[c]=d()}):f.ForEach(function(c){return a[c]=d()}):Array.isArray(f)?f.forEach(function(c){return a[c]=d}):f.ForEach(function(c){return a[c]=
d});return a};b.CreateObject=function(f){var d={},a=TypeInfo.typeof(f);if(a.IsArray&&"MapTuple"==a.class)f.forEach(function(a){return d[a.key]=a.value});else if(a.IsArray&&"NamedValue"==a.class)f.forEach(function(a){return d[a.name]=a.value});else if("IEnumerator"==a.class)if(a=f.ElementType,"MapTuple"==a.class)f.ForEach(function(a){d[a.key]=a.value});else if("NamedValue"==a.class)f.ForEach(function(a){d[a.name]=a.value});else throw console.error(a),"Unsupport data type: "+a.class;else throw"Unsupport data type: "+
JSON.stringify(a);return d}})(Activator||(Activator={}));var data;
(function(b){(function(f){var d=function(){function a(){}a.prototype.toString=function(){return JSON.stringify(this)};return a}();f.match=d;f.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);f.parseFormat=function(a,c){for(var e,d,b=e=0,k,l=[],m=[];k=f.placeholder.exec(a);)d=f.placeholder.lastIndex-k[0].length,m[m.length]=a.substring(e,d),e=f.placeholder.lastIndex,l[l.length]={match:k[0],left:k[3]?!0:!1,sign:k[4]||"",pad:k[5]||" ",min:k[6]||0,precision:k[8],code:k[9]||
"%",negative:0>parseInt(c[b])?!0:!1,argument:String(c[b])},k[9]&&(b+=1);m[m.length]=a.substring(e);return{matches:l,convCount:b,strings:m}};f.doFormat=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;e=f.parseFormat(a,c);var d=e.convCount;if(0==e.matches.length)return a;if(c.length<d)throw"Mismatch format argument numbers ("+c.length+" !== "+d+")!";return f.doSubstitute(e.matches,
e.strings)};f.doSubstitute=function(a,c){var e,d="";for(e=0;e<a.length;e++){if("%"==a[e].code)var b="%";else"b"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(2)),b=f.convert(a[e],!0)):"c"==a[e].code?(b=Math.abs(parseInt(a[e].argument)),a[e].argument=String(String.fromCharCode(parseInt(String(b)))),b=f.convert(a[e],!0)):"d"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument))),b=f.convert(a[e])):"f"==a[e].code?(b=a[e].precision?parseFloat(a[e].precision):
6,a[e].argument=String(Math.abs(parseFloat(a[e].argument)).toFixed(b)),b=f.convert(a[e])):"o"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(8)),b=f.convert(a[e])):"s"==a[e].code?(b=a[e].precision?parseFloat(a[e].precision):a[e].argument.length,a[e].argument=a[e].argument.substring(0,b),b=f.convert(a[e],!0)):"x"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),b=f.convert(a[e])):"X"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),
b=f.convert(a[e]).toUpperCase()):b=a[e].match;d+=c[e];d+=b}return d+c[e]};f.convert=function(a,c){void 0===c&&(c=!1);a.sign=c?"":a.negative?"-":a.sign;var e=parseFloat(a.min)-a.argument.length+1-a.sign.length;e=Array(0>e?0:e).join(a.pad);return a.left?"0"==a.pad||c?a.sign+a.argument+e.replace(/0/g," "):a.sign+a.argument+e:"0"==a.pad||c?a.sign+e+a.argument:e+a.sign+a.argument}})(b.sprintf||(b.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function b(b){this.i=0;this.sequence=b}b.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(b.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});b.prototype.reset=function(){this.i=0;return this};b.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return b}(),Enumerable;
(function(b){function f(a){return From(a).Select(function(a){return Object.keys(a)}).Unlist().Distinct().ToArray()}b.Range=function(a,c,e){void 0===e&&(e=1);return(new data.NumericRange(a,c)).PopulateNumbers(e)};b.Min=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];c=99999999999;for(var e=0;e<a.length;e++){var d=a[e];d<c&&(c=d)}return c};b.Select=function(a,c){var e=[];a.forEach(function(a,d){e.push(c(a,d))});return new IEnumerator(e)};b.OrderBy=function(a,c){a=a.slice();a.sort(function(a,
d){return c(a)-c(d)});return new IEnumerator(a)};b.OrderByDescending=function(a,c){return b.OrderBy(a,function(a){return-c(a)})};b.Take=function(a,c){var e=a.length;if(e<=c)var d=a;else{d=[];for(var b=0;b<c&&!(b>=e);b++)d.push(a[b])}return new IEnumerator(d)};b.Skip=function(a,c){var e=[];if(c>=a.length)return new IEnumerator([]);for(;c<a.length;c++)e.push(a[c]);return new IEnumerator(e)};b.TakeWhile=function(a,c){for(var e=[],d=0;d<a.length;d++)if(c(a[d]))e.push(a[d]);else break;return new IEnumerator(e)};
b.Where=function(a,c){var e=[];a.forEach(function(a){1==c(a)&&e.push(a)});return new IEnumerator(e)};b.SkipWhile=function(a,c){for(var e=0;e<a.length;e++)if(1!=c(a[e]))return b.Skip(a,e);return new IEnumerator([])};b.All=function(a,c){for(var e=0;e<a.length;e++)if(!c(a[e]))return!1;return!0};b.Any=function(a,c){for(var e=0;e<a.length;e++)if(1==c(a[e]))return!0;return!1};b.GroupBy=function(a,c,e){var d=new algorithm.BTree.binaryTree(e);a.forEach(function(a){var e=c(a),b=d.find(e);b?b.push(a):d.add(e,
[a])});console.log(d);return d.AsEnumerable().Select(function(a){return new Group(a.key,a.value)})};b.AllKeys=f;var d=function(){function a(a,e){this.xset=a;this.yset=e;this.keysT=f(a);this.keysU=f(e)}a.prototype.JoinProject=function(a,e){var c={};this.keysT.forEach(function(e){return c[e]=a[e]});this.keysU.forEach(function(a){return c[a]=e[a]});return c};a.prototype.Union=function(a,e,d,b){void 0===b&&(b=this.JoinProject);var c=this.buildUtree(e,d),f=[],h=new algorithm.BTree.binaryTree(d);this.xset.forEach(function(e){var d=
a(e),g=c.find(d);g?(g.forEach(function(a){return f.push(b(e,a))}),h.find(d)||h.add(d)):f.push(b(e,{}))});this.yset.forEach(function(a){var c=e(a);h.find(c)||f.push(b({},a))});return new IEnumerator(f)};a.prototype.buildUtree=function(a,e){var c=new algorithm.BTree.binaryTree(e);this.yset.forEach(function(e){var d=a(e),b=c.find(d);b?b.push(e):c.add(d,[e])});return c};a.prototype.LeftJoin=function(a,e,d,b){void 0===b&&(b=this.JoinProject);var c=this.buildUtree(e,d),f=[];this.xset.forEach(function(e){var d=
a(e);(d=c.find(d))?d.forEach(function(a){return f.push(b(e,a))}):f.push(b(e,{}))});return new IEnumerator(f)};return a}();b.JoinHelper=d})(Enumerable||(Enumerable={}));
var IEnumerator=function(b){function f(d){return b.call(this,f.getArray(d))||this}__extends(f,b);Object.defineProperty(f.prototype,"ElementType",{get:function(){return TypeInfo.typeof(this.First)},enumerable:!0,configurable:!0});f.prototype.ElementAt=function(d){void 0===d&&(d=null);if(!d)d=0;else if("string"==typeof d)throw"Item index='"+d+"' must be an integer!";return this.sequence[d]};f.getArray=function(d){return d?Array.isArray(d)?d.slice():d.sequence.slice():[]};f.prototype.indexOf=function(d){return this.sequence.indexOf(d)};
Object.defineProperty(f.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});f.prototype.FirstOrDefault=function(d){void 0===d&&(d=null);return 0==this.Count?d:this.sequence[0]};f.prototype.Union=function(d,a,c,e,b){void 0===b&&(b=null);Array.isArray(d)||(d=d.ToArray());return(new Enumerable.JoinHelper(this.sequence,d)).Union(a,c,e,b)};
f.prototype.Join=function(d,a,c,e,b){void 0===b&&(b=null);Array.isArray(d)||(d=d.ToArray());return(new Enumerable.JoinHelper(this.sequence,d)).LeftJoin(a,c,e,b)};f.prototype.Select=function(d){return Enumerable.Select(this.sequence,d)};f.prototype.GroupBy=function(d,a){if(isNullOrUndefined(a))switch(typeof d(this.First)){case "string":a=Strings.CompareTo;break;case "number":a=function(a,e){return a-e};break;case "boolean":a=function(a,e){return a==e?0:1==a?1:-1};break;default:throw"No element comparer was specific!";
}return Enumerable.GroupBy(this.sequence,d,a)};f.prototype.Where=function(d){return Enumerable.Where(this.sequence,d)};f.prototype.Which=function(d,a){void 0===a&&(a=!0);var c;a||(c=[]);for(var e=0;e<this.sequence.length;e++)if(d(this.sequence[e])){if(a)return e;c.push(e)}return new f(c)};f.prototype.Min=function(d){void 0===d&&(d=function(a){return DataExtensions.as_numeric(a)});return Enumerable.OrderBy(this.sequence,d).First};f.prototype.Max=function(d){void 0===d&&(d=function(a){return DataExtensions.as_numeric(a)});
return Enumerable.OrderByDescending(this.sequence,d).First};f.prototype.Average=function(d){void 0===d&&(d=null);return 0==this.Count?0:this.Sum(d)/this.sequence.length};f.prototype.Sum=function(d){void 0===d&&(d=null);var a=0;d||(d=function(a){return Number(a)});for(var c=0;c<this.sequence.length;c++)a+=d(this.sequence[c]);return a};f.prototype.OrderBy=function(d){return Enumerable.OrderBy(this.sequence,d)};f.prototype.OrderByDescending=function(d){return Enumerable.OrderByDescending(this.sequence,
d)};f.prototype.Take=function(d){return Enumerable.Take(this.sequence,d)};f.prototype.Skip=function(d){return Enumerable.Skip(this.sequence,d)};f.prototype.Reverse=function(){var d=this.ToArray().reverse();return new f(d)};f.prototype.TakeWhile=function(d){return Enumerable.TakeWhile(this.sequence,d)};f.prototype.SkipWhile=function(d){return Enumerable.SkipWhile(this.sequence,d)};f.prototype.All=function(d){return Enumerable.All(this.sequence,d)};f.prototype.Any=function(d){void 0===d&&(d=null);return d?
Enumerable.Any(this.sequence,d):this.sequence&&0!=this.sequence.length?!0:!1};f.prototype.Distinct=function(d){void 0===d&&(d=function(a){return a.toString()});return this.GroupBy(d,Strings.CompareTo).Select(function(a){return a.First})};f.prototype.ChunkWith=function(d,a){void 0===a&&(a=!1);var c=new List,e=[];this.sequence.forEach(function(b){d(b)?(c.Add(e),e=a?[b]:[]):e.push(b)});0<e.length&&c.Add(e);return c};f.prototype.ForEach=function(d){this.sequence.forEach(d)};f.prototype.JoinBy=function(d,
a){void 0===a&&(a=function(a){return"string"===typeof a?a:a.toString()});return this.Select(function(c){return a(c)}).ToArray().join(d)};f.prototype.Unlist=function(d){void 0===d&&(d=function(a){return a});var a=[];this.ForEach(function(c){d(c).forEach(function(c){return a.push(c)})});return new f(a)};f.prototype.ToArray=function(d){void 0===d&&(d=!0);return d?this.sequence.slice():this.sequence};f.prototype.ToList=function(){return new List(this.sequence)};f.prototype.ToDictionary=function(d,a){void 0===
a&&(a=function(a){return a});var c={};this.sequence.forEach(function(e){var b=d(e);e=a(e);c[b]=e});return new Dictionary(c)};f.prototype.ToPointer=function(){return new Pointer(this)};f.prototype.SlideWindows=function(d,a){void 0===a&&(a=1);return SlideWindow.Split(this,d,a)};return f}(LINQIterator),DOMEnumerator=function(b){function f(d){return b.call(this,f.ensureElements(d))||this}__extends(f,b);f.ensureElements=function(d){var a=TypeInfo.typeof(d);if("NodeList"==a.class){var c=[];d.forEach(function(a){return c.push(a)})}else if("HTMLCollection"==
a.class)for(c=[],a=0;a<d.length;a++)c.push(d.item(a));else c=Framework.Extensions.EnsureArray(d);d=0;for(a=c;d<a.length;d++)TypeExtensions.Extends(a[d]);return c};f.prototype.val=function(d){void 0===d&&(d=null);if(isNullOrUndefined(d))return this.Select(function(a){return f.getVal(a)});"string"==typeof d||"number"==typeof d?this.ForEach(function(a){return f.setVal(a,d)}):Array.isArray(d)?this.ForEach(function(a,c){return f.setVal(a,d[c])}):this.ForEach(function(a,c){return f.setVal(a,d.ElementAt(c))})};
f.setVal=function(d,a){d instanceof HTMLInputElement?d.value=a:d.textContent=a};f.getVal=function(d){return d instanceof HTMLInputElement?d.value:d.textContent};f.prototype.attr=function(d,a){void 0===a&&(a=null);if(a){if("function"==typeof a)return this.Select(function(c){var e=a(c);c.setAttribute(d,e);return e});var c=Framework.Extensions.EnsureArray(a,this.Count);return this.Select(function(a,b){b=c[b];a.setAttribute(d,b);return b})}return this.Select(function(a){return a.getAttribute(d)})};f.prototype.addClass=
function(d){this.ForEach(function(a){a.classList.contains(d)||a.classList.add(d)});return this};f.prototype.addEvent=function(d,a){this.ForEach(function(c){DOM.Events.addEvent(c,d,function(e){a(c,e)})})};f.prototype.onChange=function(d){this.addEvent("onchange",d)};f.prototype.onClick=function(d){this.ForEach(function(a){a.onclick=function(a){d(this,a);return!1}})};f.prototype.removeClass=function(d){this.ForEach(function(a){a.classList.contains(d)&&a.classList.remove(d)});return this};f.prototype.hide=
function(){this.ForEach(function(d){return d.style.display="none"});return this};f.prototype.show=function(){this.ForEach(function(d){return d.style.display="block"});return this};f.prototype.delete=function(){this.ForEach(function(d){return d.parentNode.removeChild(d)})};return f}(IEnumerator),Internal;
(function(b){(function(f){function d(a,c){return a?window.hasOwnProperty.call(a,c):!1}var a={onclick:"onclick"},c=Object.keys(a);f.hasKey=d;f.EnsureNodeId=function(a){if(a)return"#"==a[0]?a:"#"+a;throw"The given node id value is nothing!";};var e=function(){function e(){}e.ensureArguments=function(a){if(isNullOrUndefined(a))return b.Arguments.Default();isNullOrUndefined(a.nativeModel)&&(a.nativeModel=!0);return a};e.select=function(a,c){void 0===c&&(c=window);a=a.replace(":","\\:");if(c instanceof
Window)c=c.document.querySelectorAll(a);else if(c instanceof HTMLElement)c=c.querySelectorAll(a);else throw"Unsupported context type: "+TypeInfo.getClass(c);return new DOMEnumerator(c)};e.prototype.doEval=function(a,c,d){var b=DOM.Query.parseQuery(a);c=e.ensureArguments(d);var f=c.context||window;if(b.type==DOM.QueryTypes.id)return d=f.document.getElementById(b.expression),isNullOrUndefined(d)?(TypeScript.logging.outputWarning&&console.warn("Unable to found a node which its ID='"+a+"'!"),null):c.nativeModel?
TypeExtensions.Extends(d):new HTMLTsElement(d);if(b.type==DOM.QueryTypes.NoQuery)return e.createNew(a,c,f);if(b.singleNode){if(b.type==DOM.QueryTypes.QueryMeta)return DOM.InputValueGetter.metaValue(b.expression,(d||{})["default"],f!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+b.expression+"', no typescript extension was made!");return f.document.querySelector(b.expression)}return e.select(b.expression,f)};e.createNew=function(a,b,d){void 0===d&&
(d=window);a=DOM.ParseNodeDeclare(a);var f=d.document.createElement(a.tag);a.attrs.forEach(function(a){0>c.indexOf(a.name)&&f.setAttribute(a.name,a.value)});b&&e.setAttributes(f,b);return b.nativeModel?TypeExtensions.Extends(f):new HTMLTsElement(f)};e.setAttributes=function(e,f){var h=function(a){if(!(-1<c.indexOf(a)))if("class"==a){var b=f[a];Array.isArray(b)?b.forEach(function(a){return e.classList.add(a)}):e.setAttribute(a,b)}else if("style"==a)if("string"==typeof f)e.setAttribute(a,f);else for(b in f)e.style[b]=
f[b];else"visible"==a?e.style.display=f[a]?"block":"none":e.setAttribute(a,f[a])};b.Arguments.nameFilter(f).forEach(function(a){return h(a)});if(d(f,a.onclick)){var g=f[a.onclick];"string"==typeof g?e.setAttribute(a.onclick,g):e.onclick=g}};return e}();f.stringEval=e})(b.Handlers||(b.Handlers={}))})(Internal||(Internal={}));
(function(b){(function(b){b.Shared={string:function(){return new b.stringEval},array:function(){return new d},NodeListOf:function(){return new a},HTMLCollection:function(){return new a}};var d=function(){function a(){}a.prototype.doEval=function(a,c,b){return From(a)};return a}();b.arrayEval=d;var a=function(){function a(){}a.prototype.doEval=function(a,c,b){return new DOMEnumerator(a)};return a}();b.DOMCollection=a})(b.Handlers||(b.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(b){function f(b){return null==b||void 0==b?null:"number"===typeof b?function(a){return a}:"boolean"===typeof b?function(a){return 1==a?1:-1}:"undefined"==typeof b?function(a){return 0}:"string"==typeof b?function(a){return Strings.Val(a)}:function(a){return 0}}b.arrayBufferToBase64=function(b){var a="";b=new Uint8Array(b);for(var c=b.byteLength,e=0;e<c;e++)a+=String.fromCharCode(b[e]);return window.btoa(a)};b.uriToBlob=function(b){var a=window.atob(b.split(",")[1]);b=b.split(",")[0].split(":")[1].split(";")[0];
for(var c=new ArrayBuffer(a.length),e=new Uint8Array(c),d=0;d<a.length;d++)e[d]=a.charCodeAt(d);return new Blob([c],{type:b})};b.parseQueryString=function(b,a){void 0===a&&(a=!1);b=b.split("#")[0].split("&");for(var c={},e=0;e<b.length;e++){var d=b[e].split("="),f=void 0,k=d[0].replace(/\[\d*\]/,function(a){f=a.slice(1,-1);return""});d="undefined"===typeof d[1]?"true":d[1];a&&(k=k.toLowerCase());c[k]?("string"===typeof c[k]&&(c[k]=[c[k]]),"undefined"===typeof f?c[k].push(d):c[k][f]=d):c[k]=d}return c};
b.as_numeric=function(b){return f(b)(b)};b.AsNumeric=f;b.Dim=function(b,a){void 0===a&&(a=null);for(var c=[],e=0;e<b;e++)c.push(a);return c}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function b(b,d){void 0===b&&(b=null);void 0===d&&(d=null);this.key=b;this.value=d}b.prototype.valueOf=function(){return this.value};b.prototype.ToArray=function(){return[this.key,this.value]};b.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return b}(),NamedValue=function(){function b(b,d){void 0===b&&(b=null);void 0===d&&(d=null);this.name=b;this.value=d}Object.defineProperty(b.prototype,"TypeOfValue",{get:function(){return TypeInfo.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});b.prototype.valueOf=function(){return this.value};b.prototype.ToArray=function(){return[this.name,this.value]};b.prototype.toString=function(){return this.name};return b}(),Strings;
(function(b){function f(a,c){if(!a)return!1;c=a.match("string"==typeof c?new RegExp(c):c);return isNullOrUndefined(c)?!1:c[0]==a}function d(a){return a&&void 0!=a?a.length:0}b.x0=48;b.x9=57;b.asterisk=42;b.cr=99;b.lf=13;b.a=97;b.z=122;b.A=65;b.Z=90;b.numericPattern=/[-]?\d+(\.\d+)?/g;b.isNumericPattern=function(a){return f(a,b.numericPattern)};b.Lanudry=function(a){var c=Math.floor(Math.log(a)/Math.log(1E3));return b.sprintf("%.2f "+["B","KB","MB","GB","TB"][c],a/Math.pow(1E3,Math.floor(c)))};b.escapeXml=
function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};b.parseInt=function(a){if(b.Empty(a,!0))return 0;var c=[];for(var e=0;e<a.length;e++){var d=a.charAt(e);var f=d.charCodeAt(0);if(f>=b.x0&&f<=b.x9)c.push(d);else break}return 0==c.length?0:Number(c.join(""))};b.New=function(a,c){if(0==c)return"";if(1==c)return a;for(var e="",b=1;b<c;++b)e+=a;return e};b.round=function(a,
c){void 0===c&&(c=3);var e="number"==typeof a?a:parseFloat(a);c=Math.pow(10,c);return isNaN(e)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+a+"'"),!1):Math.round(e*c)/c};b.isNumber=function(a){a=a.charCodeAt(0);return a>=b.x0&&a<=b.x9};b.isAlphabet=function(a){a=a.charCodeAt(0);return a>=b.a&&a<=b.z||a>=b.A&&a<=b.Z};b.Val=function(a){return null==a||""==a||void 0==a||"undefined"==a?0:"NA"==a||"NaN"==a?Number.NaN:"Inf"==a?Number.POSITIVE_INFINITY:"-Inf"==a?Number.NEGATIVE_INFINITY:
parseFloat(a)};b.lineTokens=function(a){return a?a.trim().split("\n"):[]};b.GetTagValue=function(a,c){void 0===c&&(c=" ");if(a){var e=c;c=a.indexOf(e);var b=d(e);-1<c?(e=a.substr(0,c),a=a.substr(c+b),a=new NamedValue(e,a)):a=new NamedValue(a,"");return a}return new NamedValue};b.PeekLines=function(a,c){for(var e=0,b=[],d=0;d<c;d++){var f=a.indexOf("\n",e);if(-1<f)b.push(a.substr(e,f-e)),e=f;else break}return b};b.getAllMatches=function(a,c){var e,b=[];"string"==typeof c&&(c=new RegExp(c));if(c.global)for(;e=
c.exec(a);)b.push(e);else(e=c.exec(a))&&b.push(e);return b};b.Trim=function(a,c){void 0===c&&(c=null);if(b.Empty(a,!1))return"";if(isNullOrUndefined(c))return a.trim();"string"==typeof c&&(c=From(b.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(b.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().JoinBy("")}(c)};b.LTrim=function(a,c){void 0===
c&&(c=" ");if(b.Empty(a,!1))return"";"string"==typeof c&&(c=From(b.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(b.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).JoinBy("")}(c)};b.RTrim=function(a,c){void 0===c&&(c=" ");if(b.Empty(a,!1))return"";"string"==typeof c&&(c=From(b.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));for(var e=b.ToCharArray(a),d=0,f=e.length-1;0<f;f--)if(-1==c.indexOf(e[f].charCodeAt(0))){d=
f;break}return 0==d?"":a.substr(0,d+1)};b.Empty=function(a,c){void 0===c&&(c=!1);return a?void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!c||"undefined"!=a&&"null"!=a&&"NULL"!=a?!1:!0:!0};b.Blank=function(a,c){void 0===c&&(c=!1);return!a||f(a,/\s+/g)?!0:void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!c||"\\s"!=a&&"\\t"!=a?!1:!0};b.IsPattern=f;b.Unique=function(a){var c={};return a.filter(function(a){return c.hasOwnProperty(a)?!1:c[a]=!0})};b.ToCharArray=function(a,c){void 0===c&&(c=!1);var e=
[],b=a.length;if(c)for(c=0;c<b;++c)e.push(a.charCodeAt(c));else for(c=0;c<b;++c)e.push(a.charAt(c));return e};b.Len=d;b.CompareTo=function(a,c){for(var e=b.Len(a),d=b.Len(c),f=Math.min(e,d),k=0;k<f;k++){var l=a.charCodeAt(k),m=c.charCodeAt(k);if(l>m)return 1;if(l<m)return-1}return e>d?1:e<d?-1:0};b.sprintf=data.sprintf.doFormat;b.WrappingLines=function(a,c,e){void 0===c&&(c=200);void 0===e&&(e=!1);var d="";a=b.lineTokens(a);for(var f,k=0;k<a.length;k++){var l=e?b.Trim(a[k]):a[k];if(l.length<c)d=d+
l+"\n";else for(f=0;;)if(d=d+l.substr(f,c)+"\n",f+=c,f+c>l.length){d=d+l.substr(f)+"\n";break}}return d}})(Strings||(Strings={}));
var TypeInfo=function(){function b(){}Object.defineProperty(b.prototype,"IsPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"IsArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"IsEnumerator",{get:function(){return"object"==this.typeOf&&"IEnumerator"==this.class},enumerable:!0,configurable:!0});b.prototype.IsArrayOf=function(b){return this.IsArray&&this.class==b};b.getClass=
function(f){var d="object"==typeof f,a=Array.isArray(f),c=isNullOrUndefined(f);return b.getClassInternal(f,a,d,c)};b.getClassInternal=function(b,d,a,c){return d?(b=b[0],"object"==(d=typeof b)&&(d=b.constructor.name),d):a?c?(TypeScript.logging.outputWarning&&console.warn(TypeExtensions.objectIsNothing),"null"):b.constructor.name:""};b.typeof=function(f){var d=typeof f,a="object"==d,c=Array.isArray(f),e=isNullOrUndefined(f),h=new b,g=b.getClassInternal(f,c,a,e);h.typeOf=c?"array":d;h.class=g;e?(h.property=
[],h.methods=[]):(h.property=a?Object.keys(f):[],h.methods=b.GetObjectMethods(f));return h};b.GetObjectMethods=function(b){var d=[],a;for(a in b)"function"==typeof b[a]&&d.push(a);return d};b.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};b.CreateMetaReader=function(b){return new TypeScript.Data.MetaReader(Activator.CreateObject(b))};return b}(),MD5;
(function(b){b.safe_add=function(b,d){var a=(b&65535)+(d&65535);return(b>>16)+(d>>16)+(a>>16)<<16|a&65535};b.bit_rol=function(b,d){return b<<d|b>>>32-d};b.md5_cmn=function(f,d,a,c,e,h){return b.safe_add(b.bit_rol(b.safe_add(b.safe_add(d,f),b.safe_add(c,h)),e),a)};b.md5_ff=function(f,d,a,c,e,h,g){return b.md5_cmn(d&a|~d&c,f,d,e,h,g)};b.md5_gg=function(f,d,a,c,e,h,g){return b.md5_cmn(d&c|a&~c,f,d,e,h,g)};b.md5_hh=function(f,d,a,c,e,h,g){return b.md5_cmn(d^a^c,f,d,e,h,g)};b.md5_ii=function(f,d,a,c,e,
h,g){return b.md5_cmn(a^(d|~c),f,d,e,h,g)};b.binl_md5=function(f,d){var a=1732584193,c=-271733879,e=-1732584194,h=271733878;f[d>>5]|=128<<d%32;f[(d+64>>>9<<4)+14]=d;for(var g=0;g<f.length;g+=16){d=a;var k=c;var l=e;var m=h;a=b.md5_ff(a,c,e,h,f[g],7,-680876936);h=b.md5_ff(h,a,c,e,f[g+1],12,-389564586);e=b.md5_ff(e,h,a,c,f[g+2],17,606105819);c=b.md5_ff(c,e,h,a,f[g+3],22,-1044525330);a=b.md5_ff(a,c,e,h,f[g+4],7,-176418897);h=b.md5_ff(h,a,c,e,f[g+5],12,1200080426);e=b.md5_ff(e,h,a,c,f[g+6],17,-1473231341);
c=b.md5_ff(c,e,h,a,f[g+7],22,-45705983);a=b.md5_ff(a,c,e,h,f[g+8],7,1770035416);h=b.md5_ff(h,a,c,e,f[g+9],12,-1958414417);e=b.md5_ff(e,h,a,c,f[g+10],17,-42063);c=b.md5_ff(c,e,h,a,f[g+11],22,-1990404162);a=b.md5_ff(a,c,e,h,f[g+12],7,1804603682);h=b.md5_ff(h,a,c,e,f[g+13],12,-40341101);e=b.md5_ff(e,h,a,c,f[g+14],17,-1502002290);c=b.md5_ff(c,e,h,a,f[g+15],22,1236535329);a=b.md5_gg(a,c,e,h,f[g+1],5,-165796510);h=b.md5_gg(h,a,c,e,f[g+6],9,-1069501632);e=b.md5_gg(e,h,a,c,f[g+11],14,643717713);c=b.md5_gg(c,
e,h,a,f[g],20,-373897302);a=b.md5_gg(a,c,e,h,f[g+5],5,-701558691);h=b.md5_gg(h,a,c,e,f[g+10],9,38016083);e=b.md5_gg(e,h,a,c,f[g+15],14,-660478335);c=b.md5_gg(c,e,h,a,f[g+4],20,-405537848);a=b.md5_gg(a,c,e,h,f[g+9],5,568446438);h=b.md5_gg(h,a,c,e,f[g+14],9,-1019803690);e=b.md5_gg(e,h,a,c,f[g+3],14,-187363961);c=b.md5_gg(c,e,h,a,f[g+8],20,1163531501);a=b.md5_gg(a,c,e,h,f[g+13],5,-1444681467);h=b.md5_gg(h,a,c,e,f[g+2],9,-51403784);e=b.md5_gg(e,h,a,c,f[g+7],14,1735328473);c=b.md5_gg(c,e,h,a,f[g+12],20,
-1926607734);a=b.md5_hh(a,c,e,h,f[g+5],4,-378558);h=b.md5_hh(h,a,c,e,f[g+8],11,-2022574463);e=b.md5_hh(e,h,a,c,f[g+11],16,1839030562);c=b.md5_hh(c,e,h,a,f[g+14],23,-35309556);a=b.md5_hh(a,c,e,h,f[g+1],4,-1530992060);h=b.md5_hh(h,a,c,e,f[g+4],11,1272893353);e=b.md5_hh(e,h,a,c,f[g+7],16,-155497632);c=b.md5_hh(c,e,h,a,f[g+10],23,-1094730640);a=b.md5_hh(a,c,e,h,f[g+13],4,681279174);h=b.md5_hh(h,a,c,e,f[g],11,-358537222);e=b.md5_hh(e,h,a,c,f[g+3],16,-722521979);c=b.md5_hh(c,e,h,a,f[g+6],23,76029189);a=
b.md5_hh(a,c,e,h,f[g+9],4,-640364487);h=b.md5_hh(h,a,c,e,f[g+12],11,-421815835);e=b.md5_hh(e,h,a,c,f[g+15],16,530742520);c=b.md5_hh(c,e,h,a,f[g+2],23,-995338651);a=b.md5_ii(a,c,e,h,f[g],6,-198630844);h=b.md5_ii(h,a,c,e,f[g+7],10,1126891415);e=b.md5_ii(e,h,a,c,f[g+14],15,-1416354905);c=b.md5_ii(c,e,h,a,f[g+5],21,-57434055);a=b.md5_ii(a,c,e,h,f[g+12],6,1700485571);h=b.md5_ii(h,a,c,e,f[g+3],10,-1894986606);e=b.md5_ii(e,h,a,c,f[g+10],15,-1051523);c=b.md5_ii(c,e,h,a,f[g+1],21,-2054922799);a=b.md5_ii(a,
c,e,h,f[g+8],6,1873313359);h=b.md5_ii(h,a,c,e,f[g+15],10,-30611744);e=b.md5_ii(e,h,a,c,f[g+6],15,-1560198380);c=b.md5_ii(c,e,h,a,f[g+13],21,1309151649);a=b.md5_ii(a,c,e,h,f[g+4],6,-145523070);h=b.md5_ii(h,a,c,e,f[g+11],10,-1120210379);e=b.md5_ii(e,h,a,c,f[g+2],15,718787259);c=b.md5_ii(c,e,h,a,f[g+9],21,-343485551);a=b.safe_add(a,d);c=b.safe_add(c,k);e=b.safe_add(e,l);h=b.safe_add(h,m)}return[a,c,e,h]};b.binl2rstr=function(b){for(var d="",a=0;a<32*b.length;a+=8)d+=String.fromCharCode(b[a>>5]>>>a%32&
255);return d};b.rstr2binl=function(b){var d=[];d[(b.length>>2)-1]=void 0;for(var a=0;a<d.length;a+=1)d[a]=0;for(a=0;a<8*b.length;a+=8)d[a>>5]|=(b.charCodeAt(a/8)&255)<<a%32;return d};b.rstr_md5=function(f){return b.binl2rstr(b.binl_md5(b.rstr2binl(f),8*f.length))};b.rstr_hmac_md5=function(f,d){var a=b.rstr2binl(f),c=[],e=[];c[15]=e[15]=void 0;16<a.length&&(a=b.binl_md5(a,8*f.length));for(f=0;16>f;f+=1)c[f]=a[f]^909522486,e[f]=a[f]^1549556828;a=c.concat(b.rstr2binl(d));a=b.binl_md5(a,512+8*d.length);
a=e.concat(a);a=b.binl_md5(a,640);return b.binl2rstr(a)};b.rstr2hex=function(b){for(var d="",a,c=0;c<b.length;c+=1)a=b.charCodeAt(c),d+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return d};b.str2rstr_utf8=function(b){return unescape(encodeURIComponent(b))};b.raw_md5=function(f){return b.rstr_md5(b.str2rstr_utf8(f))};b.hex_md5=function(f){return b.rstr2hex(b.raw_md5(f))};b.raw_hmac_md5=function(f,d){return b.rstr_hmac_md5(b.str2rstr_utf8(f),b.str2rstr_utf8(d))};b.hex_hmac_md5=
function(f,d){return b.rstr2hex(b.raw_hmac_md5(f,d))};b.calculate=function(f,d,a){void 0===d&&(d=null);void 0===a&&(a=null);return d?a?b.raw_hmac_md5(d,f):b.hex_hmac_md5(d,f):a?b.raw_md5(f):b.hex_md5(f)}})(MD5||(MD5={}));
(function(b){var f=function(d){function a(a){return d.call(this,a)||this}__extends(a,d);a.Dump=function(){var c=Error().stack.split("\n");c=From(c).Skip(2).Select(b.StackFrame.Parse);return new a(c)};a.GetCallerMember=function(){return a.Dump().ToArray()[2]};a.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(c){a.AppendLine("  at "+c.toString())});return a.toString()};return a}(IEnumerator);b.StackTrace=f})(Internal||(Internal={}));
var Dictionary=function(b){function f(d){void 0===d&&(d=null);var a=b.call(this,f.ObjectMaps(d))||this;isNullOrUndefined(d)?a.maps={}:Array.isArray(d)?a.maps=Activator.CreateObject(d):"IEnumerator"==TypeInfo.typeof(d).class?a.maps=Activator.CreateObject(d):a.maps=d;return a}__extends(f,b);Object.defineProperty(f.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});f.prototype.Item=function(b){void 0===b&&(b=null);b||(b=Internal.StackTrace.GetCallerMember().memberName);
return"string"==typeof b?this.maps[b]:this.sequence[b].value};Object.defineProperty(f.prototype,"Keys",{get:function(){return From(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"Values",{get:function(){return this.Select(function(b){return b.value})},enumerable:!0,configurable:!0});f.FromMaps=function(b){return new f(b)};f.FromNamedValues=function(b){return new f(Activator.CreateObject(b))};f.MapSequence=function(b){return new IEnumerator(this.ObjectMaps(b))};
f.ObjectMaps=function(b){var a=TypeInfo.typeof(b);return isNullOrUndefined(b)?[]:Array.isArray(b)?b:"IEnumerator"==a.class?b.ToArray():From(Object.keys(b)).Select(function(a){return new MapTuple(a,b[a])}).ToArray()};f.prototype.ContainsKey=function(b){return b in this.maps};f.prototype.Add=function(b,a){this.maps[b]=a;this.sequence=f.ObjectMaps(this.maps);return this};f.prototype.Delete=function(b){b in this.maps&&(delete this.maps[b],this.sequence=f.ObjectMaps(this.maps));return this};return f}(IEnumerator),
TypeScript;
(function(b){var f;(function(a){a.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;a.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;a.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig})(f=b.URLPatterns||(b.URLPatterns={}));var d=function(){function a(c){var b=Strings.GetTagValue(c,"://");this.protocol=b.name;b=Strings.GetTagValue(b.value,"/");this.origin=b.name;b=Strings.GetTagValue(b.value,"?");this.path=b.name;this.fileName=Strings.Empty(this.path)?"":TsLinq.PathHelper.basename(this.path);this.hash=
From(c.split("#")).Last;0>c.indexOf("#")&&(this.hash="");c=a.UrlQuery(b.value);this.queryArguments=Dictionary.MapSequence(c).Select(function(a){return new NamedValue(a.key,a.value)})}Object.defineProperty(a.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});a.prototype.getArgument=function(a,b,d){void 0===b&&(b=!0);void 0===d&&(d="");if(Strings.Empty(a,!1))return"";b||(a=a.toLowerCase());return this.queryArguments.Where(function(c){return b?c.name==
a:c.name.toLowerCase()==a}).FirstOrDefault({value:d}).value};a.UrlQuery=function(a){return a?DataExtensions.parseQueryString(a,!1):{}};a.JumpToHash=function(a){window.scrollTo(0,$ts(a).offsetTop)};a.SetHash=function(a){history.pushState?history.pushState(null,null,a):location.hash=a};a.WindowLocation=function(){return new a(window.location.href)};a.prototype.toString=function(){var a=From(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),b=this.protocol+"://"+
this.origin+"/"+this.path;a&&(b=b+"?"+a);this.hash&&(b=b+"#"+this.hash);return b};a.Refresh=function(a){return a+"&refresh="+1E4*Math.random()};a.getHostName=function(a){a=a.match(f.hostNamePattern);return null!=a&&2<a.length&&"string"===typeof a[2]&&0<a[2].length?a[2]:null};a.ParseAllUrlStrings=function(a){var c=[],b=0;for(a=Strings.getAllMatches(a,f.urlPattern);b<a.length;b++)c.push(a[b][0]);return c};a.IsWellFormedUriString=function(a){var b=a.match(f.uriPattern);if(isNullOrUndefined(b))return!1;
b=b[0];return Strings.Empty(b,!0)?!1:0==a.indexOf(b)};return a}();b.URL=d})(TypeScript||(TypeScript={}));var TsLinq;
(function(b){(function(b){b.basename=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?b[0]:(new IEnumerator(b)).Take(b.length-1).JoinBy(".")};b.extensionName=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?"":b[b.length-1]};b.fileName=function(b){return From(Strings.RTrim(b,"/").split("/")).Last}})(b.PathHelper||(b.PathHelper={}))})(TsLinq||(TsLinq={}));var Modes;
(function(b){b[b.debug=0]="debug";b[b.development=10]="development";b[b.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(b){function f(a,b){var c=$ts("<a>");if("download"in c){c.download=a;c.style.display="none";document.body.appendChild(c);try{var e=DataExtensions.uriToBlob(b),d=URL.createObjectURL(e);c.href=d;c.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(d)})}}catch(l){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),c.href=b}c.click();document.body.removeChild(c)}else window.open(b,"_temp","menubar=no,toolbar=no,status=no")}
function d(b,e,d){void 0===e&&(e=null);void 0===d&&(d=null);var c=$ts("<thead>"),f=$ts("<tbody>");var h=Array.isArray(b)?a(e||$ts(Object.keys(b[0]))):a(e||$ts(Object.keys(b.First)));var m=function(a){var b=$ts("<tr>");h.forEach(function(c){return b.appendChild($ts("<td>").display(a[c.key]))});return b};Array.isArray(b)?b.forEach(function(a){return f.appendChild(m(a))}):b.ForEach(function(a){return f.appendChild(m(a))});h.forEach(function(a){return c.appendChild($ts("<th>",{id:a.value}).display(a.value))});
return $ts("<table>",d).asExtends.append(c).append(f).HTMLElement}function a(a){var b=TypeInfo.typeof(a);if(b.IsArrayOf("string"))return From(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.IsArrayOf(TypeExtensions.DictionaryMap))return a;if(b.IsEnumerator&&"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.IsEnumerator&&TypeInfo.getClass(a.First)==TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+b.class;}b.download=
function(a,b){navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(b),a):f(a,b)};b.clientSize=function(){var a=window,b=document,d=b.documentElement;b=b.getElementsByTagName("body")[0];return[a.innerWidth||d.clientWidth||b.clientWidth,a.innerHeight||d.clientHeight||b.clientHeight]};b.AddSelectOptions=function(a,b,d,f){void 0===d&&(d=null);void 0===f&&(f=null);a=From(a).Select(function(a){return'<option value="'+a.value+'">'+a.key+"</option>"}).JoinBy("\n");d=isNullOrUndefined(d)&&
isNullOrUndefined(f)?a:'\n                <select class="'+f+'" multiple name="'+d+'">\n                    '+a+"\n                </select>";$ts("#"+b).innerHTML=d};b.CreateHTMLTableNode=d;b.AddHTMLTable=function(a,b,f,g){void 0===f&&(f=null);void 0===g&&(g=null);var c=b+"-table";g?g.id||(g.id=c):g={id:c};$ts(b).appendChild(d(a,f,g))}})(DOM||(DOM={}));
(function(b){(function(b){function d(b){return"checkbox"==b.type?a(b):b.value}function a(a){var b=document.getElementsByName(a.name),c=[];if(1==b.length)return a.checked;b.forEach(function(a){var b=a.value;a.checked&&c.push(b)});return c}function c(a){var b=[],c=0;for(a=e(a);c<a.length;c++){var d=a[c],f=d.value;f||(f=d.innerText);b.push(f)}return b}function e(a){for(var b=[],c,e=0,d=a.options.length;e<d;e++)c=a.options[e],c.selected&&b.push(c);return b}b.metaValue=function(a,b,c){void 0===b&&(b=null);
void 0===c&&(c=!1);a='meta[name~="'+a+'"]';var e=document.querySelector(a);!e&&c&&(e=parent.window.document.querySelector(a));e?b=(c=e.getAttribute("content"))?c:b:TypeScript.logging.outputWarning&&console.warn(a+" not found in current context!");return b};b.getValue=function(a,b){void 0===b&&(b=!0);a=$ts(Internal.Handlers.EnsureNodeId(a));switch(a.tagName){case "input":return d(a);case "select":return c(a);case "textarea":break;default:if(b)throw"Get value of <"+a.tagName+"> is not supported!";return a.getAttribute("value")}};
b.inputValue=d;b.checkboxInput=a;b.selectOptionValues=c;b.getSelectedOptions=e;b.largeText=function(a){}})(b.InputValueGetter||(b.InputValueGetter={}))})(DOM||(DOM={}));
(function(b){var f=function(){function b(a,b){void 0===b&&(b=null);"number"!=typeof a||isNullOrUndefined(b)?(this.min=a.min,this.max=a.max):(this.min=a,this.max=b)}Object.defineProperty(b.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});b.Create=function(a){var c=Array.isArray(a)?$ts(a):a;a=c.Min();c=c.Max();return new b(a,c)};b.prototype.IsInside=
function(a){return a>=this.min&&a<=this.max};b.prototype.ScaleMapping=function(a,b){return(a-this.min)/this.Length*(b.max-b.min)+b.min};b.prototype.PopulateNumbers=function(a){void 0===a&&(a=this.Length/10);for(var b=[],e=this.min;e<this.max;e+=a)b.push(e);return b};b.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return b}();b.NumericRange=f})(data||(data={}));
(function(b){function f(b){b.post=function(b,e,d,f){e={type:HttpHelpers.measureContentType(e),data:e,sendContentType:(f||{}).sendContentType||!0};HttpHelpers.POST(a(b),e,function(a){d&&d(c(a))})};b.getText=function(b,c,e){void 0===e&&(e={nullForNotFound:!1});HttpHelpers.GetAsyn(a(b),function(a,b){200!=b?e.nullForNotFound?c(""):c(a):c(a)})};b.get=function(b,e){HttpHelpers.GetAsyn(a(b),function(a){e&&e(c(a))})};b.upload=function(b,e,d){HttpHelpers.UploadFile(a(b),e,null,function(a){d&&d(c(a))})};b.location=
d();b.parseURL=function(a){return new TypeScript.URL(a)};b.goto=function(a,b){void 0===b&&(b={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(b.lambda)return function(){Goto(a,b.currentFrame)};Goto(a,b.currentFrame)}};return b}function d(){var a=TypeScript.URL.WindowLocation(),b=function(b,c,e){void 0===c&&(c=!0);void 0===e&&(e="");return a.getArgument(b,c,e)};b.path=a.path||"/";b.fileName=a.fileName;b.hash=function(a,b){void 0===a&&(a={trimprefix:!0,doJump:!1});
void 0===b&&(b=null);if(isNullOrUndefined(b))return b=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,b&&a&&1<b.length?b.substr(1):isNullOrUndefined(b)?"":b;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=b:TypeScript.URL.SetHash(b)};return b}function a(a,b){void 0===b&&(b=!1);if("@"==a.charAt(0)){for(var c=[],e,d=1;d<a.length;d++){var f=e=a.charAt(d);f=-1<l.indexOf(f)?!0:Strings.isNumber(f)||Strings.isAlphabet(f);if(f)c.push(e);else break}e=c.join("");a=DOM.InputValueGetter.metaValue(e,
e,!b)+a.substr(c.length+1)}return a}function c(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function e(a,c){a.imports=function(a,b,c,e){void 0===b&&(b=DoNothing);void 0===c&&(c=!1);void 0===e&&(e=!1);return(new HttpHelpers.Imports(a,c,e)).doLoad(b)};a.eval=function(a,b,c){void 0===b&&(b=!1);b&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,c)};a.value=DOM.InputValueGetter.getValue;a.inject=function(a,b){a=$ts(a).contentWindow;
TypeScript.logging.outputEverything&&console.log(b);if(Array.isArray(b))for(var c=0;c<b.length;c++)a.eval(b[c].toString());else"string"==typeof b?a.eval(b):a.eval(b.toString())};a.text=function(a,e){void 0===e&&(e=!1);a=b.Handlers.EnsureNodeId(a);a=c.doEval(a,null,null);return e?a.innerHTML:a.innerText};a.loadJSON=function(b){return JSON.parse(a.text(b))};a.parseFileName=TsLinq.PathHelper.fileName;a.baseName=TsLinq.PathHelper.basename;a.extensionName=TsLinq.PathHelper.extensionName;a.withExtensionName=
function(a,b){return $ts.extensionName(a).toLowerCase()==b.toLowerCase()};a.doubleRange=data.NumericRange.Create;return a}function h(a){a.isNullOrEmpty=function(a){return IsNullOrEmpty(a)};a.from=From;a.csv={toObjects:function(a){return csv.dataframe.Parse(a).Objects()},toText:function(a){return csv.toDataFrame(a).buildDoc()}};a.evalHTML={table:DOM.CreateHTMLTableNode,selectOptions:DOM.AddSelectOptions};a.appendTable=DOM.AddHTMLTable;return a}function g(a){a.select=function(a,c){void 0===c&&(c=window);
return b.Handlers.stringEval.select(a,c)};a.select.getSelectedOptions=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return new DOMEnumerator(a)};a.select.getOption=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return 0==a.length?null:a[0].value};return a}function k(a,c,e){var d=TypeInfo.typeof(c),f=d.typeOf,h=f in a?a[f]():null;if("object"!=f||"HTMLCollection"!=d.class&&"NodeListOf"!=
d.class){if(d.IsArray)return h.doEval(c,d,e);if("function"==d.typeOf)TypeScript.logging.outputEverything&&!isNullOrUndefined(e)&&"HTMLIFrameElement"==TypeInfo.getClass(e)&&(console.log("Apply a new ready event on iframe:"),console.log(e)),DOM.Events.ready(c,["interactive","complete"],e);else{if(isNullOrUndefined(eval)){a=a[d.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+d.toString();return a().doEval(c,d,e)}return h.doEval(c,d,e)}}else return b.Handlers.Shared.HTMLCollection().doEval(c,
d,e)}b.StringEval=new b.Handlers.stringEval;b.Static=function(){var a=b.Handlers.Shared,c=function(b,c){return k(a,b,c)},d=a.string();c.mode=Modes.production;c=e(c,d);c=h(c);c=f(c);return c=g(c)};var l=[":","_"];b.urlSolver=a;b.queryFunction=k})(Internal||(Internal={}));"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(b){return this.slice(0,b.length)==b});
function $imports(b,f,d,a){void 0===f&&(f=DoNothing);void 0===d&&(d=!1);void 0===a&&(a=!1);return(new HttpHelpers.Imports(b,d,a)).doLoad(f)}function $include(b){"string"==typeof b&&(b=[b]);$ts(function(){return b.forEach(function(b){var d=$ts("<script>",{type:"text/javascript",src:b});d.onload=function(){document.body.removeChild(d)};document.body.appendChild(d)})})}function md5(b,f,d){void 0===f&&(f=null);void 0===d&&(d=null);return MD5.calculate(b,f,d)}
function From(b){return new IEnumerator(b)}function CharEnumerator(b){return new IEnumerator(Strings.ToCharArray(b))}function IsNullOrEmpty(b){return null==b||void 0==b?!0:Array.isArray(b)&&0==b.length?!0:0==b.Count?!0:!1}function isNullOrUndefined(b){return null==b||void 0==b?!0:!1}function LoadJson(b){return JSON.parse(LoadText(b))}function LoadText(b){return document.getElementById(b).textContent}
function getAllUrlParams(b){void 0===b&&(b=window.location.href);return-1<b.indexOf("?")?(b=Strings.GetTagValue(b,"?").value,b=DataExtensions.parseQueryString(b),new Dictionary(b)):new Dictionary({})}function Goto(b,f){void 0===f&&(f=!1);var d=window;f||(d=window.top);d.location.href=Internal.urlSolver(b,f)}function base64_decode(b){b=Strings.lineTokens(b);b=From(b).Where(function(b){return b&&0<b.length}).Select(function(b){return b.trim()}).JoinBy("");return Base64.decode(b)}
function DoNothing(){return null}function saveSvgAsPng(b,f,d){void 0===d&&(d=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(b,f,d)}var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static();function $image(b,f){return Internal.StringEval.doEval(b,null,f)}function $input(b,f){return Internal.StringEval.doEval(b,null,f)}function $link(b,f){return Internal.StringEval.doEval(b,null,f)}var TypeExtensions;
(function(b){b.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";b.DictionaryMap=TypeInfo.getClass(new MapTuple("",""));b.ensureNumeric=function(b){return"number"==typeof b?b:parseFloat(b)}})(TypeExtensions||(TypeExtensions={}));
var Group=function(b){function f(d,a){a=b.call(this,a)||this;a.Key=d;return a}__extends(f,b);Object.defineProperty(f.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});f.prototype.ToMaps=function(){var b=this;return From(this.sequence).Select(function(a){return new MapTuple(b.Key,a)}).ToArray()};return f}(IEnumerator),List=function(b){function f(d){void 0===d&&(d=null);return b.call(this,d||[])||this}__extends(f,b);f.prototype.Add=function(b){this.sequence.push(b);
return this};f.prototype.AddRange=function(b){var a=this;Array.isArray(b)?b.forEach(function(b){return a.sequence.push(b)}):b.ForEach(function(b){return a.sequence.push(b)});return this};f.prototype.IndexOf=function(b){return this.sequence.indexOf(b)};f.prototype.Pop=function(){var b=this.First;this.sequence=this.sequence.slice(1);return b};return f}(IEnumerator),Matrix=function(b){function f(d,a,c){void 0===c&&(c=null);return b.call(this,f.emptyMatrix(d,a,c))||this}__extends(f,b);Object.defineProperty(f.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});f.emptyMatrix=function(b,a,c){for(var e=[],d=0;d<a;d++)e.push(DataExtensions.Dim(b,c));return e};f.prototype.M=function(b,a,c){void 0===c&&(c=null);if(isNullOrUndefined(c))return this.sequence[b][a];this.sequence[b][a]=c};f.prototype.column=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a)){a=
[];for(var c=0;c<this.rows;c++)a.push(this.sequence[c][b]);return a}a=Array.isArray(a)?a:a.ToArray(!1);for(c=0;c<this.rows;c++)this.sequence[c][b]=a[c];return null};f.prototype.row=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[b];Array.isArray(a)?this.sequence[b]=a:this.sequence[b]=a.ToArray(!1)};f.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return f}(IEnumerator),Pointer=function(b){function f(d){d=b.call(this,d)||this;d.p=0;return d}
__extends(f,b);Object.defineProperty(f.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"Next",{get:function(){var b=this.Current;this.p+=1;return b},enumerable:!0,configurable:!0});f.prototype.MoveNext=function(){this.p+=1;return this};f.prototype.Peek=function(b){return this.sequence[this.p+b]};return f}(IEnumerator),
SlideWindow=function(b){function f(d,a){a=b.call(this,a)||this;a.index=d;return a}__extends(f,b);f.Split=function(b,a,c){void 0===c&&(c=1);Array.isArray(b)||(b=b.ToArray());for(var e=b.length-a,d=[],g=0;g<e;g+=c){for(var k=Array(a),l=0;l<a;l++)k[l]=b[g+l];d.push(new f(g,k))}return new IEnumerator(d)};return f}(IEnumerator),Which;
(function(b){function f(a,b){void 0===b&&(b=d.default());for(var c=null,f=0,g=0;g<a.Count;g++)0<b(a.ElementAt(g),c)&&(c=a.ElementAt(g),f=g);return f}b.Is=function(a){Array.isArray(a)&&(a=new IEnumerator(a));return a.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var d=function(){function a(){this.as_numeric=null}a.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=DataExtensions.AsNumeric(a),this.as_numeric||(this.as_numeric=
DataExtensions.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};a.default=function(){return(new a).compares};return a}();b.DefaultCompares=d;b.Max=f;b.Min=function(a,b){void 0===b&&(b=d.default());return f(a,function(a,c){return-b(a,c)})}})(Which||(Which={}));
(function(b){var f=function(){function d(){}d.parseQuery=function(a){if("&"==a.charAt(0)){var b=!0;a=a.substr(1)}else b=!1;return d.parseExpression(a,b)};d.getById=function(a){return{type:b.QueryTypes.id,singleNode:!0,expression:a}};d.getByClass=function(a,c){return{type:b.QueryTypes.class,singleNode:c,expression:a}};d.getByTag=function(a,c){return{type:b.QueryTypes.tagName,singleNode:c,expression:a}};d.createElement=function(a){return{type:b.QueryTypes.NoQuery,singleNode:!0,expression:a}};d.queryMeta=
function(a){return{type:b.QueryTypes.QueryMeta,singleNode:!0,expression:a}};d.isSelectorQuery=function(a){var b=-1<a.indexOf(" ");a="<"==a.charAt(0)&&">"==a.charAt(a.length-1);return b&&!a};d.parseExpression=function(a,c){var e=a.charAt(0);if(d.isSelectorQuery(a))return{type:b.QueryTypes.tagName,singleNode:c,expression:a};switch(e){case "#":return this.getById(a.substr(1));case ".":return this.getByClass(a,c);case "<":return this.createElement(a);case "@":return this.queryMeta(a.substr(1));default:return this.getByTag(a,
c)}};return d}();b.Query=f})(DOM||(DOM={}));(function(b){b=b.QueryTypes||(b.QueryTypes={});b[b.NoQuery=0]="NoQuery";b[b.id=1]="id";b[b["class"]=10]="class";b[b.tagName=-100]="tagName";b[b.QueryMeta=200]="QueryMeta"})(DOM||(DOM={}));
(function(b){(function(b){function d(a,b,e){if(document.addEventListener)if(a&&a.nodeName||a===window)a.addEventListener(b,e,!1);else{if(a&&a.length)for(var c=0;c<a.length;c++)d(a[c],b,e)}else if(a&&a.nodeName||a===window)a.attachEvent("on"+b,function(){return e.call(a,window.event)});else if(a&&a.length)for(c=0;c<a.length;c++)d(a[c],b,e)}b.ready=function(a,b,e){void 0===b&&(b=["interactive","complete"]);void 0===e&&(e=null);var c=isNullOrUndefined(e)?document:isNullOrUndefined(e.contentDocument)?
e.contentWindow.document:e.contentDocument;if("function"===typeof a){if(isNullOrUndefined(c)){if($ts.mode==Modes.production){console.warn("Target document object is nothing! Current event will not be handled....");return}if($ts.mode==Modes.debug){console.warn("Target document object is nothing! Current event will not be handled....");console.log("target iframe:");console.warn(e.contentWindow);return}}else TypeScript.logging.outputEverything&&(console.log("Add Document.ready event handler."),console.log("document.readyState = "+
c.readyState));if(-1<b.indexOf(c.readyState))return a();c.addEventListener("DOMContentLoaded",a,!1)}};b.addEvent=d})(b.Events||(b.Events={}))})(DOM||(DOM={}));
(function(b){var f=function(){function b(){}b.FromNode=function(a){var c=new b;c.tagName=a.tagName;c.id=a.id;c.classList=this.tokenList(a.classList);c.attrs=this.nameValueMaps(a.attributes);return c};b.tokenList=function(a){for(var b=[],e=0;e<a.length;e++)b.push(a.item(e));return b};b.nameValueMaps=function(a){for(var b=[],e,d=0;d<a.length;d++)e=a.item(d),e=new NamedValue(e.name,e.value),b.push(e);return b};return b}();b.node=f})(DOM||(DOM={}));
(function(b){b.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;b.ParseNodeDeclare=function(f){f=f.substr(1,f.length-2).trim();f=Strings.GetTagValue(f," ");var d=f.name,a=[];0<f.value.length&&(a=From(f.value.match(b.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var b=a.value.trim();b=b.substr(1,b.length-2);return new NamedValue(a.name,b)}).ToArray());return{tag:d,attrs:a}}})(DOM||(DOM={}));
var HTMLTsElement=function(){function b(b){this.node=b instanceof HTMLElement?b:b.node}Object.defineProperty(b.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});b.prototype.display=function(f){if(f)if("string"==typeof f||"number"==typeof f||"boolean"==typeof f)this.HTMLElement.innerHTML=f.toString();else{var d=this.HTMLElement;f="function"==typeof f?f():f instanceof b?f.HTMLElement:f;d.innerHTML="";d.appendChild(f)}else this.HTMLElement.innerHTML="";return this};
b.prototype.clear=function(){this.HTMLElement.innerHTML="";return this};b.prototype.text=function(b){this.HTMLElement.innerText=b;return this};b.prototype.addClass=function(b){var d=this.HTMLElement;d.classList.contains(b)||d.classList.add(b);return this};b.prototype.removeClass=function(b){var d=this.HTMLElement;d.classList.contains(b)&&d.classList.remove(b);return this};b.prototype.append=function(f){f instanceof b?this.HTMLElement.appendChild(f.HTMLElement):f instanceof HTMLElement?this.HTMLElement.appendChild(f):
this.HTMLElement.appendChild(f());return this};b.prototype.show=function(){this.HTMLElement.style.display="block";return this};b.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return b}();
(function(b){b.Extends=function(b){if(isNullOrUndefined(b))return null;var d=new HTMLTsElement(b);b.display=function(a){d.display(a);return b};b.show=function(){d.show();return b};b.hide=function(){d.hide();return b};b.addClass=function(a){d.addClass(a);return b};b.removeClass=function(a){d.removeClass(a);return b};b.CType=function(){return b};b.clear=function(){b.innerHTML="";return b};b.selects=function(a){return Internal.Handlers.stringEval.select(a,b)};b.asExtends=d;b.asImage=b;return b.asInput=
b}})(TypeExtensions||(TypeExtensions={}));(function(b){(function(b){var d=function(){function a(a){this.meta=a}a.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=Internal.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return a}();b.MetaReader=d})(b.Data||(b.Data={}))})(TypeScript||(TypeScript={}));
(function(b){var f=function(a){function b(){return a.call(this,[])||this}__extends(b,a);Object.defineProperty(b.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.enqueue=function(a){var b=this.Last,c=this.Q;a=new d(a);c.push(a);b&&(b.below=a,a.above=b)};b.prototype.extract=function(a){var b=this.Q,c=b[a-1],e=b[a+1];a=b.splice(a,1)[0];c&&(c.below=e);e&&(e.above=c);return a};b.prototype.dequeue=function(){return this.extract(0)};return b}(IEnumerator);b.PriorityQueue=
f;var d=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();b.QueueItem=d})(TsLinq||(TsLinq={}));var algorithm;
(function(b){(function(b){var d=function(){function a(a){void 0===a&&(a=function(a,b){a=DataExtensions.as_numeric(a);b=DataExtensions.as_numeric(b);return a-b});this.compares=a}a.prototype.add=function(a,e){void 0===e&&(e=null);var c=this.root;if(c)for(;c;){var d=this.compares(a,c.key);if(0==d){c.value=e;break}else if(0>d)if(c.left)c=c.left;else{c.left=new b.node(a,e);break}else if(c.right)c=c.right;else{c.right=new b.node(a,e);break}}else this.root=new b.node(a,e)};a.prototype.find=function(a){for(var b=
this.root,c;b;){c=this.compares(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null};a.prototype.ToArray=function(){return b.binaryTreeExtensions.populateNodes(this.root)};a.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return a}();b.binaryTree=d})(b.BTree||(b.BTree={}))})(algorithm||(algorithm={}));
(function(b){(function(b){(function(b){function a(b,e){isNullOrUndefined(b)?TypeScript.logging.outputWarning&&console.warn(b):(e.push(b),b.left&&a(b.left,e),b.right&&a(b.right,e))}b.populateNodes=function(b){var c=[];a(b,c);return c}})(b.binaryTreeExtensions||(b.binaryTreeExtensions={}))})(b.BTree||(b.BTree={}))})(algorithm||(algorithm={}));
(function(b){(function(b){var d=function(){function a(a,b,d,f){void 0===b&&(b=null);void 0===d&&(d=null);void 0===f&&(f=null);this.key=a;this.left=d;this.right=f;this.value=b}a.prototype.toString=function(){return this.key.toString()};return a}();b.node=d})(b.BTree||(b.BTree={}))})(algorithm||(algorithm={}));var Base64;
(function(b){var f=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;b.isValidBase64String=function(b){return b&&0==b.length%4?f.test(b):!1};b.encode=function(d){var a=[],c=0;for(d=b.utf8_encode(d);c<d.length;){var e=d.charCodeAt(c++);var f=d.charCodeAt(c++);var g=d.charCodeAt(c++);var k=e>>2;e=(e&3)<<4|f>>4;var l=(f&15)<<2|g>>6;var m=g&63;isNaN(f)?l=m=64:isNaN(g)&&(m=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m))}return a.join("")};b.decode=function(d){var a="",c=0;for(d=d.replace(/[^A-Za-z0-9+/=]/g,"");c<d.length;){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(c++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(c++));var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(c++));
var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(c++));e=e<<2|f>>4;f=(f&15)<<4|g>>2;var l=(g&3)<<6|k;a+=String.fromCharCode(e);64!=g&&(a+=String.fromCharCode(f));64!=k&&(a+=String.fromCharCode(l))}return a=b.utf8_decode(a)};b.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var c=0;c<b.length;c++){var e=b.charCodeAt(c);128>e?a.push(String.fromCharCode(e)):(127<e&&2048>e?a.push(String.fromCharCode(e>>6|192)):(a.push(String.fromCharCode(e>>12|224)),
a.push(String.fromCharCode(e>>6&63|128))),a.push(String.fromCharCode(e&63|128)))}return a.join("")};b.utf8_decode=function(b){for(var a=[],c=0,e,d,f;c<b.length;)e=b.charCodeAt(c),128>e?(a.push(String.fromCharCode(e)),c++):191<e&&224>e?(d=b.charCodeAt(c+1),a.push(String.fromCharCode((e&31)<<6|d&63)),c+=2):(d=b.charCodeAt(c+1),f=b.charCodeAt(c+2),a.push(String.fromCharCode((e&15)<<12|(d&63)<<6|f&63)),c+=3);return a.join("")}})(Base64||(Base64={}));var LZW;
(function(b){b.encode=function(b){var d={};b=(b+"").split("");for(var a=[],c,e=b[0],f=256,g=1;g<b.length;g++)c=b[g],null!=d[e+c]?e+=c:(a.push(1<e.length?d[e]:e.charCodeAt(0)),d[e+c]=f,f++,e=c);a.push(1<e.length?d[e]:e.charCodeAt(0));for(g=0;g<a.length;g++)a[g]=String.fromCharCode(a[g]);return a.join("")};b.decode=function(b){var d={};b=(b+"").split("");for(var a=b[0],c=a,e=[a],f=256,g,k=1;k<b.length;k++)g=b[k].charCodeAt(0),g=256>g?b[k]:d[g]?d[g]:c+a,e.push(g),a=g.charAt(0),d[f]=c+a,f++,c=g;return e.join("")}})(LZW||
(LZW={}));var Levenshtein;
(function(b){function f(a,b,e){void 0===e&&(e=d);a=Strings.ToCharArray(a,!0);b=Strings.ToCharArray(b,!0);if(0==a.length&&0==b.length)return[[0]];if(0==a.length)return[[$ts(b).Sum(function(a){return e.insert(a)})]];if(0==b.length)return[[$ts(a).Sum(function(a){return e.delete(a)})]];var c=a.length+1,f=b.length+1,k=new Matrix(c,f,0);k.column(0,Enumerable.Range(0,c-1));k.row(0,Enumerable.Range(0,f-1));for(var l=1;l<f;l++)for(var m=1;m<c;m++)k.M(m,l,Enumerable.Min(k.M(m-1,l)+e.delete(a[m-1]),k.M(m,l-
1)+e.insert(b[l-1]),k.M(m-1,l-1)+e.substitute(a[m-1],b[l-1])));return k.ToArray(!1)}var d={insert:function(a){return 1},delete:function(a){return 1},substitute:function(a,b){return a==b?0:1}};b.DistanceMatrix=f;b.ComputeDistance=function(a,b,e){void 0===e&&(e=d);a=f(a,b,e);return a[a.length-1][a[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function b(b,d){void 0===b&&(b=null);void 0===d&&(d="\n");this.buffer=b?"string"==typeof b?""+b:""+b.buffer:"";this.newLine=d}Object.defineProperty(b.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});b.prototype.Append=function(b){this.buffer+=b;return this};b.prototype.AppendLine=function(b){void 0===b&&(b="");return this.Append(b+this.newLine)};b.prototype.toString=function(){return this.buffer+""};return b}(),Bootstrap=function(){function b(){this.status=
"Sleep";this.hookUnload=null}Object.defineProperty(b.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});b.prototype.Init=function(){var b=this,d=this,a=this.getCurrentAppPage();(Router.isCaseSensitive()?a==this.appName:a.toLowerCase()==this.appName.toLowerCase())?(TypeScript.logging.outputEverything&&console.log("%c["+TypeInfo.typeof(this).class+
"] App(name:="+this.appName+") Init...","color:blue;"),$ts(function(){return b.OnDocumentReady()}),window.onload=function(){return b.OnWindowLoad()},window.onbeforeunload=function(){return b.OnWindowUnload()},window.onhashchange=function(){var a=window.location.hash.substr(1);d.OnHashChanged(a)},this.init(),this.status="Running"):TypeScript.logging.outputEverything&&console.log("%c["+TypeInfo.typeof(this).class+"] Continue Sleep as: TRUE = "+a+" <> "+this.appName,"color:green;")};b.prototype.OnDocumentReady=
function(){};b.prototype.OnWindowLoad=function(){};b.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};b.prototype.unhook=function(){this.hookUnload=null};b.prototype.OnHashChanged=function(b){};b.prototype.getCurrentAppPage=function(){return getAllUrlParams().Item("app")||"/"};b.prototype.toString=function(){return"["+this.status+"] "+this.appName};return b}(),Framework;
(function(b){(function(b){function d(a,b){void 0===b&&(b=-1);var c=TypeInfo.typeof(a);if(c.IsEnumerator)c=a.ToArray();else if(c.IsArray)c=a.slice();else if(0>=b)c=[a];else{c=[];for(var e=0;e<b;e++)c.push(a)}if(1<=b)if(b<c.length)c=c.slice(0,b);else if(b>c.length)for(e=c.length;e<b;e++)c.push(null);return c}function a(b,e){void 0===e&&(e=null);if(null==b||"object"!=typeof b||b.constructor!=Object&&b.constructor!=Array)return b;if(b.constructor==Date||b.constructor==RegExp||b.constructor==Function||
b.constructor==String||b.constructor==Number||b.constructor==Boolean)return new b.constructor(b);e=e||new b.constructor;for(var c in b)e[c]="undefined"==typeof e[c]?a(b[c],null):e[c];return e}b.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(d(a,b))};b.EnsureArray=d;b.extend=a})(b.Extensions||(b.Extensions={}))})(Framework||(Framework={}));(function(b){b.gc=function(){return b.garbageCollect.handler()}})(TypeScript||(TypeScript={}));
(function(b){var f=Modes.development,d=Modes.debug,a=Modes.production,c=function(){function b(){}Object.defineProperty(b,"outputWarning",{get:function(){return $ts.mode<=f},enumerable:!0,configurable:!0});Object.defineProperty(b,"outputEverything",{get:function(){return $ts.mode==d},enumerable:!0,configurable:!0});Object.defineProperty(b,"outputError",{get:function(){return $ts.mode==a},enumerable:!0,configurable:!0});b.log=function(a,b){this.outputEverything&&console.log(a)};return b}();b.logging=
c})(TypeScript||(TypeScript={}));var Router;
(function(b){function f(a,b){b(e[a])}function d(a,b){void 0===b&&(b="/");var c=TypeInfo.typeof(a);return{module:b,appName:a.appName,className:c.class,status:a.appStatus,hookUnload:a.appHookMsg}}function a(a){var b=TypeScript.URL.WindowLocation().hash;if(b=c.Item(b))"/"==b?(window.location.hash="",window.location.reload(!0)):$ts("#"+a).innerHTML=HttpHelpers.GET(b)}var c,e,h=!0;b.isCaseSensitive=function(){return h};b.CaseInsensitive=function(a){void 0===a&&(a=!0);h=!a};b.AddAppHandler=function(a,b){void 0===
b&&(b="/");isNullOrUndefined(e)&&(e={});b in e||(e[b]=new Dictionary({}));f(b,function(b){return b.Add(a.appName,a)})};var g={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};b.getAppSummary=d;b.RunApp=function(a){void 0===a&&(a="/");if(a in e)f(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in
g){a=!1;for(var b=0,c=Object.keys(g);b<c.length;b++){var h=c[b];if(h in e){f(h,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=[];Object.keys(e).forEach(function(a){f(a,function(b){b.ForEach(function(b){return k.push(d(b.value,a))})})});console.table(k)}};b.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};
b.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};b.register=function(e,d,f){void 0===e&&(e="app");void 0===d&&(d=null);void 0===f&&(f=!0);c||(c=new Dictionary({"/":"/"}));var h=d?"string"==typeof d?b.queryKey(d):d:function(a){return(new TypeScript.URL(a)).fileName};d=$ts(".router");d.attr("router-link",function(a){return a.href});d.attr("href","javascript:void(0);");d.onClick(function(a,c){b.goto(a.getAttribute("router-link"),e,h)});d.attr("router-link").ForEach(function(a){c.Add(h(a),
a)});a(e)};b.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};b.goto=function(a,c,e,d){b.IsTopWindowStack()?($ts("#"+c).innerHTML=HttpHelpers.GET(a),b.register(c,e,!1),window.location.hash=e(a)):parent.Router.goto(a,c,e,parent)}})(Router||(Router={}));
(function(b){(function(f){f.handler=function(){if("function"===typeof window.require){var d=window.require;try{d("v8").setFlagsFromString("--expose_gc");if(null!=window.global){var a=window.global;if("function"==typeof a.gc)return a.gc}var c=d("vm");if(null!=c&&"function"==typeof c.runInNewContext){var e=c.runInNewContext("gc");return function(){e()}}}catch(h){}}if("undefined"!==typeof window){if(window.CollectGarbage)return window.CollectGarbage;if(window.gc)return window.gc;if(window.opera&&window.opera.collect)return window.opera.collect}return"undefined"!==
typeof window.global&&(a=window.global,a.gc)?a.gc:function(){b.logging.outputEverything&&console.log("There is no gc handler could be found currently....")}}()})(b.garbageCollect||(b.garbageCollect={}))})(TypeScript||(TypeScript={}));
(function(b){var f=function(){function b(){}b.nameFilter=function(a){var b=this;return From(Object.keys(a)).Where(function(a){return-1==b.ArgumentNames.indexOf(a)}).ToArray()};b.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};b.ArgumentNames=Object.keys(b.Default());return b}();b.Arguments=f})(Internal||(Internal={}));
(function(b){var f=function(){function b(){}b.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};b.Parse=function(a){var c=new b,e=b.getFileName(a);a=a.replace(e,"").trim().substr(3);e=e.substr(1,e.length-2);if(-1<a.indexOf("/")||-1<a.indexOf(":"))a="<HTML\\Document>";var d=$ts(e.match(/([:]\d+){2}$/m)[0].split(":")),f=d.Select(function(a){return a.length}).Sum()+2;d=From(d).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();
c.file=e.substr(0,e.length-f);(e=(e=a.match(/\[.+\]/))&&0!=e.length?e[0]:null)?(a=a.substr(0,a.length-e.length).trim(),c.memberName=e.substr(3,e.length-4).trim()):(e=a.split("."),c.memberName=e[e.length-1]);c.caller=a;c.line=d[0];c.column=d[1];return c};b.getFileName=function(a){var b=a.match(/\(.+\)/);return b&&0!=b.length?b[0]:"("+a.substr(6).trim()+")"};return b}();b.StackFrame=f})(Internal||(Internal={}));
(function(b){var f=function(){function a(){this.lastCheck=this.start=(new Date).getTime()}a.prototype.Tick=function(){var a=(new Date).getTime(),b=new d;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return a}();b.Benchmark=f;var d=function(){function a(){}Object.defineProperty(a.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return a}();b.CheckPoint=d})(TypeScript||
(TypeScript={}));var Cookies;(function(b){function f(b){b=(b=RegExp(""+b+"[^;]+").exec(document.cookie))?b.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(b)}b.getCookie=f;b.delCookie=function(b){var a=f(b),c=new Date;c.setTime(c.getTime()-1);null!=a&&(c=c.toGMTString(),document.cookie=b+"="+a+";expires="+c)}})(Cookies||(Cookies={}));var CanvasHelper;
(function(b){function f(a){return a.fillText&&a.measureText?!0:!1}var d;b.getTextWidth=function(a,b){var c=(d||(d=$ts("<canvas>"))).getContext("2d");c.font=b;return c.measureText(a).width};b.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};b.createCanvas=function(a,b,c,d){void 0===d&&(d="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:b,title:c,style:"display: "+d+";"});if(!a.getContext)return null;b=a.getContext("2d");return f(b)?a:null};b.supportsText=
f;var a=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();b.fontSize=a;var c=function(){function b(){}b.prototype.apply=function(a){b.applyCSS(a,this)};b.applyCSS=function(b,c){b.style.fontFamily=c.fontName;b.style.fontSize=a.css(c.size)};return b}();b.CSSFont=c})(CanvasHelper||(CanvasHelper={}));
(function(b){(function(b){function d(a){return a instanceof HTMLElement||a instanceof SVGElement}function a(a){if(d(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function c(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function e(a,e,d){var f=a.getAttributeNS(b.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),c(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var h=
$ts("<canvas>"),g=h.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||a.getAttribute("href"))?(k.src=f,k.onload=function(){h.width=k.width;h.height=k.height;g.drawImage(k,0,0);a.setAttributeNS(b.xlink,"href",h.toDataURL("image/png"));e--;d(e)},k.onerror=function(){console.error("Could not load "+f);e--;d(e)}):(e--,d(e));return e}b.xlink="http://www.w3.org/1999/xlink";b.isElement=d;b.requireDomNode=a;b.isExternal=c;b.inlineImages=function(b,c){a(b);b=b.querySelectorAll("image");var d=b.length,
f=function(a){0===a&&c()};f(d);for(var h=0;h<b.length;h++)d=e(b[h],d,f)};b.getDimension=function(a,b,c){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[c]||null!==b.getAttribute(c)&&!b.getAttribute(c).match(/%$/)&&parseInt(b.getAttribute(c))||a.getBoundingClientRect()[c]||parseInt(b.style[c])||parseInt(window.getComputedStyle(a).getPropertyValue(c));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};b.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(b.saveSvgAsPng||(b.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(b){(function(b){b.xmlns="http://www.w3.org/2000/xmlns/";b.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var d=function(){function a(){}a.prepareSvg=function(c,e,d){void 0===e&&(e=new b.Options);b.requireDomNode(c);e.scale=e.scale||1;e.responsive=e.responsive||!1;b.inlineImages(c,function(){return a.doInlineImages(c,e,d)})};a.doInlineImages=function(a,
e,d){var c=$ts("<div>"),f=a.cloneNode(!0);if("svg"==a.tagName){var h=e.width||b.getDimension(a,f,"width");var m=e.height||b.getDimension(a,f,"height")}else if(a.getBBox){var p=a.getBBox();h=p.x+p.width;m=p.y+p.height;f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(f);f=p}else{console.error("Attempted to render non-SVG element",a);return}f.setAttribute("version","1.1");f.getAttribute("xmlns")||
f.setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/2000/svg");f.getAttribute("xmlns:xlink")||f.setAttributeNS(b.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");e.responsive?(f.removeAttribute("width"),f.removeAttribute("height"),f.setAttribute("preserveAspectRatio","xMinYMin meet")):(f.setAttribute("width",(h*e.scale).toString()),f.setAttribute("height",(m*e.scale).toString()));f.setAttribute("viewBox",[e.left||0,e.top||0,h,m].join(" "));p=f.querySelectorAll("foreignObject > *");for(var q=0;q<
p.length;q++)p[q].getAttribute("xmlns")||p[q].setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/1999/xhtml");c.appendChild(f);b.styles.doStyles(a,e,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);f.insertBefore(a,f.firstChild);d&&(a=c.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),d(a,h,m))})};a.svgAsDataUri=function(a,e,d){void 0===d&&(d=null);this.prepareSvg(a,e,function(a){a="data:image/svg+xml;base64,"+
window.btoa(b.reEncode(b.doctype+a));d&&d(a)})};a.convertToPng=function(a,b,d,f){b=$ts("<canvas>",{width:b,height:d});d=b.getContext("2d");f.canvg?f.canvg(b,a):d.drawImage(a,0,0);f.backgroundColor&&(d.globalCompositeOperation="destination-over",d.fillStyle=f.backgroundColor,d.fillRect(0,0,b.width,b.height));try{var c=b.toDataURL(f.encoderType,f.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return c};
a.svgAsPngUri=function(c,e,d){void 0===e&&(e=new b.Options);b.requireDomNode(c);e.encoderType=e.encoderType||"image/png";e.encoderOptions=e.encoderOptions||.8;var f=function(b,c,f){d(a.convertToPng(b,c,f,e))};e.canvg?this.prepareSvg(c,e,f):this.svgAsDataUri(c,e,function(a){var b=new Image;b.onload=function(){f(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};a.saveSvg=function(a,e,d){b.requireDomNode(a);d=d||{};this.svgAsDataUri(a,d,function(a){return DOM.download(e,a)})};a.saveSvgAsPng=function(a,e,d){void 0===d&&(d=b.Options.Default());"string"==typeof a&&(a=$ts(a));b.requireDomNode(a);this.svgAsPngUri(a,d,function(a){return DOM.download(e,a)})};return a}();b.Encoder=d})(b.saveSvgAsPng||(b.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(b){(function(b){var d=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();b.Options=d;d=function(){function b(){}b.doStyles=function(a,b,c){for(var e="",d=[],f=document.styleSheets,h=0;h<f.length;h++){try{var g=f[h].cssRules}catch(u){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[h].href);continue}null!=g&&(e+=this.processCssRules(a,g,b,f[h].href,d))}this.processFontQueue(d,
e,c)};b.processCssRules=function(a,c,d,f,l){for(var e="",h=0,g;h<c.length;h++,g=null){var k=c[h];if("undefined"!=typeof k.style){try{var r=k.selectorText}catch(t){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',t)}try{r&&(g=a.querySelector(r)||a.parentNode.querySelector(r))}catch(t){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+r+'"',t)}if(g)g=d.selectorRemap?d.selectorRemap(k.selectorText):k.selectorText,k=d.modifyStyle?
d.modifyStyle(k.style.cssText):k.style.cssText,e+=g+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){g=/url\(["']?(.+?)["']?\)/;var n=k.cssText.match(g);n=n&&n[1]||"";n.match(/^data:/)&&(n="");"about:blank"===n&&(n="");n?(n.startsWith("../")?n=f+"/../"+n:n.startsWith("./")&&(n=f+"/."+n),l.push({text:k.cssText,fontUrlRegexp:g,format:b.getFontMimeTypeFromUrl(n),url:n})):e+=k.cssText+"\n"}}}return e};b.processFontQueue=function(a,b,c){function e(e){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+e.url),console.warn(f));b+=e.text+"\n";d.processFontQueue(a,b,c)}function h(e,f){b+=e.text.replace(e.fontUrlRegexp,'url("data:'+e.format+";base64,"+f+'")')+"\n";setTimeout(function(){d.processFontQueue(a,b,c)},0)}var g=new XMLHttpRequest;g.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(g.response);h(e,a)});g.addEventListener("error",f);g.addEventListener("abort",f);g.open("GET",e.url);g.responseType="arraybuffer";g.send()}var d=
this;if(0<a.length){var f=a.pop();e(f)}else c(b)};b.getFontMimeTypeFromUrl=function(b){for(var c=Object.keys(a),e=0;e<c.length;++e){var d=c[e];if(0<b.indexOf("."+d))return a[d]}this.warnFontNotSupport(b);return"application/octet-stream"};b.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return b}();b.styles=d;var a={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(b.saveSvgAsPng||(b.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(b){var f=function(){function d(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof a?[a]:a;this.errors=[];this.onErrorResumeNext=b;this.echo=e}d.prototype.nextScript=function(){return this.jsURL[this.i++]};d.prototype.doLoad=function(a){var c=this;void 0===a&&(a=DoNothing);var e=this.nextScript();Strings.Empty(e,!0)?a():b.GetAsyn(e,function(b,d){return c.doExec(e,b,d,a)})};d.prototype.doExec=function(a,b,e,d){switch(e){case 200:try{eval.apply(window,
[b])}catch(g){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(a),console.warn(g)),this.errors.push(a);else throw g;}finally{this.echo&&console.log("script loaded: ",a)}break;default:this.echo&&console.error("ERROR: script not loaded: ",a),this.errors.push(a)}this.doLoad(d)};d.doEval=function(a,b,e){void 0===e&&(e=window);Base64.isValidBase64String(a)&&(a=Base64.decode(a));eval.apply(e,[a]);b&&b()};d.getFullPath=function(a){var b=$ts.location.path;if("/"==a.charAt(0))return a;
console.log(b)};return d}();b.Imports=f})(HttpHelpers||(HttpHelpers={}));
(function(b){b.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};b.measureContentType=function(d){return d instanceof FormData?b.contentTypes.form:"string"==typeof d?b.contentTypes.text:b.contentTypes.json};b.GET=function(b){var a=new XMLHttpRequest;a.open("GET",b,!1);a.send(null);return 200===a.status?a.responseText:null};b.GetAsyn=function(b,a){var c=new XMLHttpRequest;c.open("GET",b,!0);c.onreadystatechange=function(){var b=
this.getResponseHeader("content-type");isNullOrUndefined(b)&&(b=this.getResponseHeader("Content-Type"));4==c.readyState&&a(c.response||c.responseText,c.status,b)};c.send(null)};b.POST=function(d,a,c){var e=new XMLHttpRequest,f=a.data;a.type==b.contentTypes.json&&"string"!=typeof f&&(f=JSON.stringify(f));e.open("POST",d,!0);a.sendContentType&&e.setRequestHeader("Content-Type",a.type);e.onreadystatechange=function(){4==e.readyState&&c(e.responseText,e.status)};e.send(f)};b.UploadFile=function(d,a,c,
e){void 0===c&&(c=null);var f=new FormData;a instanceof File?(f.append("filename",a.name),c=c||a.name):f.append("filename",c);f.append("File",a,c);b.POST(d,{type:b.contentTypes.form,data:f},e)};var f=function(){function b(){this.sendContentType=!0}b.prototype.toString=function(){return this.type};return b}();b.PostData=f})(HttpHelpers||(HttpHelpers={}));var csv;
(function(b){var f=function(d){function a(a){return d.call(this,a)||this}__extends(a,d);Object.defineProperty(a.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});a.prototype.Column=function(a){var b=this.sequence[0].indexOf(a);return-1==b?new IEnumerator([]):this.Select(function(a){return a.ElementAt(b)})};a.prototype.AppendLine=
function(a){this.sequence.push(a);return this};a.prototype.AppendRows=function(a){var b=this;Array.isArray(a)?a.forEach(function(a){return b.sequence.push(a)}):a.ForEach(function(a){return b.sequence.push(a)});return this};a.prototype.buildDoc=function(){return this.Select(function(a){return a.rowLine}).JoinBy("\n")};a.prototype.Objects=function(b,e){void 0===b&&(b={});void 0===e&&(e=function(){return{}});var c=a.ensureMapsAll(b,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=
e();a.ForEach(function(a,e){b[c(e)]=a});return b})};a.ensureMapsAll=function(a,b){for(var c=0;c<b.length;c++){var e=b[c];e in a||(a[e]=e)}return function(c){return a[b[c]]}};a.prototype.save=function(a,b,d){void 0===b&&(b="upload.csv");void 0===d&&(d=function(a){console.log(a)});var c=this.buildDoc();HttpHelpers.UploadFile(a,c,b,d)};a.Load=function(b,e,d){var c=this;void 0===e&&(e=null);void 0===d&&(d=this.defaultContent);if(null==e||void 0==e){b=d(HttpHelpers.GET(b));var f=this.isTsv(b);return a.Parse(b.content,
f)}HttpHelpers.GetAsyn(b,function(b,f,g){if(200==f)b=d(b,g),f=c.isTsv(b),b=a.Parse(b.content,f),console.log(b.headers),e(b);else throw"Error while load csv data source, http "+f+": "+b;});return null};a.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};a.defaultContent=function(a){return{type:"csv",content:a}};a.Parse=function(c,d){void 0===d&&(d=!1);d=d?b.row.ParseTsv:b.row.Parse;c=$ts.from(c.split(/\n/));c=Strings.Empty(c.Last)?c.Take(c.Count-1).Select(d):c.Select(d);return new a(c)};
return a}(IEnumerator);b.dataframe=f})(csv||(csv={}));
(function(b){(function(f){function d(b,d){void 0===d&&(d=a);var c=b.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");b=b.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+d+'">\n                <thead>\n                    <tr>'+c+"</tr>\n                </thead>\n                <tbody>\n                    "+b+"\n                </tbody>\n            </table>"}
var a=["table","table-hover"];f.toHTMLTable=d;f.createHTMLTable=function(c,e){void 0===e&&(e=a);return d(b.toDataFrame(c),e)}})(b.HTML||(b.HTML={}))})(csv||(csv={}));
(function(b){var f=function(d){function a(a){return d.call(this,a)||this}__extends(a,d);Object.defineProperty(a.prototype,"columns",{get:function(){return this.sequence.slice()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowLine",{get:function(){return From(this.columns).Select(a.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});a.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,b)};a.prototype.ProjectObject=
function(a){var b={},c=this.columns;Array.isArray(a)?a.forEach(function(a,d){b[a]=c[d]}):a.ForEach(function(a,d){b[a]=c[d]});return b};a.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};a.Parse=function(c){return new a(b.CharsParser(c))};a.ParseTsv=function(c){return new a(b.CharsParser(c,"\t"))};return a}(IEnumerator);b.row=f})(csv||(csv={}));
(function(b){b.CharsParser=function(b,d,a){void 0===d&&(d=",");void 0===a&&(a='"');var c=[],e=[],f=!1,g=From(Strings.ToCharArray(b)).ToPointer(),k=new RegExp("["+a+"]{2}","g"),l=function(){return e.join("").replace(k,a)};for(b=function(b){var h=e;var k=void 0;void 0===k&&(k="\\");h=IsNullOrEmpty(h)?!1:h[h.length-1]==k;h?e[e.length-1]=b:(h=g.Current,k=0<e.length&&e[e.length-1]!=a,0==e.length&&h==d?(c.push(""),e=[],g.MoveNext(),f=!1):(h==d||g.EndRead)&&k?(c.push(l()),e=[],g.MoveNext(),f=!1):e.push(b))};!g.EndRead;){var m=
g.Next;f?m==a?b(m):e.push(m):0==e.length&&m==a?f=!0:m==d?(c.push(l()),e=[]):e.push(m)}0<e.length&&c.push(l());return c}})(csv||(csv={}));(function(b){b.toDataFrame=function(f){f=Array.isArray(f)?new IEnumerator(f):f;var d=$ts(Object.keys(f.First));f=f.Select(function(a){var c=d.Select(function(b,c){b=a[b];b=isNullOrUndefined(b)?"":""+b;return b});return new b.row(c)});return(new b.dataframe([new b.row(d)])).AppendRows(f)}})(csv||(csv={}));
