var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,g){c!=Array.prototype&&c!=Object.prototype&&(c[b]=g.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,b,g,a){if(b){g=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var d=c[a];d in g||(g[d]={});g=g[d]}c=c[c.length-1];a=g[c];b=b(a);b!=a&&null!=b&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:b})}};$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},b={};try{return b.__proto__=c,b.a}catch(g){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,b){c.__proto__=b;if(c.__proto__!==b)throw new TypeError(c+" is not extensible");return c}:null;$jscomp.polyfill("Object.setPrototypeOf",function(c){return c||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(c,b,g){c instanceof String&&(c=String(c));for(var a=c.length,d=0;d<a;d++){var e=c[d];if(b.call(g,e,d,c))return{i:d,v:e}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(b,g){return $jscomp.findInternal(this,b,g).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var c=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+c++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.iteratorFromArray=function(c,b){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var g=0,a={next:function(){if(g<c.length){var d=g++;return{value:b(d,c[d]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
var __spreadArrays=this&&this.__spreadArrays||function(){for(var c=0,b=0,g=arguments.length;b<g;b++)c+=arguments[b].length;c=Array(c);var a=0;for(b=0;b<g;b++)for(var d=arguments[b],e=0,f=d.length;e<f;e++,a++)c[a]=d[e];return c},__extends=this&&this.__extends||function(){var c=function(b,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])};return c(b,g)};return function(b,g){function a(){this.constructor=
b}c(b,g);b.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}(),Activator;
(function(c){c.CreateMetaReader=function(b){return new TypeScript.Data.MetaReader(c.CreateObject(b))};c.CreateInstance=function(b){var g=Object.create({});if(Array.isArray(b))for(var a=0;a<b.length;a++){var d=b[a];var e=d.value;Object.defineProperty(g,d.name,{get:e.get,set:e.set})}else for(a in b)e=b[a],Object.defineProperty(g,a,{get:e.get,set:e.set});return g};c.EmptyObject=function(b,g){var a={};"function"==typeof g?Array.isArray(b)?b.forEach(function(d){return a[d]=g()}):b.ForEach(function(d){return a[d]=
g()}):Array.isArray(b)?b.forEach(function(d){return a[d]=g}):b.ForEach(function(d){return a[d]=g});return a};c.CreateObject=function(b){var g={},a=TypeScript.Reflection.$typeof(b);if(a.isArray&&"MapTuple"==a.class)b.forEach(function(d){return g[d.key]=d.value});else if(a.isArray&&"NamedValue"==a.class)b.forEach(function(d){return g[d.name]=d.value});else if("IEnumerator"==a.class)if(a=b.ElementType,"MapTuple"==a.class)b.ForEach(function(d){g[d.key]=d.value});else if("NamedValue"==a.class)b.ForEach(function(d){g[d.name]=
d.value});else throw console.error(a),"Unsupport data type: "+a.class;else throw"Unsupport data type: "+JSON.stringify(a);return g}})(Activator||(Activator={}));var data;
(function(c){(function(b){var g=function(){function a(){}a.prototype.toString=function(){return JSON.stringify(this)};return a}();b.match=g;b.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);b.parseFormat=function(a,d){for(var e,f,g=e=0,c,l=[],n=[];c=b.placeholder.exec(a);)f=b.placeholder.lastIndex-c[0].length,n[n.length]=a.substring(e,f),e=b.placeholder.lastIndex,l[l.length]={match:c[0],left:c[3]?!0:!1,sign:c[4]||"",pad:c[5]||" ",min:c[6]||0,precision:c[8],code:c[9]||
"%",negative:0>parseInt(d[g])?!0:!1,argument:String(d[g])},c[9]&&(g+=1);n[n.length]=a.substring(e);return{matches:l,convCount:g,strings:n}};b.doFormat=function(a){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;e=b.parseFormat(a,d);var f=e.convCount;if(0==e.matches.length)return a;if(d.length<f)throw"Mismatch format argument numbers ("+d.length+" !== "+f+")!";return b.doSubstitute(e.matches,
e.strings)};b.doSubstitute=function(a,d){var e,f="";for(e=0;e<a.length;e++){if("%"==a[e].code)var g="%";else"b"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(2)),g=b.convert(a[e],!0)):"c"==a[e].code?(g=Math.abs(parseInt(a[e].argument)),a[e].argument=String(String.fromCharCode(parseInt(String(g)))),g=b.convert(a[e],!0)):"d"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument))),g=b.convert(a[e])):"f"==a[e].code?(g=a[e].precision?parseFloat(a[e].precision):
6,a[e].argument=String(Math.abs(parseFloat(a[e].argument)).toFixed(g)),g=b.convert(a[e])):"o"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(8)),g=b.convert(a[e])):"s"==a[e].code?(g=a[e].precision?parseFloat(a[e].precision):a[e].argument.length,a[e].argument=a[e].argument.substring(0,g),g=b.convert(a[e],!0)):"x"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),g=b.convert(a[e])):"X"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),
g=b.convert(a[e]).toUpperCase()):g=a[e].match;f+=d[e];f+=g}return f+d[e]};b.convert=function(a,d){void 0===d&&(d=!1);a.sign=d?"":a.negative?"-":a.sign;var e=parseFloat(a.min)-a.argument.length+1-a.sign.length;e=Array(0>e?0:e).join(a.pad);return a.left?"0"==a.pad||d?a.sign+a.argument+e.replace(/0/g," "):a.sign+a.argument+e:"0"==a.pad||d?a.sign+e+a.argument:e+a.sign+a.argument}})(c.sprintf||(c.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function c(b){this.i=0;this.sequence=b}c.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(c.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});c.prototype.reset=function(){this.i=0;return this};c.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return c}(),Enumerable;
(function(c){c.Range=function(b,g,a){void 0===a&&(a=1);return(new data.NumericRange(b,g)).PopulateNumbers(a)};c.Min=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];g=99999999999;for(var a=0;a<b.length;a++){var d=b[a];d<g&&(g=d)}return g};c.Select=function(b,g){var a=[];b.forEach(function(d,e){a.push(g(d,e))});return new IEnumerator(a)};c.OrderBy=function(b,g){b=__spreadArrays(b);b.sort(function(a,d){return g(a)-g(d)});return new IEnumerator(b)};c.OrderByDescending=function(b,
g){return c.OrderBy(b,function(a){return-g(a)})};c.Take=function(b,g){var a=b.length;if(a<=g)var d=b;else{d=[];for(var e=0;e<g&&!(e>=a);e++)d.push(b[e])}return new IEnumerator(d)};c.Skip=function(b,g){var a=[];if(g>=b.length)return new IEnumerator([]);for(;g<b.length;g++)a.push(b[g]);return new IEnumerator(a)};c.TakeWhile=function(b,g){for(var a=[],d=0;d<b.length;d++){var e=b[d];if(g(e))a.push(e);else break}return new IEnumerator(a)};c.Where=function(b,g){for(var a=[],d=0;d<b.length;d++){var e=b[d];
1==g(e)&&a.push(e)}return new IEnumerator(a)};c.SkipWhile=function(b,g){for(var a=0;a<b.length;a++)if(1!=g(b[a]))return c.Skip(b,a);return new IEnumerator([])};c.All=function(b,g){for(var a=0;a<b.length;a++)if(!g(b[a]))return!1;return!0};c.Any=function(b,g){for(var a=0;a<b.length;a++)if(1==g(b[a]))return!0;return!1};c.GroupBy=function(b,g,a){a=new algorithm.BTree.binaryTree(a);for(var d,e,f=0;f<b.length;f++){var c=b[f];d=g(c);(e=a.find(d))?e.push(c):a.add(d,[c])}TypeScript.logging.log(a);return a.AsEnumerable().Select(function(d){return new Group(d.key,
d.value)})};c.AllKeys=function(b){return $from(b).Select(function(b){return Object.keys(b)}).Unlist().Distinct().ToArray()}})(Enumerable||(Enumerable={}));
var IEnumerator=function(c){function b(g){return c.call(this,b.getArray(g))||this}__extends(b,c);Object.defineProperty(b.prototype,"ElementType",{get:function(){return $ts.typeof(this.First)},enumerable:!0,configurable:!0});b.prototype.ElementAt=function(b){void 0===b&&(b=null);if(!b)b=0;else if("string"==typeof b)throw"Item index='"+b+"' must be an integer!";return this.sequence[b]};b.prototype.ctype=function(){return new b(__spreadArrays(this.sequence))};b.getArray=function(b){return b?Array.isArray(b)?
__spreadArrays(b):__spreadArrays(b.sequence):[]};b.prototype.indexOf=function(b){return this.sequence.indexOf(b)};Object.defineProperty(b.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});b.prototype.FirstOrDefault=function(b){void 0===b&&(b=null);return 0==this.Count?b:this.sequence[0]};b.prototype.Union=function(b,a,d,e,f){void 0===
f&&(f=null);Array.isArray(b)||(b=b.ToArray());return(new Enumerable.JoinHelper(this.sequence,b)).Union(a,d,e,f)};b.prototype.Join=function(b,a,d,e,f){void 0===f&&(f=null);Array.isArray(b)||(b=b.ToArray());return(new Enumerable.JoinHelper(this.sequence,b)).LeftJoin(a,d,e,f)};b.prototype.Select=function(b){return Enumerable.Select(this.sequence,b)};b.prototype.GroupBy=function(b,a){if(isNullOrUndefined(a))switch(typeof b(this.First)){case "string":a=Strings.CompareTo;break;case "number":a=function(d,
a){return d-a};break;case "boolean":a=function(d,a){return d==a?0:1==d?1:-1};break;default:throw"No element comparer was specific!";}return Enumerable.GroupBy(this.sequence,b,a)};b.prototype.Where=function(b){return Enumerable.Where(this.sequence,b)};b.prototype.Which=function(g,a){void 0===a&&(a=!0);var d;a||(d=[]);for(var e=0;e<this.sequence.length;e++)if(g(this.sequence[e])){if(a)return e;d.push(e)}return new b(d)};b.prototype.Min=function(b){void 0===b&&(b=function(a){return Strings.as_numeric(a)});
return Enumerable.OrderBy(this.sequence,b).First};b.prototype.Max=function(b){void 0===b&&(b=function(a){return Strings.as_numeric(a)});return Enumerable.OrderByDescending(this.sequence,b).First};b.prototype.Average=function(b){void 0===b&&(b=null);return 0==this.Count?0:this.Sum(b)/this.sequence.length};b.prototype.Sum=function(b){void 0===b&&(b=null);var a=0;b||(b=function(d){return Number(d)});for(var d=0,e=this.sequence;d<e.length;d++)a+=b(e[d]);return a};b.prototype.OrderBy=function(b){return Enumerable.OrderBy(this.sequence,
b)};b.prototype.OrderByDescending=function(b){return Enumerable.OrderByDescending(this.sequence,b)};b.prototype.Split=function(g){for(var a=[],d=[],e=0,f=this.sequence;e<f.length;e++){var c=f[e];d.length<g?d.push(c):(a.push(d),d=[])}0<d.length&&a.push(d);return new b(a)};b.prototype.Take=function(b){return Enumerable.Take(this.sequence,b)};b.prototype.Skip=function(b){return Enumerable.Skip(this.sequence,b)};b.prototype.Reverse=function(){var g=this.ToArray().reverse();return new b(g)};b.prototype.TakeWhile=
function(b){return Enumerable.TakeWhile(this.sequence,b)};b.prototype.SkipWhile=function(b){return Enumerable.SkipWhile(this.sequence,b)};b.prototype.All=function(b){return Enumerable.All(this.sequence,b)};b.prototype.Any=function(b){void 0===b&&(b=null);return b?Enumerable.Any(this.sequence,b):this.sequence&&0!=this.sequence.length?!0:!1};b.prototype.Distinct=function(b){void 0===b&&(b=function(a){return a.toString()});return this.GroupBy(b,Strings.CompareTo).Select(function(a){return a.First})};
b.prototype.ChunkWith=function(b,a){void 0===a&&(a=!1);for(var d=new List,e=[],f=0,c=this.sequence;f<c.length;f++){var g=c[f];b(g)?(d.Add(e),e=a?[g]:[]):e.push(g)}0<e.length&&d.Add(e);return d};b.prototype.ForEach=function(b){this.sequence.forEach(b)};b.prototype.JoinBy=function(b,a){void 0===a&&(a=function(d){return"string"===typeof d?d:d.toString()});return this.Select(function(d){return a(d)}).ToArray().join(b)};b.prototype.Unlist=function(c){void 0===c&&(c=function(d){return d});for(var a=[],
d=0,e=this.sequence;d<e.length;d++)for(var f=0,g=c(e[d]);f<g.length;f++)a.push(g[f]);return new b(a)};b.prototype.ToArray=function(b){void 0===b&&(b=!0);return b?__spreadArrays(this.sequence):this.sequence};b.prototype.ToList=function(){return new List(this.sequence)};b.prototype.ToDictionary=function(b,a){void 0===a&&(a=function(d){return d});for(var d={},e,f,c=0,g=this.sequence;c<g.length;c++)f=g[c],e=b(f),f=a(f),d[e]=f;return new Dictionary(d)};b.prototype.ToPointer=function(){return new Pointer(this)};
b.prototype.SlideWindows=function(b,a){void 0===a&&(a=1);return SlideWindow.Split(this,b,a)};return b}(LINQIterator),DOMEnumerator=function(c){function b(g){return c.call(this,b.ensureElements(g))||this}__extends(b,c);Object.defineProperty(b.prototype,"tagName",{get:function(){return this.First.tagName},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"type",{get:function(){return"input"==this.tagName.toLowerCase()?this.First.type:this.tagName},enumerable:!0,configurable:!0});b.ensureElements=
function(b){var a=$ts.typeof(b);if("NodeList"==a.class){var d=[];b.forEach(function(a){return d.push(a)})}else if("HTMLCollection"==a.class)for(d=[],a=0;a<b.length;a++)d.push(b.item(a));else d=Framework.Extensions.EnsureArray(b);b=0;for(a=d;b<a.length;b++)TypeExtensions.Extends(a[b]);return d};b.prototype.val=function(c){void 0===c&&(c=null);if(isNullOrUndefined(c))return this.Select(function(a){return b.getVal(a)});"string"==typeof c||"number"==typeof c?this.ForEach(function(a){return b.setVal(a,
c)}):Array.isArray(c)?this.ForEach(function(a,d){return b.setVal(a,c[d])}):this.ForEach(function(a,d){return b.setVal(a,c.ElementAt(d))})};b.setVal=function(b,a){b instanceof HTMLInputElement?b.value=a:b.textContent=a};b.getVal=function(b){return b instanceof HTMLInputElement?b.value:b.textContent};b.prototype.attr=function(b,a){void 0===a&&(a=null);if(a){if("function"==typeof a)return this.Select(function(d){var e=a(d);d.setAttribute(b,e);return e});var d=Framework.Extensions.EnsureArray(a,this.Count);
return this.Select(function(a,f){f=d[f];a.setAttribute(b,f);return f})}return this.Select(function(d){return d.getAttribute(b)})};b.prototype.addClass=function(b){this.ForEach(function(a){a.classList.contains(b)||a.classList.add(b)});return this};b.prototype.addEvent=function(b,a){this.ForEach(function(d){DOM.Events.addEvent(d,b,function(e){a(d,e)})})};b.prototype.onChange=function(b){this.addEvent("onchange",b)};b.prototype.onClick=function(b){this.ForEach(function(a){a.onclick=function(d){b(this,
d);return!1}})};b.prototype.removeClass=function(b){this.ForEach(function(a){a.classList.contains(b)&&a.classList.remove(b)});return this};b.prototype.hide=function(){this.ForEach(function(b){return b.style.display="none"});return this};b.prototype.show=function(){this.ForEach(function(b){return b.style.display="block"});return this};b.prototype.delete=function(){this.ForEach(function(b){return b.parentNode.removeChild(b)})};return b}(IEnumerator),Internal;
(function(c){(function(b){(function(b){b.getElementByIdUnderContext=function(a,d){return d instanceof Window?d.document.getElementById(a):d.getElementById(a)};b.selectElementsUnderContext=function(a,d){return d instanceof Window?d.document.querySelector(a.expression):d.querySelector(a.expression)}})(b.Selector||(b.Selector={}))})(c.Handlers||(c.Handlers={}))})(Internal||(Internal={}));
(function(c){(function(b){function g(d,a){return d?window.hasOwnProperty.call(d,a):!1}var a={onclick:"onclick",onmouseover:"onmouseover"},d=Object.keys(a);b.hasKey=g;b.makesureElementIdSelector=function(d){if(d)return"#"==d[0]?d:"#"+d;throw"The given node id value is nothing!";};var e=function(){function e(){}e.ensureArguments=function(d){if(isNullOrUndefined(d))return c.Arguments.Default();isNullOrUndefined(d.nativeModel)&&(d.nativeModel=!0);return d};e.select=function(d,a){void 0===a&&(a=window);
d=d.replace(":","\\:");if(a instanceof Window)a=a.document.querySelectorAll(d);else if(a instanceof HTMLElement)a=a.querySelectorAll(d);else throw"Unsupported context type: "+TypeScript.Reflection.getClass(a);return new DOMEnumerator(a)};e.prototype.doEval=function(d,a,f){var c=DOM.Query.parseQuery(d);a=e.ensureArguments(f);var g=a.context||window;if(c.type==DOM.QueryTypes.id)return f=b.Selector.getElementByIdUnderContext(c.expression,g),isNullOrUndefined(f)?(TypeScript.logging.outputWarning&&console.warn("Unable to found a node which its ID='"+
d+"'!"),null):a.nativeModel?TypeExtensions.Extends(f):new HTMLTsElement(f);if(c.type==DOM.QueryTypes.NoQuery)return e.createNew(d,a,g);if(c.singleNode){if(c.type==DOM.QueryTypes.QueryMeta)return DOM.InputValueGetter.metaValue(c.expression,(f||{})["default"],g!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+c.expression+"', no typescript extension was made!");return b.Selector.selectElementsUnderContext(c,g)}return e.select(c.expression,g)};e.createNew=
function(a,f,b){void 0===b&&(b=window);a=DOM.ParseNodeDeclare(a);var c=b.document.createElement(a.tag);a.attrs.forEach(function(a){0>d.indexOf(a.name)&&c.setAttribute(a.name,a.value)});f&&e.setAttributes(c,f);return f.nativeModel?TypeExtensions.Extends(c):new HTMLTsElement(c)};e.setAttributes=function(e,f){var b=function(a){if(!(-1<d.indexOf(a)))if("class"==a){var b=f[a];Array.isArray(b)?b.forEach(function(d){return e.classList.add(d)}):e.setAttribute(a,b)}else if("style"==a)if(b=f[a],"string"==typeof b)e.setAttribute(a,
b);else for(var g in b)e.style[g]=b[g];else if("visible"==a)e.style.display=f[a]?"block":"none";else{b=f[a];if("src"==a||"href"==a)b=c.urlSolver(b);e.setAttribute(a,b)}};c.Arguments.nameFilter(f).forEach(function(d){return b(d)});this.hookEvt(e,a.onclick,f);this.hookEvt(e,a.onmouseover,f)};e.hookEvt=function(d,e,f){if(g(f,e))if(f=f[e],"string"==typeof f)d.setAttribute(e,f);else switch(e){case a.onclick:d.onclick=f;break;case a.onmouseover:d.onmouseover=f;break;default:TypeScript.logging.log(e,TypeScript.ConsoleColors.Yellow)}};
return e}();b.stringEval=e})(c.Handlers||(c.Handlers={}))})(Internal||(Internal={}));
(function(c){(function(b){b.Shared={string:function(){return new b.stringEval},array:function(){return new c},NodeListOf:function(){return new a},HTMLCollection:function(){return new a}};var c=function(){function d(){}d.prototype.doEval=function(d,a,b){return $from(d)};return d}();b.arrayEval=c;var a=function(){function d(){}d.prototype.doEval=function(d,a,b){return new DOMEnumerator(d)};return d}();b.DOMCollection=a})(c.Handlers||(c.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(c){function b(a){var d="";a=new Uint8Array(a);for(var e=a.byteLength,f=0;f<e;f++)d+=String.fromCharCode(a[f]);return window.btoa(d)}function g(a){a=window.atob(a);for(var d=new ArrayBuffer(a.length),e=new Uint8Array(d),f=0;f<a.length;f++)e[f]=a.charCodeAt(f);return d}c.merge=function(a){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];for(var f,b=0;b<d.length;b++)for(f in e=d[b],e)Object.prototype.hasOwnProperty.call(e,f)&&(a[f]=e[f]);return a};c.arrayBufferToBase64=b;c.toUri=
function(a){"string"!==typeof a.data&&(a.data=b(a.data));return"data:"+a.mime_type+";base64,"+a.data};c.uriToBlob=function(a){if("string"==typeof a){var d=a.split(",")[1];var e=a.split(",")[0].split(":")[1].split(";")[0];a=g(d)}else e=a.mime_type,a="string"==typeof a.data?g(a.data):a.data;return new Blob([a],{type:e})};c.base64ToBlob=g;c.Dim=function(a,d){void 0===d&&(d=null);for(var e=[],f=0;f<a;f++)e.push(d);return e}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function c(b,c){void 0===b&&(b=null);void 0===c&&(c=null);this.key=b;this.value=c;this.key=b;this.value=c}c.prototype.valueOf=function(){return this.value};c.prototype.ToArray=function(){return[this.key,this.value]};c.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return c}(),NamedValue=function(){function c(b,c){void 0===b&&(b=null);void 0===c&&(c=null);this.name=b;this.value=c}Object.defineProperty(c.prototype,"TypeOfValue",{get:function(){return $ts.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});c.prototype.valueOf=function(){return this.value};c.prototype.ToArray=function(){return[this.name,this.value]};c.prototype.toString=function(){return this.name};return c}(),Strings;
(function(c){function b(d){return null==d||void 0==d?null:"number"===typeof d?function(d){return d}:"boolean"===typeof d?function(d){return 1==d?1:-1}:"undefined"==typeof d?function(d){return 0}:"string"==typeof d?function(d){return c.Val(d)}:function(d){return 0}}function g(d,a){if(!d)return!1;a=d.match("string"==typeof a?new RegExp(a):a);return isNullOrUndefined(a)?!1:a[0]==d}function a(d){return d&&void 0!=d?d.length:0}c.x0=48;c.x9=57;c.asterisk=42;c.cr=99;c.lf=13;c.a=97;c.z=122;c.A=65;c.Z=90;
c.numericPattern=/[-]?\d+(\.\d+)?/g;c.isNumericPattern=function(d){return g(d,c.numericPattern)};c.as_numeric=function(d){return b(d)(d)};c.AsNumeric=b;c.Lanudry=function(d){var a=Math.floor(Math.log(d)/Math.log(1E3));return c.sprintf("%.2f "+["B","KB","MB","GB","TB"][a],d/Math.pow(1E3,Math.floor(a)))};c.escapeXml=function(d){return d.replace(/[<>&'"]/g,function(d){switch(d){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};c.parseInt=
function(d){if(c.Empty(d,!0))return 0;var a=[];for(var f=0;f<d.length;f++){var b=d.charAt(f);var g=b.charCodeAt(0);if(g>=c.x0&&g<=c.x9)a.push(b);else break}return 0==a.length?0:Number(a.join(""))};c.New=function(d,a){if(0==a)return"";if(1==a)return d;for(var f="",e=1;e<a;++e)f+=d;return f};c.round=function(d,a){void 0===a&&(a=3);var f="number"==typeof d?d:parseFloat(d);a=Math.pow(10,a);return isNaN(f)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+d+"'"),!1):Math.round(f*
a)/a};c.isNumber=function(d){d=d.charCodeAt(0);return d>=c.x0&&d<=c.x9};c.isAlphabet=function(d){d=d.charCodeAt(0);return d>=c.a&&d<=c.z||d>=c.A&&d<=c.Z};c.Val=function(d){return null==d||""==d||void 0==d||"undefined"==d?0:"NA"==d||"NaN"==d?Number.NaN:"Inf"==d?Number.POSITIVE_INFINITY:"-Inf"==d?Number.NEGATIVE_INFINITY:parseFloat(d)};c.lineTokens=function(d){return d?d.trim().split("\n"):[]};c.GetTagValue=function(d,e){void 0===e&&(e=" ");if(d){var f=e;e=d.indexOf(f);var b=a(f);-1<e?(f=d.substr(0,
e),d=d.substr(e+b),d=new NamedValue(f,d)):d=new NamedValue(d,"");return d}return new NamedValue};c.PeekLines=function(d,a){for(var f=0,e=[],b=0;b<a;b++){var c=d.indexOf("\n",f);if(-1<c)e.push(d.substr(f,c-f)),f=c;else break}return e};c.LCase=function(d){return isNullOrUndefined(d)?"":d.toLowerCase()};c.UCase=function(d){return isNullOrUndefined(d)?"":d.toUpperCase()};c.getAllMatches=function(d,a){var f,b=[];"string"==typeof a&&(a=new RegExp(a));if(a.global)for(;f=a.exec(d);)b.push(f);else(f=a.exec(d))&&
b.push(f);return b};c.Trim=function(d,a){void 0===a&&(a=null);if(c.Empty(d,!1))return"";if(isNullOrUndefined(a))return d.trim();"string"==typeof a&&(a=$from(c.ToCharArray(a)).Select(function(d){return d.charCodeAt(0)}).ToArray(!1));return function(a){return $from(c.ToCharArray(d)).SkipWhile(function(d){return-1<a.indexOf(d.charCodeAt(0))}).Reverse().SkipWhile(function(d){return-1<a.indexOf(d.charCodeAt(0))}).Reverse().JoinBy("")}(a)};c.LTrim=function(d,a){void 0===a&&(a=" ");if(c.Empty(d,!1))return"";
"string"==typeof a&&(a=$from(c.ToCharArray(a)).Select(function(d){return d.charCodeAt(0)}).ToArray(!1));return function(a){return $from(c.ToCharArray(d)).SkipWhile(function(d){return-1<a.indexOf(d.charCodeAt(0))}).JoinBy("")}(a)};c.RTrim=function(d,a){void 0===a&&(a=" ");if(c.Empty(d,!1))return"";"string"==typeof a&&(a=$from(c.ToCharArray(a)).Select(function(d){return d.charCodeAt(0)}).ToArray(!1));for(var b=c.ToCharArray(d),e=0,g=b.length-1;0<g;g--)if(-1==a.indexOf(b[g].charCodeAt(0))){e=g;break}return 0==
e?"":d.substr(0,e+1)};c.Empty=function(d,a){void 0===a&&(a=!1);return d?void 0==d||"undefined"==typeof d?!0:0==d.length?!0:!a||"undefined"!=d&&"null"!=d&&"NULL"!=d?!1:!0:!0};c.Blank=function(d,a){void 0===a&&(a=!1);return!d||g(d,/\s+/g)?!0:void 0==d||"undefined"==typeof d?!0:0==d.length?!0:!a||"\\s"!=d&&"\\t"!=d?!1:!0};c.IsPattern=g;c.Unique=function(d){var a={};return d.filter(function(d){return a.hasOwnProperty(d)?!1:a[d]=!0})};c.Count=function(d,a){for(var b=0,e=0;e<d.length;e++)d[e]==a&&(b+=1);
return b};c.ToCharArray=function(d,a){void 0===a&&(a=!1);var b=[],e=d.length;if(a)for(a=0;a<e;++a)b.push(d.charCodeAt(a));else for(a=0;a<e;++a)b.push(d.charAt(a));return b};c.Len=a;c.CompareTo=function(a,b){for(var d=c.Len(a),e=c.Len(b),g=Math.min(d,e),l=0;l<g;l++){var n=a.charCodeAt(l),p=b.charCodeAt(l);if(n>p)return 1;if(n<p)return-1}return d>e?1:d<e?-1:0};c.sprintf=data.sprintf.doFormat;c.WrappingLines=function(a,b,f){void 0===b&&(b=200);void 0===f&&(f=!1);var d="";a=c.lineTokens(a);for(var e,
g=0;g<a.length;g++){var n=f?c.Trim(a[g]):a[g];if(n.length<b)d=d+n+"\n";else for(e=0;;)if(d=d+n.substr(e,b)+"\n",e+=b,e+b>n.length){d=d+n.substr(e)+"\n";break}}return d}})(Strings||(Strings={}));var TypeScript;
(function(c){(function(b){var c=function(){function a(){}Object.defineProperty(a.prototype,"isPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEnumerator",{get:function(){return"object"==this.typeOf&&("IEnumerator"==this.class||"DOMEnumerator"==this.class)},enumerable:!0,configurable:!0});a.prototype.isArrayOf=function(a){return this.isArray&&
this.class==a};a.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};return a}();b.TypeInfo=c})(c.Reflection||(c.Reflection={}))})(TypeScript||(TypeScript={}));var MD5;
(function(c){c.safe_add=function(b,c){var a=(b&65535)+(c&65535);return(b>>16)+(c>>16)+(a>>16)<<16|a&65535};c.bit_rol=function(b,c){return b<<c|b>>>32-c};c.md5_cmn=function(b,g,a,d,e,f){return c.safe_add(c.bit_rol(c.safe_add(c.safe_add(g,b),c.safe_add(d,f)),e),a)};c.md5_ff=function(b,g,a,d,e,f,h){return c.md5_cmn(g&a|~g&d,b,g,e,f,h)};c.md5_gg=function(b,g,a,d,e,f,h){return c.md5_cmn(g&d|a&~d,b,g,e,f,h)};c.md5_hh=function(b,g,a,d,e,f,h){return c.md5_cmn(g^a^d,b,g,e,f,h)};c.md5_ii=function(b,g,a,d,e,
f,h){return c.md5_cmn(a^(g|~d),b,g,e,f,h)};c.binl_md5=function(b,g){var a=1732584193,d=-271733879,e=-1732584194,f=271733878;b[g>>5]|=128<<g%32;b[(g+64>>>9<<4)+14]=g;for(var h=0;h<b.length;h+=16){g=a;var k=d;var l=e;var n=f;a=c.md5_ff(a,d,e,f,b[h],7,-680876936);f=c.md5_ff(f,a,d,e,b[h+1],12,-389564586);e=c.md5_ff(e,f,a,d,b[h+2],17,606105819);d=c.md5_ff(d,e,f,a,b[h+3],22,-1044525330);a=c.md5_ff(a,d,e,f,b[h+4],7,-176418897);f=c.md5_ff(f,a,d,e,b[h+5],12,1200080426);e=c.md5_ff(e,f,a,d,b[h+6],17,-1473231341);
d=c.md5_ff(d,e,f,a,b[h+7],22,-45705983);a=c.md5_ff(a,d,e,f,b[h+8],7,1770035416);f=c.md5_ff(f,a,d,e,b[h+9],12,-1958414417);e=c.md5_ff(e,f,a,d,b[h+10],17,-42063);d=c.md5_ff(d,e,f,a,b[h+11],22,-1990404162);a=c.md5_ff(a,d,e,f,b[h+12],7,1804603682);f=c.md5_ff(f,a,d,e,b[h+13],12,-40341101);e=c.md5_ff(e,f,a,d,b[h+14],17,-1502002290);d=c.md5_ff(d,e,f,a,b[h+15],22,1236535329);a=c.md5_gg(a,d,e,f,b[h+1],5,-165796510);f=c.md5_gg(f,a,d,e,b[h+6],9,-1069501632);e=c.md5_gg(e,f,a,d,b[h+11],14,643717713);d=c.md5_gg(d,
e,f,a,b[h],20,-373897302);a=c.md5_gg(a,d,e,f,b[h+5],5,-701558691);f=c.md5_gg(f,a,d,e,b[h+10],9,38016083);e=c.md5_gg(e,f,a,d,b[h+15],14,-660478335);d=c.md5_gg(d,e,f,a,b[h+4],20,-405537848);a=c.md5_gg(a,d,e,f,b[h+9],5,568446438);f=c.md5_gg(f,a,d,e,b[h+14],9,-1019803690);e=c.md5_gg(e,f,a,d,b[h+3],14,-187363961);d=c.md5_gg(d,e,f,a,b[h+8],20,1163531501);a=c.md5_gg(a,d,e,f,b[h+13],5,-1444681467);f=c.md5_gg(f,a,d,e,b[h+2],9,-51403784);e=c.md5_gg(e,f,a,d,b[h+7],14,1735328473);d=c.md5_gg(d,e,f,a,b[h+12],20,
-1926607734);a=c.md5_hh(a,d,e,f,b[h+5],4,-378558);f=c.md5_hh(f,a,d,e,b[h+8],11,-2022574463);e=c.md5_hh(e,f,a,d,b[h+11],16,1839030562);d=c.md5_hh(d,e,f,a,b[h+14],23,-35309556);a=c.md5_hh(a,d,e,f,b[h+1],4,-1530992060);f=c.md5_hh(f,a,d,e,b[h+4],11,1272893353);e=c.md5_hh(e,f,a,d,b[h+7],16,-155497632);d=c.md5_hh(d,e,f,a,b[h+10],23,-1094730640);a=c.md5_hh(a,d,e,f,b[h+13],4,681279174);f=c.md5_hh(f,a,d,e,b[h],11,-358537222);e=c.md5_hh(e,f,a,d,b[h+3],16,-722521979);d=c.md5_hh(d,e,f,a,b[h+6],23,76029189);a=
c.md5_hh(a,d,e,f,b[h+9],4,-640364487);f=c.md5_hh(f,a,d,e,b[h+12],11,-421815835);e=c.md5_hh(e,f,a,d,b[h+15],16,530742520);d=c.md5_hh(d,e,f,a,b[h+2],23,-995338651);a=c.md5_ii(a,d,e,f,b[h],6,-198630844);f=c.md5_ii(f,a,d,e,b[h+7],10,1126891415);e=c.md5_ii(e,f,a,d,b[h+14],15,-1416354905);d=c.md5_ii(d,e,f,a,b[h+5],21,-57434055);a=c.md5_ii(a,d,e,f,b[h+12],6,1700485571);f=c.md5_ii(f,a,d,e,b[h+3],10,-1894986606);e=c.md5_ii(e,f,a,d,b[h+10],15,-1051523);d=c.md5_ii(d,e,f,a,b[h+1],21,-2054922799);a=c.md5_ii(a,
d,e,f,b[h+8],6,1873313359);f=c.md5_ii(f,a,d,e,b[h+15],10,-30611744);e=c.md5_ii(e,f,a,d,b[h+6],15,-1560198380);d=c.md5_ii(d,e,f,a,b[h+13],21,1309151649);a=c.md5_ii(a,d,e,f,b[h+4],6,-145523070);f=c.md5_ii(f,a,d,e,b[h+11],10,-1120210379);e=c.md5_ii(e,f,a,d,b[h+2],15,718787259);d=c.md5_ii(d,e,f,a,b[h+9],21,-343485551);a=c.safe_add(a,g);d=c.safe_add(d,k);e=c.safe_add(e,l);f=c.safe_add(f,n)}return[a,d,e,f]};c.binl2rstr=function(b){for(var c="",a=0;a<32*b.length;a+=8)c+=String.fromCharCode(b[a>>5]>>>a%32&
255);return c};c.rstr2binl=function(b){var c=[];c[(b.length>>2)-1]=void 0;for(var a=0;a<c.length;a+=1)c[a]=0;for(a=0;a<8*b.length;a+=8)c[a>>5]|=(b.charCodeAt(a/8)&255)<<a%32;return c};c.rstr_md5=function(b){return c.binl2rstr(c.binl_md5(c.rstr2binl(b),8*b.length))};c.rstr_hmac_md5=function(b,g){var a=c.rstr2binl(b),d=[],e=[];d[15]=e[15]=void 0;16<a.length&&(a=c.binl_md5(a,8*b.length));for(b=0;16>b;b+=1)d[b]=a[b]^909522486,e[b]=a[b]^1549556828;a=d.concat(c.rstr2binl(g));a=c.binl_md5(a,512+8*g.length);
a=e.concat(a);a=c.binl_md5(a,640);return c.binl2rstr(a)};c.rstr2hex=function(b){for(var c="",a,d=0;d<b.length;d+=1)a=b.charCodeAt(d),c+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return c};c.str2rstr_utf8=function(b){return unescape(encodeURIComponent(b))};c.raw_md5=function(b){return c.rstr_md5(c.str2rstr_utf8(b))};c.hex_md5=function(b){return c.rstr2hex(c.raw_md5(b))};c.raw_hmac_md5=function(b,g){return c.rstr_hmac_md5(c.str2rstr_utf8(b),c.str2rstr_utf8(g))};c.hex_hmac_md5=
function(b,g){return c.rstr2hex(c.raw_hmac_md5(b,g))};c.calculate=function(b,g,a){void 0===g&&(g=null);void 0===a&&(a=null);return g?a?c.raw_hmac_md5(g,b):c.hex_hmac_md5(g,b):a?c.raw_md5(b):c.hex_md5(b)}})(MD5||(MD5={}));
(function(c){(function(b){b.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;b.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;b.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig;b.isFromSameOrigin=function(b){b=(new c.URL(b)).origin.toLowerCase();var a=window.location.origin.toLowerCase();return b==a};b.isAPossibleUrlPattern=function(c,a){void 0===a&&(a=b.urlPattern);a=c.match(a);if(isNullOrUndefined(a))return!1;a=a[0];return Strings.Empty(a,!0)?!1:0==c.indexOf(a)};b.parseQueryString=
function(b,a){void 0===a&&(a=!1);b=b.split("#")[0].split("&");for(var d={},e=0;e<b.length;e++){var f=b[e].split("="),c=void 0,g=f[0].replace(/\[\d*\]/,function(a){c=a.slice(1,-1);return""});f="undefined"===typeof f[1]?"true":f[1];a&&(g=g.toLowerCase());d[g]?("string"===typeof d[g]&&(d[g]=[d[g]]),"undefined"===typeof c?d[g].push(f):d[g][c]=f):d[g]=f}return d}})(c.URLPatterns||(c.URLPatterns={}))})(TypeScript||(TypeScript={}));
(function(c){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);a.Dump=function(){var d=Error().stack.split("\n");d=$from(d).Skip(2).Select(c.StackFrame.Parse);return new a(d)};a.GetCallerMember=function(){return a.Dump().ToArray()[2]};a.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(d){a.AppendLine("  at "+d.toString())});return a.toString()};return a}(IEnumerator);c.StackTrace=b})(Internal||(Internal={}));
(function(c){(function(b){function g(a){var d=[],b;for(b in a)"function"==typeof a[b]&&d.push(b);return d}function a(a,b,c,g){return b?e(a):c?d(a,g):""}function d(a,d){return d?(c.logging.log(TypeExtensions.objectIsNothing),"null"):a.constructor.name}function e(a){a=a[0];var d;"object"==(d=typeof a)&&(d=a.constructor.name);return d}b.$typeof=function(d){var f=typeof d,e="object"==f,c=Array.isArray(d),n=isNullOrUndefined(d),p=new b.TypeInfo,m=a(d,c,e,n);p.typeOf=c?"array":f;p.class=m;n?(p.property=
[],p.methods=[]):(p.property=e?Object.keys(d):[],p.methods=g(d));return p};b.GetObjectMethods=g;b.getClass=function(d){var b="object"==typeof d,f=Array.isArray(d),e=isNullOrUndefined(d);return a(d,f,b,e)};b.getClassInternal=a;b.getObjectClassName=d;b.getElementType=e})(c.Reflection||(c.Reflection={}))})(TypeScript||(TypeScript={}));
var Dictionary=function(c){function b(g){void 0===g&&(g=null);var a=c.call(this,b.ObjectMaps(g))||this;isNullOrUndefined(g)?a.maps={}:Array.isArray(g)?a.maps=Activator.CreateObject(g):"IEnumerator"==$ts.typeof(g).class?a.maps=Activator.CreateObject(g):a.maps=g;return a}__extends(b,c);Object.defineProperty(b.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});b.prototype.Item=function(b){void 0===b&&(b=null);b||(b=Internal.StackTrace.GetCallerMember().memberName);
return"string"==typeof b?this.maps[b]:this.sequence[b].value};Object.defineProperty(b.prototype,"Keys",{get:function(){return $from(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Values",{get:function(){return this.Select(function(b){return b.value})},enumerable:!0,configurable:!0});b.FromMaps=function(c){return new b(c)};b.FromNamedValues=function(c){return new b(Activator.CreateObject(c))};b.MapSequence=function(b){return new IEnumerator(this.ObjectMaps(b))};
b.ObjectMaps=function(b){var a=TypeScript.Reflection.$typeof(b);return isNullOrUndefined(b)?[]:Array.isArray(b)?b:"IEnumerator"==a.class?b.ToArray():$from(Object.keys(b)).Select(function(a){return new MapTuple(a,b[a])}).ToArray()};b.prototype.ContainsKey=function(b){return b in this.maps};b.prototype.Add=function(c,a){this.maps[c]=a;this.sequence=b.ObjectMaps(this.maps);return this};b.prototype.Delete=function(c){c in this.maps&&(delete this.maps[c],this.sequence=b.ObjectMaps(this.maps));return this};
return b}(IEnumerator);
(function(c){var b=function(){function b(a){var d=Strings.GetTagValue(a,"://");this.protocol=d.name;d=Strings.GetTagValue(d.value,"/");this.origin=d.name;d=Strings.GetTagValue(d.value,"?");this.path=d.name;this.fileName=Strings.Empty(this.path)?"":c.PathHelper.basename(this.path);this.hash=$from(a.split("#")).Last;0>a.indexOf("#")&&(this.hash="");isNullOrUndefined(this.path)?this.path="/":"/"!==this.path.charAt(0)&&(this.path="/"+this.path);a=b.UrlQuery(d.value);this.queryRawString=d.value;this.queryArguments=
Dictionary.MapSequence(a).Select(function(a){return new NamedValue(a.key,a.value)});d=Strings.GetTagValue(this.origin,":");this.origin=d.name;this.port=Strings.Val(d.value);0==this.port&&(this.port="https"==this.protocol?443:80)}Object.defineProperty(b.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});b.prototype.getArgument=function(a,d,b){void 0===d&&(d=!0);void 0===b&&(b="");if(Strings.Empty(a,!1))return"";d||(a=a.toLowerCase());return this.queryArguments.Where(function(b){return d?
b.name==a:b.name.toLowerCase()==a}).FirstOrDefault({value:b}).value};b.UrlQuery=function(a){return a?c.URLPatterns.parseQueryString(a,!1):{}};b.JumpToHash=function(a){window.scrollTo(0,$ts(a).offsetTop)};b.SetHash=function(a){history.pushState?history.pushState(null,null,a):location.hash=a};b.WindowLocation=function(){return new b(window.location.href)};b.prototype.toString=function(){var a=$from(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),d=this.protocol+
"://"+this.origin+"/"+this.path;a&&(d=d+"?"+a);this.hash&&(d=d+"#"+this.hash);return d};b.Refresh=function(a){return a+"&refresh="+1E4*Math.random()};b.getHostName=function(a){a=a.match(c.URLPatterns.hostNamePattern);return null!=a&&2<a.length&&"string"===typeof a[2]&&0<a[2].length?a[2]:null};b.ParseAllUrlStrings=function(a){var d=[],b=0;for(a=Strings.getAllMatches(a,c.URLPatterns.urlPattern);b<a.length;b++)d.push(a[b][0]);return d};b.IsWellFormedUriString=function(a){return c.URLPatterns.isAPossibleUrlPattern(a,
c.URLPatterns.uriPattern)};return b}();c.URL=b})(TypeScript||(TypeScript={}));
(function(c){(function(b){b.basename=function(b){b=$from(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?b[0]:(new IEnumerator(b)).Take(b.length-1).JoinBy(".")};b.extensionName=function(b){b=$from(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?"":b[b.length-1]};b.fileName=function(b){return $from(Strings.RTrim(b,"/").split("/")).Last}})(c.PathHelper||(c.PathHelper={}))})(TypeScript||(TypeScript={}));var Modes;
(function(c){c[c.debug=0]="debug";c[c.development=10]="development";c[c.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(c){function b(a,b){var d=$ts("<a>");if("download"in d){d.download=a;d.style.display="none";document.body.appendChild(d);try{var e=DataExtensions.uriToBlob(b),c=URL.createObjectURL(e);d.href=c;d.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(c)})}}catch(l){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),"string"!==typeof b&&(b=DataExtensions.toUri(b)),d.href=b}d.click();document.body.removeChild(d)}else"string"!==
typeof b&&(b=DataExtensions.toUri(b)),window.open(b,"_temp","menubar=no,toolbar=no,status=no")}function g(d,b,f){void 0===b&&(b=null);void 0===f&&(f=null);var e=$ts("<thead>"),c=$ts("<tbody>");var g=Array.isArray(d)?a(b||$ts(Object.keys(d[0]))):a(b||$ts(Object.keys(d.First)));var n=function(a){var d=$ts("<tr>");g.forEach(function(b){return d.appendChild($ts("<td>").display(a[b.key]))});return d};Array.isArray(d)?d.forEach(function(a){return c.appendChild(n(a))}):d.ForEach(function(a){return c.appendChild(n(a))});
g.forEach(function(a){return e.appendChild($ts("<th>",{id:a.value}).display(a.value))});return $ts("<table>",f).asExtends.append(e).append(c).HTMLElement}function a(a){var d=$ts.typeof(a);if(d.isArrayOf("string"))return $from(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(d.isArrayOf(TypeExtensions.DictionaryMap))return a;if(d.isEnumerator&&"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(d.isEnumerator&&TypeScript.Reflection.getClass(a.First)==
TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+d.class;}c.download=function(a,e){navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(e),a):b(a,e)};c.clientSize=function(){var a=window,b=document,f=b.documentElement;b=b.getElementsByTagName("body")[0];return[a.innerWidth||f.clientWidth||b.clientWidth,a.innerHeight||f.clientHeight||b.clientHeight]};c.AddSelectOptions=function(a,b,f,c){void 0===f&&(f=null);void 0===c&&(c=null);a=$from(a).Select(function(a){return'<option value="'+
a.value+'">'+a.key+"</option>"}).JoinBy("\n");f=isNullOrUndefined(f)&&isNullOrUndefined(c)?a:'\n                <select class="'+c+'" multiple name="'+f+'">\n                    '+a+"\n                </select>";$ts("#"+b).innerHTML=f};c.CreateHTMLTableNode=g;c.AddHTMLTable=function(a,b,f,c){void 0===f&&(f=null);void 0===c&&(c=null);var d=Strings.Trim(b,"#")+"-table";c?c.id||(c.id=d):c={id:d};$ts(b).appendChild(g(a,f,c))}})(DOM||(DOM={}));
(function(c){var b=Modes.development,g=Modes.debug,a=Modes.production,d=function(){function d(){}Object.defineProperty(d,"outputWarning",{get:function(){return $ts.mode<=b},enumerable:!0,configurable:!0});Object.defineProperty(d,"outputEverything",{get:function(){return $ts.mode==g},enumerable:!0,configurable:!0});Object.defineProperty(d,"outputError",{get:function(){return $ts.mode==a},enumerable:!0,configurable:!0});d.warning=function(a){this.outputWarning&&console.warn(a)};d.log=function(a,d){void 0===
d&&(d=e.NA);d="string"!=typeof d?e[d].toLowerCase():d.toLowerCase();this.outputEverything&&("na"!=d&&TypeExtensions.isPrimitive(a)?console.log("%c"+a,"color:"+d):console.log(a))};d.table=function(a){this.outputEverything&&("string"==typeof a?a=JSON.parse(a):Array.isArray(a)||(a=a.ToArray(!1)),console.table(a))};d.runGroup=function(a,b){var f=Date.now();console.group(a);b();console.groupEnd();b=Date.now();d.log("Program '"+a+"' cost "+(b-f)+"ms to run.","darkblue")};return d}();c.logging=d;var e;(function(a){a[a.NA=
-1]="NA";a[a.Black=0]="Black";a[a.Blue=9]="Blue";a[a.Cyan=11]="Cyan";a[a.DarkBlue=1]="DarkBlue";a[a.DarkCyan=3]="DarkCyan";a[a.DarkGray=8]="DarkGray";a[a.DarkGreen=2]="DarkGreen";a[a.DarkMagenta=5]="DarkMagenta";a[a.DarkRed=4]="DarkRed";a[a.DarkYellow=6]="DarkYellow";a[a.Gray=7]="Gray";a[a.Green=10]="Green";a[a.Magenta=13]="Magenta";a[a.Red=12]="Red";a[a.White=15]="White";a[a.Yellow=14]="Yellow"})(e=c.ConsoleColors||(c.ConsoleColors={}))})(TypeScript||(TypeScript={}));
(function(c){(function(b){function c(d){var b=d.type.toLowerCase();return"checkbox"==b?a(d,!0):"radio"==b?d instanceof DOMEnumerator?d.Where(function(a){return a.checked}).FirstOrDefault().value:d.value:d.value}function a(a,d){void 0===d&&(d=!1);a=a instanceof DOMEnumerator?a:new DOMEnumerator(document.getElementsByName(a.name));return 1==a.Count?(a=a.ElementAt(0),d?a.checked:a.checked?a.value:null):a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1)}function d(a){var d=
[],b=0;for(a=e(a);b<a.length;b++){var f=a[b],c=f.value;c||(c=f.innerText);d.push(c)}return d}function e(a){var d=[];if(a instanceof HTMLSelectElement)for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&d.push(f)}else return a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1);return d}b.metaValue=function(a,d,b){void 0===d&&(d=null);void 0===b&&(b=!1);a='meta[name~="'+a+'"]';var e=document.querySelector(a);!e&&b&&(e=parent.window.document.querySelector(a));
e?d=(b=e.getAttribute("content"))?b:d:TypeScript.logging.outputWarning&&console.warn(a+" not found in current context!");return d};b.getValue=function(a,b){void 0===b&&(b=!0);a=$ts(a);switch(a.tagName.toLowerCase()){case "input":return c(a);case "select":return d(a);case "textarea":return a.value;default:if(b)throw"Get value of <"+a.tagName+"> is not supported!";return a.getAttribute("value")}};b.inputValue=c;b.checkboxInput=a;b.selectOptionValues=d;b.getSelectedOptions=e;b.largeText=function(a){return a.value}})(c.InputValueGetter||
(c.InputValueGetter={}))})(DOM||(DOM={}));(function(c){(function(b){function c(){for(var a=0,b=d;a<b.length;a++){var c=b[a];c.hasUpdate()&&c.invoke()}}var a=!1,d=[];b.Add=function(e,f,g){void 0===g&&(g=null);if(e instanceof b.StatusChanged){var h=e;e=function(){return h.changed}}d.push({hasUpdate:e,invoke:f,name:g});a||(setInterval(c,10),a=!0,TypeScript.logging.outputEverything&&console.log("Start background worker..."))}})(c.Events||(c.Events={}))})(DOM||(DOM={}));
(function(c){var b=function(){function b(a,d){void 0===d&&(d=null);"number"!=typeof a||isNullOrUndefined(d)?(this.min=a.min,this.max=a.max):(this.min=a,this.max=d)}Object.defineProperty(b.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});b.Create=function(a){var d=Array.isArray(a)?$ts(a):a;a=d.Min();d=d.Max();return new b(a,d)};b.prototype.IsInside=
function(a){return a>=this.min&&a<=this.max};b.prototype.ScaleMapping=function(a,d){return(a-this.min)/this.Length*(d.max-d.min)+d.min};b.prototype.PopulateNumbers=function(a){void 0===a&&(a=this.Length/10);for(var d=[],b=this.min;b<this.max;b+=a)d.push(b);return d};b.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return b}();c.NumericRange=b})(data||(data={}));
(function(c){function b(b){b.post=function(b,e,c,f){e={type:HttpHelpers.measureContentType(e),data:e,sendContentType:(f||{}).sendContentType||!0};HttpHelpers.POST(a(b),e,function(a,e){c&&(200==e?c(d(a)):c({code:e,info:a,url:b}))})};b.getText=function(d,b,e){void 0===e&&(e={nullForNotFound:!1});HttpHelpers.GetAsyn(a(d),function(a,d){200!=d?e.nullForNotFound?b(""):b(a):b(a)})};b.get=function(b,e){HttpHelpers.GetAsyn(a(b),function(a,c){e&&(200==c?e(d(a)):e({code:c,info:a,url:b}))})};b.upload=function(b,
e,c){HttpHelpers.UploadFile(a(b),e,null,function(a){c&&c(d(a))})};"undefined"!=typeof window&&(b.location=g());b.parseURL=function(a){return new TypeScript.URL(a)};b.goto=function(a,d){void 0===d&&(d={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(d.lambda)return function(){Goto(a,d.currentFrame)};Goto(a,d.currentFrame)}};return b}function g(){var a=TypeScript.URL.WindowLocation(),d=function(d,b,e){void 0===b&&(b=!0);void 0===e&&(e="");return a.getArgument(d,
b,e)};d.url=a;d.hasQueryArguments=!isNullOrUndefined(a.query)&&0<a.query.length;d.path=a.path||"/";d.fileName=a.fileName;d.hash=function(a,d){void 0===a&&(a={trimprefix:!0,doJump:!1});void 0===d&&(d=null);if(isNullOrUndefined(d))return d=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,d&&a&&1<d.length?d.substr(1):isNullOrUndefined(d)?"":d;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=d:TypeScript.URL.SetHash(d)};return d}function a(a,d){void 0===d&&(d=!1);if("@"==a.charAt(0)){for(var b=
[],e,c=1;c<a.length;c++){var f=e=a.charAt(c);f=-1<l.indexOf(f)?!0:Strings.isNumber(f)||Strings.isAlphabet(f);if(f)b.push(e);else break}e=b.join("");a=DOM.InputValueGetter.metaValue(e,e,!d)+a.substr(b.length+1)}return a}function d(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function e(a,d){a.imports=function(a,d,b,e){void 0===d&&(d=DoNothing);void 0===b&&(b=!1);void 0===e&&(e=!1);return(new HttpHelpers.Imports(a,
b,e)).doLoad(d)};a.eval=function(a,d,b){void 0===d&&(d=!1);d&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,b)};a.value=function(a,d,b){void 0===d&&(d=null);void 0===b&&(b=!1);if(isNullOrUndefined(d))return DOM.InputValueGetter.getValue(a,b);DOM.InputValueSetter.setValue(a,d,b)};a.inject=function(a,d){a=$ts(a).contentWindow;TypeScript.logging.outputEverything&&console.log(d);if(Array.isArray(d))for(var b=0;b<d.length;b++)a.eval(d[b].toString());else"string"==typeof d?a.eval(d):a.eval(d.toString())};
a.text=function(a,b){void 0===b&&(b=!1);a=c.Handlers.makesureElementIdSelector(a);a=d.doEval(a,null,null);return b?a.innerHTML:a.innerText};a.loadJSON=function(d){return JSON.parse(a.text(d))};a.parseFileName=TypeScript.PathHelper.fileName;a.baseName=TypeScript.PathHelper.basename;a.extensionName=TypeScript.PathHelper.extensionName;a.withExtensionName=function(a,d){return $ts.extensionName(a).toLowerCase()==d.toLowerCase()};a.doubleRange=data.NumericRange.Create;a.hook=DOM.Events.Add;a.typeof=TypeScript.Reflection.$typeof;
a.clone=function(a){return DataExtensions.merge(a,{})};return a}function f(a){a.isNullOrEmpty=function(a){return isNullOrEmpty(a)};a.from=$from;a.csv=function(a,d){"boolean"!=typeof d&&(d=d(a));return csv.dataframe.Parse(a,d)};a.csv.toObjects=function(a){return csv.dataframe.Parse(a,csv.isTsvFile(a)).Objects()};a.csv.toText=function(a,d){void 0===d&&(d=!1);return csv.toDataFrame(a).buildDoc(d)};a.csv.toUri=function(a,d){a=$ts.csv.toText(a,d);return{mime_type:csv.contentType,data:Base64.encode(a)}};
a.evalHTML={table:DOM.CreateHTMLTableNode,selectOptions:DOM.AddSelectOptions};a.appendTable=DOM.AddHTMLTable;return a}function h(a){a.select=function(a,d){void 0===d&&(d=window);return c.Handlers.stringEval.select(a,d)};a.select.getSelectedOptions=function(a,d){void 0===d&&(d=window);a=$ts(a,{context:d});a=DOM.InputValueGetter.getSelectedOptions(a);return new DOMEnumerator(a)};a.select.getOption=function(a,d){void 0===d&&(d=window);a=$ts(a,{context:d});a=DOM.InputValueGetter.getSelectedOptions(a);
return 0==a.length?null:"string"==typeof a[0]?a[0]:a[0].value};return a}function k(a,d,b){var e=TypeScript.Reflection.$typeof(d),f=e.typeOf,g=f in a?a[f]():null;if("object"!=f||"HTMLCollection"!=e.class&&"NodeListOf"!=e.class){if(e.isArray)return g.doEval(d,e,b);if("function"==e.typeOf)TypeScript.logging.outputEverything&&!isNullOrUndefined(b)&&"HTMLIFrameElement"==TypeScript.Reflection.getClass(b)&&(console.log("Apply a new ready event on iframe:"),console.log(b)),DOM.Events.ready(d,["interactive",
"complete"],b);else{if(TypeExtensions.isElement(d))return TypeExtensions.Extends(d);if(isNullOrUndefined(eval)){a=a[e.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+e.toString();return a().doEval(d,e,b)}return g.doEval(d,e,b)}}else return c.Handlers.Shared.HTMLCollection().doEval(d,e,b)}c.StringEval=new c.Handlers.stringEval;c.Static=function(){var a=c.Handlers.Shared,d=function(d,b){return k(a,d,b)},g=a.string();d.mode=Modes.production;d=e(d,g);d=f(d);d=b(d);return d=h(d)};var l=[":",
"_"];c.urlSolver=a;c.queryFunction=k})(Internal||(Internal={}));"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(c){return this.slice(0,c.length)==c});function $imports(c,b,g,a){void 0===b&&(b=DoNothing);void 0===g&&(g=!1);void 0===a&&(a=!1);return(new HttpHelpers.Imports(c,g,a)).doLoad(b)}
function $include(c){"string"==typeof c&&(c=[c]);$ts(function(){return c.forEach(function(b){var c=$ts("<script>",{type:"text/javascript",src:b});c.onload=function(){document.body.removeChild(c)};document.body.appendChild(c)})})}function md5(c,b,g){void 0===b&&(b=null);void 0===g&&(g=null);return MD5.calculate(c,b,g)}function $from(c){return new IEnumerator(c)}function CharEnumerator(c){return new IEnumerator(Strings.ToCharArray(c))}
function isNullOrEmpty(c){return null==c||void 0==c?!0:Array.isArray(c)&&0==c.length?!0:0==c.Count?!0:!1}function isNullOrUndefined(c){return null==c||void 0==c?!0:!1}function LoadJson(c){return JSON.parse(LoadText(c))}function LoadText(c){return document.getElementById(c).textContent}function getAllUrlParams(c){void 0===c&&(c=window.location.href);return-1<c.indexOf("?")?(c=Strings.GetTagValue(c,"?").value,c=TypeScript.URLPatterns.parseQueryString(c),new Dictionary(c)):new Dictionary({})}
function Goto(c,b){void 0===b&&(b=!1);var g=window;b||(g=window.top);g.location.href=Internal.urlSolver(c,b)}function base64_decode(c){c=Strings.lineTokens(c);c=$from(c).Where(function(b){return b&&0<b.length}).Select(function(b){return b.trim()}).JoinBy("");return Base64.decode(c)}function DoNothing(){return null}function saveSvgAsPng(c,b,g){void 0===g&&(g=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(c,b,g)}
var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static();function $image(c,b){return Internal.StringEval.doEval(c,null,b)}function $input(c,b){return Internal.StringEval.doEval(c,null,b)}function $link(c,b){return Internal.StringEval.doEval(c,null,b)}var TypeExtensions;
(function(c){c.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";c.DictionaryMap=TypeScript.Reflection.getClass(new MapTuple("",""));c.ensureNumeric=function(b){return"number"==typeof b?b:parseFloat(b)};c.isPrimitive=function(b){b=typeof b;return"string"==b||"number"==b||"boolean"==b};c.isElement=function(b){try{return b instanceof HTMLElement}catch(g){return"object"===typeof b&&1===b.nodeType&&"object"===typeof b.style&&"object"===
typeof b.ownerDocument}};c.isMessageObject=function(b){var c=$ts.typeof(b);c=Activator.EmptyObject(c.property,!0);return"code"in c&&"info"in c&&Strings.IsPattern(b.code.toString(),/\d+/g)?!0:!1}})(TypeExtensions||(TypeExtensions={}));
var Group=function(c){function b(b,a){a=c.call(this,a)||this;a.Key=b;return a}__extends(b,c);Object.defineProperty(b.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.ToMaps=function(){var b=this;return $from(this.sequence).Select(function(a){return new MapTuple(b.Key,a)}).ToArray()};return b}(IEnumerator),List=function(c){function b(b){void 0===b&&(b=null);return c.call(this,b||[])||this}__extends(b,c);b.prototype.Add=function(b){this.sequence.push(b);
return this};b.prototype.AddRange=function(b){var a=this;Array.isArray(b)?b.forEach(function(d){return a.sequence.push(d)}):b.ForEach(function(d){return a.sequence.push(d)});return this};b.prototype.IndexOf=function(b){return this.sequence.indexOf(b)};b.prototype.Pop=function(){var b=this.First;this.sequence=this.sequence.slice(1);return b};return b}(IEnumerator),Matrix=function(c){function b(g,a,d){void 0===d&&(d=null);return c.call(this,b.emptyMatrix(g,a,d))||this}__extends(b,c);Object.defineProperty(b.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});b.emptyMatrix=function(b,a,d){for(var e=[],c=0;c<a;c++)e.push(DataExtensions.Dim(b,d));return e};b.prototype.M=function(b,a,d){void 0===d&&(d=null);if(isNullOrUndefined(d))return this.sequence[b][a];this.sequence[b][a]=d};b.prototype.column=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a)){a=
[];for(var d=0;d<this.rows;d++)a.push(this.sequence[d][b]);return a}a=Array.isArray(a)?a:a.ToArray(!1);for(d=0;d<this.rows;d++)this.sequence[d][b]=a[d];return null};b.prototype.row=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[b];Array.isArray(a)?this.sequence[b]=a:this.sequence[b]=a.ToArray(!1)};b.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return b}(IEnumerator),Pointer=function(c){function b(b){b=c.call(this,b)||this;b.p=0;return b}
__extends(b,c);Object.defineProperty(b.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Next",{get:function(){var b=this.Current;this.p+=1;return b},enumerable:!0,configurable:!0});b.prototype.MoveNext=function(){this.p+=1;return this};b.prototype.Peek=function(b){return this.sequence[this.p+b]};return b}(IEnumerator),
SlideWindow=function(c){function b(b,a){a=c.call(this,a)||this;a.index=b;return a}__extends(b,c);b.Split=function(c,a,d){void 0===d&&(d=1);Array.isArray(c)||(c=c.ToArray());for(var e=c.length-a,f=[],g=0;g<e;g+=d){for(var k=Array(a),l=0;l<a;l++)k[l]=c[g+l];f.push(new b(g,k))}return new IEnumerator(f)};return b}(IEnumerator),Which;
(function(c){function b(a,d){void 0===d&&(d=g.default());for(var b=null,c=0,h=0;h<a.Count;h++)0<d(a.ElementAt(h),b)&&(b=a.ElementAt(h),c=h);return c}c.Is=function(a){Array.isArray(a)&&(a=new IEnumerator(a));return a.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var g=function(){function a(){this.as_numeric=null}a.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=Strings.AsNumeric(a),this.as_numeric||(this.as_numeric=
Strings.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};a.default=function(){return(new a).compares};return a}();c.DefaultCompares=g;c.Max=b;c.Min=function(a,d){void 0===d&&(d=g.default());return b(a,function(a,b){return-d(a,b)})}})(Which||(Which={}));
(function(c){var b=function(){function b(a,d){this.xset=a;this.yset=d;this.keysT=c.AllKeys(a);this.keysU=c.AllKeys(d)}b.prototype.JoinProject=function(a,d){var b={};this.keysT.forEach(function(d){return b[d]=a[d]});this.keysU.forEach(function(a){return b[a]=d[a]});return b};b.prototype.Union=function(a,d,b,c){void 0===c&&(c=this.JoinProject);var e=this.buildUtree(d,b),f=[],g=new algorithm.BTree.binaryTree(b);this.xset.forEach(function(d){var b=a(d),h=e.find(b);h?(h.forEach(function(a){return f.push(c(d,
a))}),g.find(b)||g.add(b)):f.push(c(d,{}))});this.yset.forEach(function(a){var b=d(a);g.find(b)||f.push(c({},a))});return new IEnumerator(f)};b.prototype.buildUtree=function(a,d){var b=new algorithm.BTree.binaryTree(d);this.yset.forEach(function(d){var e=a(d),c=b.find(e);c?c.push(d):b.add(e,[d])});return b};b.prototype.LeftJoin=function(a,d,b,c){void 0===c&&(c=this.JoinProject);var e=this.buildUtree(d,b),f=[];this.xset.forEach(function(d){var b=a(d);(b=e.find(b))?b.forEach(function(a){return f.push(c(d,
a))}):f.push(c(d,{}))});return new IEnumerator(f)};return b}();c.JoinHelper=b})(Enumerable||(Enumerable={}));
(function(c){var b=function(){function b(){}b.parseQuery=function(a){if("&"==a.charAt(0)){var d=!0;a=a.substr(1)}else d=!1;return b.parseExpression(a,d)};b.getById=function(a){return{type:c.QueryTypes.id,singleNode:!0,expression:a}};b.getByClass=function(a,d){return{type:c.QueryTypes.class,singleNode:d,expression:a}};b.getByName=function(a,d){return{type:c.QueryTypes.name,singleNode:d,expression:"[name='"+a+"']"}};b.getByTag=function(a,d){return{type:c.QueryTypes.tagName,singleNode:d,expression:a}};
b.createElement=function(a){return{type:c.QueryTypes.NoQuery,singleNode:!0,expression:a}};b.queryMeta=function(a){return{type:c.QueryTypes.QueryMeta,singleNode:!0,expression:a}};b.isSelectorQuery=function(a){var d=-1<a.indexOf(" ");a="<"==a.charAt(0)&&">"==a.charAt(a.length-1);return d&&!a};b.parseExpression=function(a,d){var e=a.charAt(0);if(b.isSelectorQuery(a))return{type:c.QueryTypes.tagName,singleNode:d,expression:a};switch(e){case "#":return this.getById(a.substr(1));case ".":return this.getByClass(a,
d);case "!":return this.getByName(a.substr(1),d);case "<":return this.createElement(a);case "@":return this.queryMeta(a.substr(1));default:return this.getByTag(a,d)}};return b}();c.Query=b})(DOM||(DOM={}));(function(c){c=c.QueryTypes||(c.QueryTypes={});c[c.NoQuery=0]="NoQuery";c[c.id=1]="id";c[c["class"]=10]="class";c[c.name=100]="name";c[c.tagName=-100]="tagName";c[c.QueryMeta=200]="QueryMeta"})(DOM||(DOM={}));
(function(c){(function(b){function c(a,d){a=a.options;for(var b=0;b<a.length;b++)a.item(b).selected=!1,a.item(b).value==d&&(a.item(b).selected=!0)}function a(a,d){a=a.Select(function(a){a=a.asInput;a.checked=!1;return a}).Where(function(a){return a.value==d}).First;a.checked=!0;TypeScript.logging.log(a)}function d(d,b,g){var e=d.First;switch(e.tagName.toLowerCase()){case "input":switch(e.asInput.type.toLowerCase()){case "checkbox":a(d,b);break;case "radio":a(d,b);break;default:d.attr("value",b)}break;
case "select":d.ForEach(function(a){return c(a,b)});break;case "textarea":d.ctype().ForEach(function(a){return a.value=b});break;default:if(g)throw"Set value of <"+d.tagName+"> is not supported!";d.attr("value",b)}}b.setValue=function(a,b,g){void 0===g&&(g=!0);a=$ts(a);if($ts.typeof(a).isEnumerator)d(new DOMEnumerator(a),b,g);else switch(a.tagName.toLowerCase()){case "input":a.asInput.value=b;break;case "select":c(a,b);break;case "textarea":a.any.value=b;break;default:if(g)throw"Set value of <"+a.tagName+
"> is not supported!";return a.setAttribute("value",b)}}})(c.InputValueSetter||(c.InputValueSetter={}))})(DOM||(DOM={}));
(function(c){var b=function(){function b(){}b.FromNode=function(a){var d=new b;d.tagName=a.tagName;d.id=a.id;d.classList=this.tokenList(a.classList);d.attrs=this.nameValueMaps(a.attributes);return d};b.tokenList=function(a){for(var d=[],b=0;b<a.length;b++)d.push(a.item(b));return d};b.nameValueMaps=function(a){for(var d=[],b,c=0;c<a.length;c++)b=a.item(c),b=new NamedValue(b.name,b.value),d.push(b);return d};return b}();c.node=b})(DOM||(DOM={}));
(function(c){c.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;c.ParseNodeDeclare=function(b){b=b.substr(1,b.length-2).trim();b=Strings.GetTagValue(b," ");var g=b.name,a=[];0<b.value.length&&(a=$from(b.value.match(c.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var d=a.value.trim();d=d.substr(1,d.length-2);return new NamedValue(a.name,d)}).ToArray());return{tag:g,attrs:a}}})(DOM||(DOM={}));
(function(c){(function(b){b.isSupportsCSSAnimation=function(){var b=document.getElementsByTagName("body")[0].style;return"undefined"!=typeof b.animation||"undefined"!=typeof b.WebkitAnimation?!0:!1}})(c.Animation||(c.Animation={}))})(DOM||(DOM={}));
(function(c){(function(b){b.parseStylesheet=function(b){b=new Pointer(CharEnumerator(b));for(var a=[],d=[],c,f;!b.EndRead;)f=b.Current,b.MoveNext(),":"==f?(c=d.join("").trim(),d=[]):";"==f?(f=d.join("").trim(),d=[],a.push(new NamedValue(c,f))):d.push(f);0<d.length&&a.push(new NamedValue(c,d.join("")));return a}})(c.CSS||(c.CSS={}))})(DOM||(DOM={}));
(function(c){(function(b){(function(c){function a(a,b){a=a.style;TypeScript.logging.log(b);for(var d=0;d<b.length;d++){var c=b[d],e=a,g=c.name;c=c.value;switch(g.toLowerCase()){case "color":e.color=c;break;case "background-color":e.backgroundColor=c;break;case "font-size":e.fontSize=c;break;default:e[g]=c,TypeScript.logging.warning("Set style '"+g+"' is not implements yet...")}}}c.css=function(d,c){a(d,b.parseStylesheet(c))};c.setStyle=a})(b.Setter||(b.Setter={}))})(c.CSS||(c.CSS={}))})(DOM||(DOM=
{}));
(function(c){(function(b){function c(a,d,b){if(document.addEventListener)if(a&&a.nodeName||a===window)a.addEventListener(d,b,!1);else{if(a&&a.length)for(var e=0;e<a.length;e++)c(a[e],d,b)}else if(a&&a.nodeName||a===window)a.attachEvent("on"+d,function(){return b.call(a,window.event)});else if(a&&a.length)for(e=0;e<a.length;e++)c(a[e],d,b)}b.ready=function(a,b,c){void 0===b&&(b=["interactive","complete"]);void 0===c&&(c=null);var d=isNullOrUndefined(c)?document:isNullOrUndefined(c.contentDocument)?c.contentWindow.document:
c.contentDocument;if("function"===typeof a){if(isNullOrUndefined(d)){if($ts.mode==Modes.production){console.warn("Target document object is nothing! Current event will not be handled....");return}if($ts.mode==Modes.debug){console.warn("Target document object is nothing! Current event will not be handled....");console.log("target iframe:");console.warn(c.contentWindow);return}}else TypeScript.logging.outputEverything&&(console.log("Add Document.ready event handler."),console.log("document.readyState = "+
d.readyState));if(-1<b.indexOf(d.readyState))return a();d.addEventListener("DOMContentLoaded",a,!1)}};b.addEvent=c})(c.Events||(c.Events={}))})(DOM||(DOM={}));
(function(c){(function(b){var c=function(){function a(a,b){void 0===b&&(b=!0);this.predicate=a;this.triggerNo=b;this.agree=a();isNullOrUndefined(b)&&(this.triggerNo=!1)}Object.defineProperty(a.prototype,"changed",{get:function(){var a=this.predicate();return a&&this.agree?!1:a&&!this.agree?this.agree=!0:!a&&this.agree?(this.agree=!1,this.triggerNo):!1},enumerable:!0,configurable:!0});return a}();b.StatusChanged=c})(c.Events||(c.Events={}))})(DOM||(DOM={}));
var HTMLTsElement=function(){function c(b){this.node=b instanceof HTMLElement?b:b.node}Object.defineProperty(c.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});c.prototype.display=function(b){if(b)if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)this.HTMLElement.innerHTML=b.toString();else{var g=this.HTMLElement;b="function"==typeof b?b():b instanceof c?b.HTMLElement:b;g.innerHTML="";g.appendChild(b)}else this.HTMLElement.innerHTML="";return this};
c.prototype.clear=function(){this.HTMLElement.innerHTML="";return this};c.prototype.text=function(b){this.HTMLElement.innerText=b;return this};c.prototype.addClass=function(b){var c=this.HTMLElement;c.classList.contains(b)||c.classList.add(b);return this};c.prototype.removeClass=function(b){var c=this.HTMLElement;c.classList.contains(b)&&c.classList.remove(b);return this};c.prototype.append=function(b){b instanceof c?this.HTMLElement.appendChild(b.HTMLElement):b instanceof HTMLElement?this.HTMLElement.appendChild(b):
this.HTMLElement.appendChild(b());return this};c.prototype.show=function(){this.HTMLElement.style.display="block";return this};c.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return c}();
(function(c){c.Extends=function(b){if(isNullOrUndefined(b))return null;var c=new HTMLTsElement(b);b.css=function(a,d){void 0===d&&(d=!1);d?b.setAttribute("style",a):DOM.CSS.Setter.css(b,a);return b};b.display=function(a){c.display(a);return b};b.append=function(a){"string"==typeof a&&(a=$ts("<span>").display(a));c.append(a);return b};b.show=function(){c.show();return b};b.hide=function(){c.hide();return b};b.addClass=function(a){c.addClass(a);return b};b.removeClass=function(a){c.removeClass(a);return b};
b.onClassChanged=function(a,d,c){c=new DOM.Events.StatusChanged(function(){return b.classList.contains(a)},c);$ts.hook(c,d)};b.CType=function(){return b};b.clear=function(){b.innerHTML="";return b};b.selects=function(a){return Internal.Handlers.stringEval.select(a,b)};b.attr=function(a,d){if("src"==(a=a.toLowerCase())||"href"==a)d=Internal.urlSolver(d,!0),TypeScript.logging.log("set_attr "+a+"='"+d+"'");b.setAttribute(a,d);return b};b.interactive=function(a){a?(b.style.pointerEvents="auto",b.style.opacity=
"1"):(b.style.pointerEvents="none",b.style.opacity="0.4")};b.asExtends=c;b.any=b;b.asImage=b;return b.asInput=b}})(TypeExtensions||(TypeExtensions={}));(function(c){(function(b){var c=function(){function a(a){this.meta=a}a.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=Internal.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return a}();b.MetaReader=c})(c.Data||(c.Data={}))})(TypeScript||(TypeScript={}));var TsLinq;
(function(c){var b=function(a){function b(){return a.call(this,[])||this}__extends(b,a);Object.defineProperty(b.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.enqueue=function(a){var b=this.Last,d=this.Q;a=new g(a);d.push(a);b&&(b.below=a,a.above=b)};b.prototype.extract=function(a){var b=this.Q,d=b[a-1],c=b[a+1];a=b.splice(a,1)[0];d&&(d.below=c);c&&(c.above=d);return a};b.prototype.dequeue=function(){return this.extract(0)};return b}(IEnumerator);c.PriorityQueue=
b;var g=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();c.QueueItem=g})(TsLinq||(TsLinq={}));var algorithm;
(function(c){(function(b){var c=function(){function a(a){void 0===a&&(a=function(a,b){a=Strings.as_numeric(a);b=Strings.as_numeric(b);return a-b});this.compares=a}a.prototype.add=function(a,c){void 0===c&&(c=null);var d=this.root;if(d)for(;d;){var e=this.compares(a,d.key);if(0==e){d.value=c;break}else if(0>e)if(d.left)d=d.left;else{d.left=new b.node(a,c);break}else if(d.right)d=d.right;else{d.right=new b.node(a,c);break}}else this.root=new b.node(a,c)};a.prototype.find=function(a){for(var b=this.root,
d;b;){d=this.compares(a,b.key);if(0==d)return b.value;b=0>d?b.left:b.right}return null};a.prototype.ToArray=function(){return b.binaryTreeExtensions.populateNodes(this.root)};a.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return a}();b.binaryTree=c})(c.BTree||(c.BTree={}))})(algorithm||(algorithm={}));
(function(c){(function(b){(function(b){function a(b,c){isNullOrUndefined(b)?TypeScript.logging.outputWarning&&console.warn(b):(c.push(b),b.left&&a(b.left,c),b.right&&a(b.right,c))}b.populateNodes=function(b){var d=[];a(b,d);return d}})(b.binaryTreeExtensions||(b.binaryTreeExtensions={}))})(c.BTree||(c.BTree={}))})(algorithm||(algorithm={}));
(function(c){(function(b){var c=function(){function a(a,b,c,g){void 0===b&&(b=null);void 0===c&&(c=null);void 0===g&&(g=null);this.key=a;this.left=c;this.right=g;this.value=b}a.prototype.toString=function(){return this.key.toString()};return a}();b.node=c})(c.BTree||(c.BTree={}))})(algorithm||(algorithm={}));
(function(c){(function(b){function c(a,c,e,g){if(!a)return b.w3color.emptyObject;c||(c=1);var f=b.rgbToHsl(a.r,a.g,a.b);var h=b.rgbToHwb(a.r,a.g,a.b);var k=b.rgbToCmyk(a.r,a.g,a.b);e=e||f.h;var l=g||f.s;g=d(e);a={red:a.r,green:a.g,blue:a.b,hue:e,sat:l,lightness:f.l,whiteness:h.w,blackness:h.b,cyan:k.c,magenta:k.m,yellow:k.y,black:k.k,ncol:g,opacity:c,valid:!0};a.red=Number(a.red.toFixed(0));a.green=Number(a.green.toFixed(0));a.blue=Number(a.blue.toFixed(0));a.hue=Number(a.hue.toFixed(0));a.sat=Number(a.sat.toFixed(2));
a.lightness=Number(a.lightness.toFixed(2));a.whiteness=Number(a.whiteness.toFixed(2));a.blackness=Number(a.blackness.toFixed(2));a.cyan=Number(a.cyan.toFixed(2));a.magenta=Number(a.magenta.toFixed(2));a.yellow=Number(a.yellow.toFixed(2));a.black=Number(a.black.toFixed(2));a.ncol=a.ncol.substr(0,1)+Math.round(Number(a.ncol.substr(1)));a.opacity=Number(a.opacity.toFixed(2));return a}function a(a){if("names"==a)return"AliceBlue AntiqueWhite Aqua Aquamarine Azure Beige Bisque Black BlanchedAlmond Blue BlueViolet Brown BurlyWood CadetBlue Chartreuse Chocolate Coral CornflowerBlue Cornsilk Crimson Cyan DarkBlue DarkCyan DarkGoldenRod DarkGray DarkGrey DarkGreen DarkKhaki DarkMagenta DarkOliveGreen DarkOrange DarkOrchid DarkRed DarkSalmon DarkSeaGreen DarkSlateBlue DarkSlateGray DarkSlateGrey DarkTurquoise DarkViolet DeepPink DeepSkyBlue DimGray DimGrey DodgerBlue FireBrick FloralWhite ForestGreen Fuchsia Gainsboro GhostWhite Gold GoldenRod Gray Grey Green GreenYellow HoneyDew HotPink IndianRed Indigo Ivory Khaki Lavender LavenderBlush LawnGreen LemonChiffon LightBlue LightCoral LightCyan LightGoldenRodYellow LightGray LightGrey LightGreen LightPink LightSalmon LightSeaGreen LightSkyBlue LightSlateGray LightSlateGrey LightSteelBlue LightYellow Lime LimeGreen Linen Magenta Maroon MediumAquaMarine MediumBlue MediumOrchid MediumPurple MediumSeaGreen MediumSlateBlue MediumSpringGreen MediumTurquoise MediumVioletRed MidnightBlue MintCream MistyRose Moccasin NavajoWhite Navy OldLace Olive OliveDrab Orange OrangeRed Orchid PaleGoldenRod PaleGreen PaleTurquoise PaleVioletRed PapayaWhip PeachPuff Peru Pink Plum PowderBlue Purple RebeccaPurple Red RosyBrown RoyalBlue SaddleBrown Salmon SandyBrown SeaGreen SeaShell Sienna Silver SkyBlue SlateBlue SlateGray SlateGrey Snow SpringGreen SteelBlue Tan Teal Thistle Tomato Turquoise Violet Wheat White WhiteSmoke Yellow YellowGreen".split(" ");
if("hexs"==a)return"f0f8ff faebd7 00ffff 7fffd4 f0ffff f5f5dc ffe4c4 000000 ffebcd 0000ff 8a2be2 a52a2a deb887 5f9ea0 7fff00 d2691e ff7f50 6495ed fff8dc dc143c 00ffff 00008b 008b8b b8860b a9a9a9 a9a9a9 006400 bdb76b 8b008b 556b2f ff8c00 9932cc 8b0000 e9967a 8fbc8f 483d8b 2f4f4f 2f4f4f 00ced1 9400d3 ff1493 00bfff 696969 696969 1e90ff b22222 fffaf0 228b22 ff00ff dcdcdc f8f8ff ffd700 daa520 808080 808080 008000 adff2f f0fff0 ff69b4 cd5c5c 4b0082 fffff0 f0e68c e6e6fa fff0f5 7cfc00 fffacd add8e6 f08080 e0ffff fafad2 d3d3d3 d3d3d3 90ee90 ffb6c1 ffa07a 20b2aa 87cefa 778899 778899 b0c4de ffffe0 00ff00 32cd32 faf0e6 ff00ff 800000 66cdaa 0000cd ba55d3 9370db 3cb371 7b68ee 00fa9a 48d1cc c71585 191970 f5fffa ffe4e1 ffe4b5 ffdead 000080 fdf5e6 808000 6b8e23 ffa500 ff4500 da70d6 eee8aa 98fb98 afeeee db7093 ffefd5 ffdab9 cd853f ffc0cb dda0dd b0e0e6 800080 663399 ff0000 bc8f8f 4169e1 8b4513 fa8072 f4a460 2e8b57 fff5ee a0522d c0c0c0 87ceeb 6a5acd 708090 708090 fffafa 00ff7f 4682b4 d2b48c 008080 d8bfd8 ff6347 40e0d0 ee82ee f5deb3 ffffff f5f5f5 ffff00 9acd32".split(" ")}
function d(a){for(;360<=a;)a-=360;if(60>a)return"R"+a/.6;if(120>a)return"Y"+(a-60)/.6;if(180>a)return"G"+(a-120)/.6;if(240>a)return"C"+(a-180)/.6;if(300>a)return"B"+(a-240)/.6;if(360>a)return"M"+(a-300)/.6}function e(a){var d,c,e;a=b.w3trim(a).toUpperCase();a=a.replace("(","");a=a.replace(")","");a=a.replace("NCS","NCS ");a=a.replace(/  /g," ");-1==a.indexOf("NCS")&&(a="NCS "+a);a=a.match(/^(?:NCS|NCS\sS)\s(\d{2})(\d{2})-(N|[A-Z])(\d{2})?([A-Z])?$/);if(null===a)return!1;var f=parseInt(a[1],10);var g=
parseInt(a[2],10);var m=a[3];if("N"!=m&&"Y"!=m&&"R"!=m&&"B"!=m&&"G"!=m)return!1;a=parseInt(a[4],10)||0;"N"!==m?(f=1.05*f-5.25,"Y"===m&&60>=a?d=1:"Y"===m&&60<a||"R"===m&&80>=a?d=(Math.sqrt(14884-Math.pow("Y"===m?a-60:a+40,2))-22)/100:"R"===m&&80<a||"B"===m?d=0:"G"===m&&(d=(Math.sqrt(33800-Math.pow(a-170,2))-70)/100),"Y"===m&&80>=a?c=0:"Y"===m&&80<a||"R"===m&&60>=a?c=(104-Math.sqrt(11236-Math.pow("Y"===m?a-80+20.5:a+20+20.5,2)))/100:"R"===m&&60<a||"B"===m&&80>=a?c=(Math.sqrt(1E4-Math.pow("R"===m?a-
60-60:a+40-60,2))-10)/100:"B"===m&&80<a||"G"===m&&40>=a?c=(122-Math.sqrt(19881-Math.pow("B"===m?a-80-131:a+20-131,2)))/100:"G"===m&&40<a&&(c=0),"Y"===m?e=(85-.85*a)/100:"R"===m&&60>=a?e=0:"R"===m&&60<a?e=(67.5-Math.sqrt(5776-Math.pow(a-60+35,2)))/100:"B"===m&&60>=a?e=(6.5+Math.sqrt(7044.5-Math.pow(1*a-68.5,2)))/100:"B"===m&&60<a||"G"===m&&60>=a?e=.9:"G"===m&&60<a&&(e=(90-.125*(a-60))/100),m=(d+e+c)/3,d=(m-d)*(100-g)/100+d,e=(m-e)*(100-g)/100+e,c=(m-c)*(100-g)/100+c,m=1/(d>e&&d>c?d:e>d&&e>c?e:c>d&&
c>e?c:(d+e+c)/3),g=parseInt(d*m*(100-f)/100*255,10),e=parseInt(e*m*(100-f)/100*255,10),f=parseInt(c*m*(100-f)/100*255,10),255<g&&(g=255),255<e&&(e=255),255<f&&(f=255),0>g&&(g=0),0>e&&(e=0),0>f&&(f=0)):(f=parseInt(255*(1-f/100),10),255<f&&(f=255),0>f&&(f=0),e=g=f);return{r:g,g:e,b:f}}b.toColorObject=function(d){var f=[],g;d=b.w3trim(d.toLowerCase());var l=d.substr(0,1).toUpperCase();var n=d.substr(1);var p=1;"R"!=l&&"Y"!=l&&"G"!=l&&"C"!=l&&"B"!=l&&"M"!=l&&"W"!=l||isNaN(n)||6==d.length&&-1==d.indexOf(",")||
(d="ncol("+d+")");3==d.length||6==d.length||isNaN(parseFloat(d))||(d="ncol("+d+")");0<d.indexOf(",")&&-1==d.indexOf("(")&&(d="ncol("+d+")");if("rgb"==d.substr(0,3)||"hsl"==d.substr(0,3)||"hwb"==d.substr(0,3)||"ncol"==d.substr(0,4)||"cmyk"==d.substr(0,4)){"ncol"==d.substr(0,4)?(4==d.split(",").length&&-1==d.indexOf("ncola")&&(d=d.replace("ncol","ncola")),l="ncol",d=d.substr(4)):"cmyk"==d.substr(0,4)?(l="cmyk",d=d.substr(4)):(l=d.substr(0,3),d=d.substr(3));n=3;var m=!1;"a"==d.substr(0,1).toLowerCase()?
(n=4,m=!0,d=d.substr(1)):"cmyk"==l&&(n=4,5==d.split(",").length&&(n=5,m=!0));d=d.replace("(","");d=d.replace(")","");f=d.split(",");if("rgb"==l){if(f.length!=n)return b.w3color.emptyObject;for(g=0;g<n;g++){if(""==f[g]||" "==f[g])f[g]="0";-1<f[g].indexOf("%")&&(f[g]=f[g].replace("%",""),f[g]=Number(f[g]/100),3>g&&(f[g]=Math.round(255*f[g])));if(isNaN(f[g]))return b.w3color.emptyObject;255<parseInt(f[g])&&(f[g]=255);3>g&&(f[g]=parseInt(f[g]));3==g&&1<Number(f[g])&&(f[g]=1)}var q={r:f[0],g:f[1],b:f[2]};
1==m&&(p=Number(f[3]))}if("hsl"==l||"hwb"==l||"ncol"==l){for(;f.length<n;)f.push("0");("hsl"==l||"hwb"==l)&&360<=parseInt(f[0])&&(f[0]=0);for(g=1;g<n;g++){if(-1<f[g].indexOf("%")){f[g]=f[g].replace("%","");f[g]=Number(f[g]);if(isNaN(f[g]))return b.w3color.emptyObject;f[g]/=100}else f[g]=Number(f[g]);1<Number(f[g])&&(f[g]=1);0>Number(f[g])&&(f[g]=0)}if("hsl"==l){q=b.hslToRgb(f[0],f[1],f[2]);var v=Number(f[0]);var t=Number(f[1])}"hwb"==l&&(q=b.hwbToRgb(f[0],f[1],f[2]));if("ncol"==l)a:{var r=f[0];d=
f[1];q=f[2];var u=r;if(isNaN(parseFloat(r.substr(0,1)))){g=r.substr(0,1).toUpperCase();r=r.substr(1);""==r&&(r=0);r=Number(r);if(isNaN(r)){q=!1;break a}"R"==g&&(u=.6*r);"Y"==g&&(u=60+.6*r);"G"==g&&(u=120+.6*r);"C"==g&&(u=180+.6*r);"B"==g&&(u=240+.6*r);"M"==g&&(u=300+.6*r);"W"==g&&(u=0,d=1-r/100,q=r/100)}q=b.hwbToRgb(u,d,q)}1==m&&(p=Number(f[3]))}if("cmyk"==l){for(;f.length<n;)f.push("0");for(g=0;g<n;g++){if(-1<f[g].indexOf("%")){f[g]=f[g].replace("%","");f[g]=Number(f[g]);if(isNaN(f[g]))return b.w3color.emptyObject;
f[g]/=100}else f[g]=Number(f[g]);1<Number(f[g])&&(f[g]=1);0>Number(f[g])&&(f[g]=0)}q=b.cmykToRgb(f[0],f[1],f[2],f[3]);1==m&&(p=Number(f[4]))}}else if("ncs"==d.substr(0,3))q=e(d);else{l=!1;n=a("names");for(g=0;g<n.length;g++)if(d.toLowerCase()==n[g].toLowerCase()){n=a("hexs");l=!0;q={r:parseInt(n[g].substr(0,2),16),g:parseInt(n[g].substr(2,2),16),b:parseInt(n[g].substr(4,2),16)};break}if(0==l){d=d.replace("#","");3==d.length&&(d=d.substr(0,1)+d.substr(0,1)+d.substr(1,1)+d.substr(1,1)+d.substr(2,1)+
d.substr(2,1));for(g=0;g<d.length;g++)if(!b.isHex(d.substr(g,1)))return b.w3color.emptyObject;f[0]=parseInt(d.substr(0,2),16);f[1]=parseInt(d.substr(2,2),16);f[2]=parseInt(d.substr(4,2),16);for(g=0;3>g;g++)if(isNaN(f[g]))return b.w3color.emptyObject;q={r:f[0],g:f[1],b:f[2]}}}return c(q,p,v,t)};b.colorObject=c;b.getColorArr=a;b.w3SetColorsByAttribute=function(){var a,d;var c=document.getElementsByTagName("*");for(a=0;a<c.length;a++)if(d=c[a].getAttribute("data-w3-color"))c[a].style.backgroundColor=
(new b.w3color(d)).toRgbString()}})(c.ColorManager||(c.ColorManager={}))})(TypeScript||(TypeScript={}));(function(c){(function(b){var c=function(){return function(){}}();b.IW3color=c})(c.ColorManager||(c.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(c){(function(b){function c(d,b,c){d/=60;b=.5>=c?c*(b+1):c+b-c*b;var e=2*c-b;c=255*a(e,b,d+2);var f=255*a(e,b,d);d=255*a(e,b,d-2);return{r:c,g:f,b:d}}function a(a,b,c){0>c&&(c+=6);6<=c&&(c-=6);return 1>c?(b-a)*c+a:3>c?b:4>c?(b-a)*(4-c)+a:a}b.hslToRgb=c;b.hueToRgb=a;b.hwbToRgb=function(a,b,f){var d=[];a=c(a,1,.5);d[0]=a.r/255;d[1]=a.g/255;d[2]=a.b/255;a=b+f;1<a&&(b=Number((b/a).toFixed(2)),f=Number((f/a).toFixed(2)));for(a=0;3>a;a++)d[a]*=1-b-f,d[a]+=b,d[a]=Number(255*d[a]);return{r:d[0],
g:d[1],b:d[2]}};b.cmykToRgb=function(a,b,c,g){return{r:255-255*Math.min(1,a*(1-g)+g),g:255-255*Math.min(1,b*(1-g)+g),b:255-255*Math.min(1,c*(1-g)+g)}};b.rgbToHsl=function(a,b,c){var d,e;var f=[];f[0]=a/255;f[1]=b/255;f[2]=c/255;a=f[0];b=f[0];for(c=d=0;c<f.length-1;c++)f[c+1]<=a&&(a=f[c+1]),f[c+1]>=b&&(b=f[c+1],d=c+1);0==d&&(e=(f[1]-f[2])/(b-a));1==d&&(e=2+(f[2]-f[0])/(b-a));2==d&&(e=4+(f[0]-f[1])/(b-a));isNaN(e)&&(e=0);e*=60;0>e&&(e+=360);f=(a+b)/2;return{h:e,s:a==b?0:.5>f?(b-a)/(b+a):(b-a)/(2-b-
a),l:f}};b.rgbToHwb=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e;return{h:0==f?0:a==d?(b-c)/f%6*360:b==d?((c-a)/f+2)%6*360:((a-b)/f+4)%6*360,w:e,b:1-d}};b.rgbToCmyk=function(a,b,c){a/=255;b/=255;c/=255;var d=1-Math.max(a,b,c);1==d?c=b=a=0:(a=(1-a-d)/(1-d),b=(1-b-d)/(1-d),c=(1-c-d)/(1-d));return{c:a,m:b,y:c,k:d}}})(c.ColorManager||(c.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(c){(function(b){b.toHex=function(b){for(b=b.toString(16);2>b.length;)b="0"+b;return b};b.cl=function(b){c.logging.log(b,c.ConsoleColors.DarkYellow)};b.w3trim=function(b){return b.replace(/^\s+|\s+$/g,"")};b.isHex=function(b){return-1<"0123456789ABCDEFabcdef".indexOf(b)}})(c.ColorManager||(c.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(c){(function(b){var c=function(){function a(d,c){void 0===d&&(d=null);void 0===c&&(c=null);isNullOrUndefined(d)?this.attachValues(a.emptyObject):"string"==typeof d?this.attachValues(b.toColorObject(d)):this.attachValues(d);isNullOrUndefined(c)||(c.style.backgroundColor=this.toRgbString())}Object.defineProperty(a,"emptyObject",{get:function(){return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1}},enumerable:!0,
configurable:!0});a.prototype.toRgbString=function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"};a.prototype.toRgbaString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"};a.prototype.toHwbString=function(){return"hwb("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%)"};a.prototype.toHwbStringDecimal=function(){return"hwb("+this.hue+", "+this.whiteness+", "+this.blackness+")"};a.prototype.toHwbaString=function(){return"hwba("+
this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity+")"};a.prototype.toHslString=function(){return"hsl("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"};a.prototype.toHslStringDecimal=function(){return"hsl("+this.hue+", "+this.sat+", "+this.lightness+")"};a.prototype.toHslaString=function(){return"hsla("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%, "+this.opacity+")"};a.prototype.toCmykString=
function(){return"cmyk("+Math.round(100*this.cyan)+"%, "+Math.round(100*this.magenta)+"%, "+Math.round(100*this.yellow)+"%, "+Math.round(100*this.black)+"%)"};a.prototype.toCmykStringDecimal=function(){return"cmyk("+this.cyan+", "+this.magenta+", "+this.yellow+", "+this.black+")"};a.prototype.toNcolString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%"};a.prototype.toNcolStringDecimal=function(){return this.ncol+", "+this.whiteness+", "+this.blackness};
a.prototype.toNcolaString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity};a.prototype.toName=function(){for(var a,c,f,g=b.getColorArr("hexs"),k=0;k<g.length;k++)if(a=parseInt(g[k].substr(0,2),16),c=parseInt(g[k].substr(2,2),16),f=parseInt(g[k].substr(4,2),16),this.red==a&&this.green==c&&this.blue==f)return b.getColorArr("names")[k];return""};a.prototype.toHexString=function(){var a=b.toHex(this.red),c=b.toHex(this.green),f=b.toHex(this.blue);
return"#"+a+c+f};a.prototype.toRgb=function(){return{r:this.red,g:this.green,b:this.blue,a:this.opacity}};a.prototype.toHsl=function(){return{h:this.hue,s:this.sat,l:this.lightness,a:this.opacity}};a.prototype.toHwb=function(){return{h:this.hue,w:this.whiteness,b:this.blackness,a:this.opacity}};a.prototype.toCmyk=function(){return{c:this.cyan,m:this.magenta,y:this.yellow,k:this.black,a:this.opacity}};a.prototype.toNcol=function(){return{ncol:this.ncol,w:this.whiteness,b:this.blackness,a:this.opacity}};
a.prototype.isDark=function(a){return(299*this.red+587*this.green+114*this.blue)/1E3<(a||128)};a.prototype.saturate=function(a){this.sat+=a/100||.1;1<this.sat&&(this.sat=1);a=b.hslToRgb(this.hue,this.sat,this.lightness);a=b.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};a.prototype.desaturate=function(a){this.sat-=a/100||.1;0>this.sat&&(this.sat=0);a=b.hslToRgb(this.hue,this.sat,this.lightness);a=b.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};a.prototype.lighter=
function(a){this.lightness+=a/100||.1;1<this.lightness&&(this.lightness=1);a=b.hslToRgb(this.hue,this.sat,this.lightness);a=b.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};a.prototype.darker=function(a){this.lightness-=a/100||.1;0>this.lightness&&(this.lightness=0);a=b.hslToRgb(this.hue,this.sat,this.lightness);a=b.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};a.prototype.attachValues=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue;this.hue=
a.hue;this.sat=a.sat;this.lightness=a.lightness;this.whiteness=a.whiteness;this.blackness=a.blackness;this.cyan=a.cyan;this.magenta=a.magenta;this.yellow=a.yellow;this.black=a.black;this.ncol=a.ncol;this.opacity=a.opacity;this.valid=a.valid};return a}();b.w3color=c})(c.ColorManager||(c.ColorManager={}))})(TypeScript||(TypeScript={}));var Base64;
(function(c){var b=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;c.isValidBase64String=function(c){return c&&0==c.length%4?b.test(c):!1};c.encode=function(b){var a=[],d=0;for(b=c.utf8_encode(b);d<b.length;){var e=b.charCodeAt(d++);var f=b.charCodeAt(d++);var g=b.charCodeAt(d++);var k=e>>2;e=(e&3)<<4|f>>4;var l=(f&15)<<2|g>>6;var n=g&63;isNaN(f)?l=n=64:isNaN(g)&&(n=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n))}return a.join("")};c.decode=function(b){var a="",d=0;for(b=b.replace(/[^A-Za-z0-9+/=]/g,"");d<b.length;){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(d++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(d++));var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(d++));
var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(d++));e=e<<2|f>>4;f=(f&15)<<4|g>>2;var l=(g&3)<<6|k;a+=String.fromCharCode(e);64!=g&&(a+=String.fromCharCode(f));64!=k&&(a+=String.fromCharCode(l))}return a=c.utf8_decode(a)};c.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var d=0;d<b.length;d++){var c=b.charCodeAt(d);128>c?a.push(String.fromCharCode(c)):(127<c&&2048>c?a.push(String.fromCharCode(c>>6|192)):(a.push(String.fromCharCode(c>>12|224)),
a.push(String.fromCharCode(c>>6&63|128))),a.push(String.fromCharCode(c&63|128)))}return a.join("")};c.utf8_decode=function(b){for(var a=[],d=0,c,f,g;d<b.length;)c=b.charCodeAt(d),128>c?(a.push(String.fromCharCode(c)),d++):191<c&&224>c?(f=b.charCodeAt(d+1),a.push(String.fromCharCode((c&31)<<6|f&63)),d+=2):(f=b.charCodeAt(d+1),g=b.charCodeAt(d+2),a.push(String.fromCharCode((c&15)<<12|(f&63)<<6|g&63)),d+=3);return a.join("")}})(Base64||(Base64={}));var LZW;
(function(c){c.encode=function(b){var c={};b=(b+"").split("");for(var a=[],d,e=b[0],f=256,h=1;h<b.length;h++)d=b[h],null!=c[e+d]?e+=d:(a.push(1<e.length?c[e]:e.charCodeAt(0)),c[e+d]=f,f++,e=d);a.push(1<e.length?c[e]:e.charCodeAt(0));for(h=0;h<a.length;h++)a[h]=String.fromCharCode(a[h]);return a.join("")};c.decode=function(b){var c={};b=(b+"").split("");for(var a=b[0],d=a,e=[a],f=256,h,k=1;k<b.length;k++)h=b[k].charCodeAt(0),h=256>h?b[k]:c[h]?c[h]:d+a,e.push(h),a=h.charAt(0),c[f]=d+a,f++,d=h;return e.join("")}})(LZW||
(LZW={}));var Levenshtein;
(function(c){function b(a,b,c){void 0===c&&(c=g);a=Strings.ToCharArray(a,!0);b=Strings.ToCharArray(b,!0);if(0==a.length&&0==b.length)return[[0]];if(0==a.length)return[[$ts(b).Sum(function(a){return c.insert(a)})]];if(0==b.length)return[[$ts(a).Sum(function(a){return c.delete(a)})]];var d=a.length+1,e=b.length+1,k=new Matrix(d,e,0);k.column(0,Enumerable.Range(0,d-1));k.row(0,Enumerable.Range(0,e-1));for(var l,n,p,m=1;m<d;m++)for(var q=1;q<e;q++)l=k.M(q-1,m)+c.delete(a[q-1]),n=k.M(q,m-1)+c.insert(b[m-
1]),p=k.M(q-1,m-1)+c.substitute(a[q-1],b[m-1]),k.M(q,m,Enumerable.Min(l,n,p));return k.ToArray(!1)}var g={insert:function(a){return 1},delete:function(a){return 1},substitute:function(a,b){return a==b?0:1}};c.DistanceMatrix=b;c.ComputeDistance=function(a,d,c){void 0===c&&(c=g);a=b(a,d,c);return a[a.length-1][a[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function c(b,c){void 0===b&&(b=null);void 0===c&&(c="\n");this.buffer=b?"string"==typeof b?""+b:""+b.buffer:"";this.newLine=c}Object.defineProperty(c.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});c.prototype.Append=function(b){this.buffer+=b;return this};c.prototype.AppendLine=function(b){void 0===b&&(b="");return this.Append(b+this.newLine)};c.prototype.toString=function(){return this.buffer+""};return c}();
(function(c){var b=function(){function b(){}Object.defineProperty(b,"hasWorkerFeature",{get:function(){return"undefined"!==typeof Worker?!0:!1},enumerable:!0,configurable:!0});b.RunWorker=function(a,d,c){void 0===c&&(c=null);TypeScript.URLPatterns.isAPossibleUrlPattern(a)?this.fetchWorker(a,c,function(c){return b.registerWorker(a,c,d)}):this.registerWorker(md5(a),this.buildWorker(a,c),d)};b.registerWorker=function(a,d,c){b.$workers[a]=new Worker(d);b.$workers[a].onmessage=c};b.buildWorker=function(a,
b){if(!isNullOrUndefined(b)){var d;for(d in b){var c=b[d];var g="{$"+d+"}";a=a.replace(g,c)}}try{var k=new Blob([a],{type:"application/javascript"})}catch(l){b=window,b.BlobBuilder=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder,k=b.BlobBuilder(),k.append(a),k=k.getBlob()}return URL.createObjectURL(k)};b.fetchWorker=function(a,b,c){var d=this;$ts.getText(a,function(a){a=d.buildWorker(a,b);TypeScript.logging.log("Build worker blob url: "+a,TypeScript.ConsoleColors.Gray);c(a)})};b.Stop=function(a){b.$workers[a].terminate();
delete b.$workers[a]};b.$workers={};return b}();c.BackgroundWorker=b})(Internal||(Internal={}));var Router;
(function(c){function b(a,b){b(e[a])}function g(a,b){void 0===b&&(b="/");var d=$ts.typeof(a);return{module:b,appName:a.appName,className:d.class,status:a.appStatus,hookUnload:a.appHookMsg}}function a(a){var b=TypeScript.URL.WindowLocation().hash;if(b=d.Item(b))"/"==b?(window.location.hash="",window.location.reload(!0)):$ts("#"+a).innerHTML=HttpHelpers.GET(b)}var d,e,f=!0;c.appName=DOM.InputValueGetter.metaValue("app");c.isCaseSensitive=function(){return f};c.CaseInsensitive=function(a){void 0===a&&
(a=!0);f=!a};c.AddAppHandler=function(a,d){void 0===d&&(d="/");isNullOrUndefined(e)&&(e={});d in e||(e[d]=new Dictionary({}));b(d,function(b){return b.Add(a.appName,a)})};var h={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};c.getAppSummary=g;c.RunApp=function(a){void 0===a&&(a="/");TypeScript.logging.log(TypeScript.URL.WindowLocation());
if(a in e)b(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in h){a=!1;for(var d=0,c=Object.keys(h);d<c.length;d++){var f=c[d];if(f in e){b(f,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=[];Object.keys(e).forEach(function(a){b(a,function(b){b.ForEach(function(b){return k.push(g(b.value,
a))})})});console.table(k)}};c.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};c.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};c.register=function(b,e,f){void 0===b&&(b="app");void 0===e&&(e=null);void 0===f&&(f=!0);d||(d=new Dictionary({"/":"/"}));var g=e?"string"==typeof e?c.queryKey(e):e:function(a){return(new TypeScript.URL(a)).fileName};e=$ts(".router");e.attr("router-link",function(a){return a.href});e.attr("href","javascript:void(0);");
e.onClick(function(a,d){c.goto(a.getAttribute("router-link"),b,g)});e.attr("router-link").ForEach(function(a){d.Add(g(a),a)});a(b)};c.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};c.goto=function(a,b,d,e){c.IsTopWindowStack()?($ts("#"+b).innerHTML=HttpHelpers.GET(a),c.register(b,d,!1),window.location.hash=d(a)):parent.Router.goto(a,b,d,parent)}})(Router||(Router={}));
var Bootstrap=function(){function c(){this.status="Sleep";this.hookUnload=null}Object.defineProperty(c.prototype,"currentAppPage",{get:function(){return getAllUrlParams().Item("app")||Router.appName||"/"},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});c.prototype.isCurrentAppPath=function(){var b=
$ts.location.path;TypeScript.logging.outputEverything&&console.log("Current url path is '"+b+"'");return b==this.appName};c.prototype.isCurrentApp=function(){var b=this.currentAppPage;if("/"===this.appName.charAt(0))return this.isCurrentAppPath();if(b=Router.isCaseSensitive()?b==this.appName:b.toLowerCase()==this.appName.toLowerCase())TypeScript.logging.outputEverything&&console.log("%c["+$ts.typeof(this).class+"] App(name:="+this.appName+") Init...","color:blue;");else return!1;return b};c.prototype.Init=
function(){var b=this,c=this;this.isCurrentApp()&&($ts(function(){return b.OnDocumentReady()}),window.onload=c.OnWindowLoad,window.onbeforeunload=c.OnWindowUnload,window.onhashchange=function(){var a=window.location.hash.substr(1);c.OnHashChanged(a)},this.init(),this.status="Running")};c.prototype.OnDocumentReady=function(){};c.prototype.OnWindowLoad=function(){};c.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};c.prototype.unhook=function(){this.hookUnload=
null};c.prototype.OnHashChanged=function(b){};c.prototype.toString=function(){return"["+this.status+"] "+this.appName};return c}(),Framework;
(function(c){(function(b){function c(a,b){void 0===b&&(b=-1);var d=$ts.typeof(a);if(d.isEnumerator)d=a.ToArray();else if(d.isArray)d=__spreadArrays(a);else if(0>=b)d=[a];else{d=[];for(var c=0;c<b;c++)d.push(a)}if(1<=b)if(b<d.length)d=d.slice(0,b);else if(b>d.length)for(c=d.length;c<b;c++)d.push(null);return d}function a(b,c){void 0===c&&(c=null);if(null==b||"object"!=typeof b||b.constructor!=Object&&b.constructor!=Array)return b;if(b.constructor==Date||b.constructor==RegExp||b.constructor==Function||
b.constructor==String||b.constructor==Number||b.constructor==Boolean)return new b.constructor(b);c=c||new b.constructor;for(var d in b)c[d]="undefined"==typeof c[d]?a(b[d],null):c[d];return c}b.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(c(a,b))};b.EnsureArray=c;b.extend=a})(c.Extensions||(c.Extensions={}))})(Framework||(Framework={}));(function(c){c.gc=function(){return c.garbageCollect.handler()}})(TypeScript||(TypeScript={}));
(function(c){(function(b){b.handler=function(){if("function"===typeof window.require){var b=window.require;try{b("v8").setFlagsFromString("--expose_gc");if(null!=window.global){var a=window.global;if("function"==typeof a.gc)return a.gc}var d=b("vm");if(null!=d&&"function"==typeof d.runInNewContext){var e=d.runInNewContext("gc");return function(){e()}}}catch(f){}}if("undefined"!==typeof window){if(window.CollectGarbage)return window.CollectGarbage;if(window.gc)return window.gc;if(window.opera&&window.opera.collect)return window.opera.collect}return"undefined"!==
typeof window.global&&(b=window.global,b.gc)?b.gc:function(){c.logging.outputEverything&&console.log("There is no gc handler could be found currently....")}}()})(c.garbageCollect||(c.garbageCollect={}))})(TypeScript||(TypeScript={}));
(function(c){var b=function(){function b(){}b.nameFilter=function(a){var b=this;return $from(Object.keys(a)).Where(function(a){return-1==b.ArgumentNames.indexOf(a)}).ToArray()};b.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};b.ArgumentNames=Object.keys(b.Default());return b}();c.Arguments=b})(Internal||(Internal={}));
(function(c){var b=function(){function b(){}b.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};b.Parse=function(a){var d=new b,c=b.getFileName(a);a=a.replace(c,"").trim().substr(3);c=c.substr(1,c.length-2);if(-1<a.indexOf("/")||-1<a.indexOf(":"))a="<HTML\\Document>";var f=$ts(c.match(/([:]\d+){2}$/m)[0].split(":")),g=f.Select(function(a){return a.length}).Sum()+2;f=$from(f).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();
d.file=c.substr(0,c.length-g);(c=(c=a.match(/\[.+\]/))&&0!=c.length?c[0]:null)?(a=a.substr(0,a.length-c.length).trim(),d.memberName=c.substr(3,c.length-4).trim()):(c=a.split("."),d.memberName=c[c.length-1]);d.caller=a;d.line=f[0];d.column=f[1];return d};b.getFileName=function(a){var b=a.match(/\(.+\)/);return b&&0!=b.length?b[0]:"("+a.substr(6).trim()+")"};return b}();c.StackFrame=b})(Internal||(Internal={}));
(function(c){var b=function(){function a(){this.lastCheck=this.start=(new Date).getTime()}a.prototype.Tick=function(){var a=(new Date).getTime(),b=new g;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return a}();c.Benchmark=b;var g=function(){function a(){}Object.defineProperty(a.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return a}();c.CheckPoint=g})(TypeScript||
(TypeScript={}));var Cookies;(function(c){function b(b){b=(b=RegExp(""+b+"[^;]+").exec(document.cookie))?b.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(b)}c.getCookie=b;c.delCookie=function(c){var a=b(c),d=new Date;d.setTime(d.getTime()-1);null!=a&&(d=d.toGMTString(),document.cookie=c+"="+a+";expires="+d)}})(Cookies||(Cookies={}));
(function(c){(function(b){var c=function(){function a(a,b,c){void 0===c&&(c=1);this.dbName=a;this.using=b;this.version=c;this.processDbRequest(indexedDB.open(a,c))}a.prototype.processDbRequest=function(a){var b=this;a.onerror=function(a){console.dir(a)};a.onsuccess=function(a){b.db=a.target.result};a.onupgradeneeded=function(a){b.db=a.target.result;b.using(b.db)}};return a}();b.Open=c})(c.LocalDb||(c.LocalDb={}))})(TypeScript||(TypeScript={}));var CanvasHelper;
(function(c){function b(a){return a.fillText&&a.measureText?!0:!1}var g;c.getTextWidth=function(a,b){var d=(g||(g=$ts("<canvas>"))).getContext("2d");d.font=b;return d.measureText(a).width};c.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};c.createCanvas=function(a,d,c,g){void 0===g&&(g="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:d,title:c,style:"display: "+g+";"});if(!a.getContext)return null;d=a.getContext("2d");return b(d)?a:null};c.supportsText=
b;var a=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();c.fontSize=a;var d=function(){function b(){}b.prototype.apply=function(a){b.applyCSS(a,this)};b.applyCSS=function(b,d){b.style.fontFamily=d.fontName;b.style.fontSize=a.css(d.size)};return b}();c.CSSFont=d})(CanvasHelper||(CanvasHelper={}));
(function(c){(function(b){function c(a){return a instanceof HTMLElement||a instanceof SVGElement}function a(a){if(c(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function d(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function e(a,c,e){var f=a.getAttributeNS(b.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),d(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var g=
$ts("<canvas>"),h=g.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||a.getAttribute("href"))?(k.src=f,k.onload=function(){g.width=k.width;g.height=k.height;h.drawImage(k,0,0);a.setAttributeNS(b.xlink,"href",g.toDataURL("image/png"));c--;e(c)},k.onerror=function(){console.error("Could not load "+f);c--;e(c)}):(c--,e(c));return c}b.xlink="http://www.w3.org/1999/xlink";b.isElement=c;b.requireDomNode=a;b.isExternal=d;b.inlineImages=function(b,d){a(b);b=b.querySelectorAll("image");var c=b.length,
f=function(a){0===a&&d()};f(c);for(var g=0;g<b.length;g++)c=e(b[g],c,f)};b.getDimension=function(a,b,d){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[d]||null!==b.getAttribute(d)&&!b.getAttribute(d).match(/%$/)&&parseInt(b.getAttribute(d))||a.getBoundingClientRect()[d]||parseInt(b.style[d])||parseInt(window.getComputedStyle(a).getPropertyValue(d));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};b.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(c.saveSvgAsPng||(c.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(c){(function(b){b.xmlns="http://www.w3.org/2000/xmlns/";b.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var c=function(){function a(){}a.prepareSvg=function(d,c,f){void 0===c&&(c=new b.Options);b.requireDomNode(d);c.scale=c.scale||1;c.responsive=c.responsive||!1;b.inlineImages(d,function(){a.doInlineImages(d,c,f)})};a.doInlineImages=function(a,c,f){var d=
$ts("<div>"),e=a.cloneNode(!0);if("svg"==a.tagName){var g=c.width||b.getDimension(a,e,"width");var n=c.height||b.getDimension(a,e,"height")}else if(a.getBBox){var p=a.getBBox();g=p.x+p.width;n=p.y+p.height;e.setAttribute("transform",e.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(e);e=p}else{console.error("Attempted to render non-SVG element",a);return}e.setAttribute("version","1.1");e.getAttribute("xmlns")||
e.setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/2000/svg");e.getAttribute("xmlns:xlink")||e.setAttributeNS(b.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");c.responsive?(e.removeAttribute("width"),e.removeAttribute("height"),e.setAttribute("preserveAspectRatio","xMinYMin meet")):(e.setAttribute("width",(g*c.scale).toString()),e.setAttribute("height",(n*c.scale).toString()));e.setAttribute("viewBox",[c.left||0,c.top||0,g,n].join(" "));p=e.querySelectorAll("foreignObject > *");for(var m=0;m<
p.length;m++)p[m].getAttribute("xmlns")||p[m].setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/1999/xhtml");d.appendChild(e);b.styles.doStyles(a,c,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);e.insertBefore(a,e.firstChild);f&&(a=d.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),f(a,g,n))})};a.svgAsDataUri=function(a,c,f){void 0===f&&(f=null);this.prepareSvg(a,c,function(a){a="data:image/svg+xml;base64,"+
window.btoa(b.reEncode(b.doctype+a));f&&f(a)})};a.convertToPng=function(a,b,c,g){b=$ts("<canvas>",{width:b,height:c});c=b.getContext("2d");g.canvg?g.canvg(b,a):c.drawImage(a,0,0);g.backgroundColor&&(c.globalCompositeOperation="destination-over",c.fillStyle=g.backgroundColor,c.fillRect(0,0,b.width,b.height));try{var d=b.toDataURL(g.encoderType,g.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return d};
a.svgAsPngUri=function(d,c,f){void 0===c&&(c=new b.Options);b.requireDomNode(d);c.encoderType=c.encoderType||"image/png";c.encoderOptions=c.encoderOptions||.8;var e=function(b,d,e){f(a.convertToPng(b,d,e,c))};c.canvg?this.prepareSvg(d,c,e):this.svgAsDataUri(d,c,function(a){var b=new Image;b.onload=function(){e(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};a.saveSvg=function(a,c,f){b.requireDomNode(a);f=f||{};this.svgAsDataUri(a,f,function(a){return DOM.download(c,a)})};a.saveSvgAsPng=function(a,c,f){void 0===f&&(f=b.Options.Default());"string"==typeof a&&(a=$ts(a));b.requireDomNode(a);this.svgAsPngUri(a,f,function(a){return DOM.download(c,a)})};return a}();b.Encoder=c})(c.saveSvgAsPng||(c.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(c){(function(b){var c=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();b.Options=c;c=function(){function b(){}b.doStyles=function(a,b,d){for(var c="",e=[],f=document.styleSheets,g=0;g<f.length;g++){try{var h=f[g].cssRules}catch(q){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[g].href);continue}null!=h&&(c+=this.processCssRules(a,h,b,f[g].href,e))}this.processFontQueue(e,
c,d)};b.processCssRules=function(a,d,c,g,l){for(var e="",f=0,h;f<d.length;f++,h=null){var k=d[f];if("undefined"!=typeof k.style){try{var v=k.selectorText}catch(r){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',r)}try{v&&(h=a.querySelector(v)||a.parentNode.querySelector(v))}catch(r){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+v+'"',r)}if(h)h=c.selectorRemap?c.selectorRemap(k.selectorText):k.selectorText,k=c.modifyStyle?
c.modifyStyle(k.style.cssText):k.style.cssText,e+=h+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){h=/url\(["']?(.+?)["']?\)/;var t=k.cssText.match(h);t=t&&t[1]||"";t.match(/^data:/)&&(t="");"about:blank"===t&&(t="");t?(t.startsWith("../")?t=g+"/../"+t:t.startsWith("./")&&(t=g+"/."+t),l.push({text:k.cssText,fontUrlRegexp:h,format:b.getFontMimeTypeFromUrl(t),url:t})):e+=k.cssText+"\n"}}}return e};b.processFontQueue=function(a,b,d){function c(c){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+c.url),console.warn(f));b+=c.text+"\n";e.processFontQueue(a,b,d)}function g(c,f){b+=c.text.replace(c.fontUrlRegexp,'url("data:'+c.format+";base64,"+f+'")')+"\n";setTimeout(function(){e.processFontQueue(a,b,d)},0)}var h=new XMLHttpRequest;h.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(h.response);g(c,a)});h.addEventListener("error",f);h.addEventListener("abort",f);h.open("GET",c.url);h.responseType="arraybuffer";h.send()}var e=
this;if(0<a.length){var f=a.pop();c(f)}else d(b)};b.getFontMimeTypeFromUrl=function(b){for(var d=Object.keys(a),c=0;c<d.length;++c){var e=d[c];if(0<b.indexOf("."+e))return a[e]}this.warnFontNotSupport(b);return"application/octet-stream"};b.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return b}();b.styles=c;var a={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(c.saveSvgAsPng||(c.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(c){var b=function(){function b(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof a?[a]:a;this.errors=[];this.onErrorResumeNext=b;this.echo=c}b.prototype.nextScript=function(){return this.jsURL[this.i++]};b.prototype.doLoad=function(a){var b=this;void 0===a&&(a=DoNothing);var e=this.nextScript();Strings.Empty(e,!0)?a():c.GetAsyn(e,function(d,c){return b.doExec(e,d,c,a)})};b.prototype.doExec=function(a,b,c,f){switch(c){case 200:try{eval.apply(window,
[b])}catch(h){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(a),console.warn(h)),this.errors.push(a);else throw h;}finally{this.echo&&console.log("script loaded: ",a)}break;default:this.echo&&console.error("ERROR: script not loaded: ",a),this.errors.push(a)}this.doLoad(f)};b.doEval=function(a,b,c){void 0===c&&(c=window);Base64.isValidBase64String(a)&&(a=Base64.decode(a));eval.apply(c,[a]);b&&b()};b.getFullPath=function(a){var b=$ts.location.path;if("/"==a.charAt(0))return a;
console.log(b)};return b}();c.Imports=b})(HttpHelpers||(HttpHelpers={}));
(function(c){c.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};c.measureContentType=function(b){return b instanceof FormData?c.contentTypes.form:"string"==typeof b?c.contentTypes.text:c.contentTypes.json};c.GET=function(b){var a=new XMLHttpRequest;a.open("GET",b,!1);a.send(null);return 200===a.status?a.responseText:null};c.GetAsyn=function(b,a){var d=new XMLHttpRequest;d.open("GET",b,!0);d.onreadystatechange=function(){var b=
this.getResponseHeader("content-type");isNullOrUndefined(b)&&(b=this.getResponseHeader("Content-Type"));4==d.readyState&&a(d.response||d.responseText,d.status,b)};d.send(null)};c.POST=function(b,a,d){var e=new XMLHttpRequest,f=a.data;a.type==c.contentTypes.json&&"string"!=typeof f&&(f=JSON.stringify(f));e.open("POST",b,!0);a.sendContentType&&e.setRequestHeader("Content-Type",a.type);e.onreadystatechange=function(){4==e.readyState&&d(e.responseText,e.status)};e.send(f)};c.UploadFile=function(b,a,d,
e){void 0===d&&(d=null);var f=new FormData;a instanceof File?(f.append("filename",a.name),d=d||a.name):f.append("filename",d);f.append("File",a,d);c.POST(b,{type:c.contentTypes.form,data:f},e)};c.serialize=function(b,a){void 0===a&&(a=!1);var d=[];"function"==typeof b&&(b=b());for(var c=0,f=Object.keys(b);c<f.length;c++){var g=f[c];var k=b[g];if(isNullOrUndefined(k))if(a&&TypeScript.logging.outputEverything)console.warn(g+" value is nothing!"),k="null";else continue;d.push(g+"="+encodeURIComponent(k))}return d.join("&")};
var b=function(){function b(){this.sendContentType=!0}b.prototype.toString=function(){return this.type};return b}();c.PostData=b})(HttpHelpers||(HttpHelpers={}));var csv;
(function(c){c.contentType="text/csv";var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});a.prototype.Column=function(a){var b=this.sequence[0].indexOf(a);return-1==b?new IEnumerator([]):this.Select(function(a){return a.ElementAt(b)})};
a.prototype.AppendLine=function(a){this.sequence.push(a);return this};a.prototype.AppendRows=function(a){var b=this;Array.isArray(a)?a.forEach(function(a){return b.sequence.push(a)}):a.ForEach(function(a){return b.sequence.push(a)});return this};a.prototype.buildDoc=function(a){void 0===a&&(a=!1);return a?this.Select(function(a){return a.JoinBy("\t")}).JoinBy("\n"):this.Select(function(a){return a.rowLine}).JoinBy("\n")};a.prototype.Objects=function(b,c){void 0===b&&(b={});void 0===c&&(c=function(){return{}});
var d=a.ensureMapsAll(b,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=c();a.ForEach(function(a,c){b[d(c)]=a});return b})};a.ensureMapsAll=function(a,b){for(var d=0;d<b.length;d++){var c=b[d];c in a||(a[c]=c)}return function(d){return a[b[d]]}};a.prototype.save=function(a,b,c){void 0===b&&(b="upload.csv");void 0===c&&(c=function(a){console.log(a)});var d=this.buildDoc();HttpHelpers.UploadFile(a,d,b,c)};a.Load=function(b,c,f){var d=this;void 0===c&&(c=null);void 0===f&&(f=this.defaultContent);
if(null==c||void 0==c){b=f(HttpHelpers.GET(b));var e=this.isTsv(b);return a.Parse(b.content,e)}HttpHelpers.GetAsyn(b,function(b,e,g){if(200==e)b=f(b,g),e=d.isTsv(b),b=a.Parse(b.content,e),console.log(b.headers),c(b);else throw"Error while load csv data source, http "+e+": "+b;});return null};a.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};a.defaultContent=function(a){return{type:"csv",content:a}};a.Parse=function(b,e){void 0===e&&(e=!1);var d=e?c.row.ParseTsv:c.row.Parse;b=$from(b.split(/\n/)).Select(function(a){return a.replace("\r",
"").replace("\n","")});TypeScript.logging.log("Document data is a "+(e?"tsv":"csv")+" file.",TypeScript.ConsoleColors.Blue);e=Strings.Empty(b.Last)?b.Take(b.Count-1).Select(d):b.Select(d);return new a(e)};return a}(IEnumerator);c.dataframe=b})(csv||(csv={}));
(function(c){(function(b){function g(b,c){void 0===c&&(c=a);var d=b.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");b=b.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+c+'">\n                <thead>\n                    <tr>'+d+"</tr>\n                </thead>\n                <tbody>\n                    "+b+"\n                </tbody>\n            </table>"}
var a=["table","table-hover"];b.toHTMLTable=g;b.createHTMLTable=function(b,e){void 0===e&&(e=a);return g(c.toDataFrame(b),e)}})(c.HTML||(c.HTML={}))})(csv||(csv={}));
(function(c){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"columns",{get:function(){return __spreadArrays(this.sequence)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowLine",{get:function(){return $from(this.columns).Select(a.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});a.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,
b)};a.prototype.ProjectObject=function(a){var b={},c=this.columns;Array.isArray(a)?a.forEach(function(a,d){b[a]=c[d]}):a.ForEach(function(a,d){b[a]=c[d]});return b};a.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};a.Parse=function(b){return new a(c.CharsParser(b))};a.ParseTsv=function(b){return new a(c.CharsParser(b,"\t"))};return a}(IEnumerator);c.row=b})(csv||(csv={}));
(function(c){c.CharsParser=function(b,c,a){void 0===c&&(c=",");void 0===a&&(a='"');var d=[],e=[],f=!1,g=$from(Strings.ToCharArray(b)).ToPointer(),k=new RegExp("["+a+"]{2}","g"),l=function(){return e.join("").replace(k,a)};for(b=function(b){var h=e;var k=void 0;void 0===k&&(k="\\");h=isNullOrEmpty(h)?!1:h[h.length-1]==k;h?e[e.length-1]=b:(h=g.Current,k=0<e.length&&e[e.length-1]!=a,0==e.length&&h==c?(d.push(""),e=[],g.MoveNext(),f=!1):(h==c||g.EndRead)&&k?(d.push(l()),e=[],g.MoveNext(),f=!1):e.push(b))};!g.EndRead;){var n=
g.Next;f?n==a?b(n):e.push(n):0==e.length&&n==a?f=!0:n==c?(d.push(l()),e=[]):e.push(n)}0<e.length&&d.push(l());return d}})(csv||(csv={}));
(function(c){c.toDataFrame=function(b){b=Array.isArray(b)?new IEnumerator(b):b;var g=$ts(Object.keys(b.First));b=b.Select(function(a){var b=g.Select(function(b,c){b=a[b];b=isNullOrUndefined(b)?"":""+b;return b});return new c.row(b)});return(new c.dataframe([new c.row(g)])).AppendRows(b)};c.isTsvFile=function(b){var c=Strings.lineTokens(b);b=$from(c).Select(function(a){return Strings.Count(a,"\t")}).Average();c=$from(c).Select(function(a){return Strings.Count(a,",")}).Average();return b>=c}})(csv||
(csv={}));
