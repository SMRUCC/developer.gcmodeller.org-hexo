var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,f){d!=Array.prototype&&d!=Object.prototype&&(d[b]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,b,f,a){if(b){f=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var c=d[a];c in f||(f[c]={});f=f[c]}d=d[d.length-1];a=f[d];b=b(a);b!=a&&null!=b&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:b})}};$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},b={};try{return b.__proto__=d,b.a}catch(f){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,b){d.__proto__=b;if(d.__proto__!==b)throw new TypeError(d+" is not extensible");return d}:null;$jscomp.polyfill("Object.setPrototypeOf",function(d){return d||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(d,b,f){d instanceof String&&(d=String(d));for(var a=d.length,c=0;c<a;c++){var e=d[c];if(b.call(f,e,c,d))return{i:c,v:e}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(b,f){return $jscomp.findInternal(this,b,f).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(d){var b=0;return function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var d=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+d++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.iteratorFromArray=function(d,b){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var f=0,a={next:function(){if(f<d.length){var c=f++;return{value:b(c,d[c]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
var __extends=this&&this.__extends||function(){var d=function(b,f){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return d(b,f)};return function(b,f){function a(){this.constructor=b}d(b,f);b.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),Activator;
(function(d){d.CreateInstance=function(b){var f=Object.create({});if(Array.isArray(b))for(var a=0;a<b.length;a++){var c=b[a];var e=c.value;Object.defineProperty(f,c.name,{get:e.get,set:e.set})}else for(a in b)e=b[a],Object.defineProperty(f,a,{get:e.get,set:e.set});return f};d.EmptyObject=function(b,f){var a={};"function"==typeof f?Array.isArray(b)?b.forEach(function(c){return a[c]=f()}):b.ForEach(function(c){return a[c]=f()}):Array.isArray(b)?b.forEach(function(c){return a[c]=f}):b.ForEach(function(c){return a[c]=
f});return a};d.CreateObject=function(b){var f={},a=TypeInfo.typeof(b);if(a.IsArray&&"MapTuple"==a.class)b.forEach(function(a){return f[a.key]=a.value});else if(a.IsArray&&"NamedValue"==a.class)b.forEach(function(a){return f[a.name]=a.value});else if("IEnumerator"==a.class)if(a=b.ElementType,"MapTuple"==a.class)b.ForEach(function(a){f[a.key]=a.value});else if("NamedValue"==a.class)b.ForEach(function(a){f[a.name]=a.value});else throw console.error(a),"Unsupport data type: "+a.class;else throw"Unsupport data type: "+
JSON.stringify(a);return f}})(Activator||(Activator={}));var data;
(function(d){(function(b){var f=function(){function a(){}a.prototype.toString=function(){return JSON.stringify(this)};return a}();b.match=f;b.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);b.parseFormat=function(a,c){for(var e,f,d=e=0,k,l=[],m=[];k=b.placeholder.exec(a);)f=b.placeholder.lastIndex-k[0].length,m[m.length]=a.substring(e,f),e=b.placeholder.lastIndex,l[l.length]={match:k[0],left:k[3]?!0:!1,sign:k[4]||"",pad:k[5]||" ",min:k[6]||0,precision:k[8],code:k[9]||
"%",negative:0>parseInt(c[d])?!0:!1,argument:String(c[d])},k[9]&&(d+=1);m[m.length]=a.substring(e);return{matches:l,convCount:d,strings:m}};b.doFormat=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;e=b.parseFormat(a,c);var f=e.convCount;if(0==e.matches.length)return a;if(c.length<f)throw"Mismatch format argument numbers ("+c.length+" !== "+f+")!";return b.doSubstitute(e.matches,
e.strings)};b.doSubstitute=function(a,c){var e,f="";for(e=0;e<a.length;e++){if("%"==a[e].code)var d="%";else"b"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(2)),d=b.convert(a[e],!0)):"c"==a[e].code?(d=Math.abs(parseInt(a[e].argument)),a[e].argument=String(String.fromCharCode(parseInt(String(d)))),d=b.convert(a[e],!0)):"d"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument))),d=b.convert(a[e])):"f"==a[e].code?(d=a[e].precision?parseFloat(a[e].precision):
6,a[e].argument=String(Math.abs(parseFloat(a[e].argument)).toFixed(d)),d=b.convert(a[e])):"o"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(8)),d=b.convert(a[e])):"s"==a[e].code?(d=a[e].precision?parseFloat(a[e].precision):a[e].argument.length,a[e].argument=a[e].argument.substring(0,d),d=b.convert(a[e],!0)):"x"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),d=b.convert(a[e])):"X"==a[e].code?(a[e].argument=String(Math.abs(parseInt(a[e].argument)).toString(16)),
d=b.convert(a[e]).toUpperCase()):d=a[e].match;f+=c[e];f+=d}return f+c[e]};b.convert=function(a,c){void 0===c&&(c=!1);a.sign=c?"":a.negative?"-":a.sign;var e=parseFloat(a.min)-a.argument.length+1-a.sign.length;e=Array(0>e?0:e).join(a.pad);return a.left?"0"==a.pad||c?a.sign+a.argument+e.replace(/0/g," "):a.sign+a.argument+e:"0"==a.pad||c?a.sign+e+a.argument:e+a.sign+a.argument}})(d.sprintf||(d.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function d(b){this.i=0;this.sequence=b}d.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(d.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});d.prototype.reset=function(){this.i=0;return this};d.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return d}(),Enumerable;
(function(d){function b(a){return From(a).Select(function(a){return Object.keys(a)}).Unlist().Distinct().ToArray()}d.Range=function(a,c,e){void 0===e&&(e=1);return(new data.NumericRange(a,c)).PopulateNumbers(e)};d.Min=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];c=99999999999;for(var e=0;e<a.length;e++){var f=a[e];f<c&&(c=f)}return c};d.Select=function(a,c){var e=[];a.forEach(function(a,f){e.push(c(a,f))});return new IEnumerator(e)};d.OrderBy=function(a,c){a=a.slice();a.sort(function(a,
f){return c(a)-c(f)});return new IEnumerator(a)};d.OrderByDescending=function(a,c){return d.OrderBy(a,function(a){return-c(a)})};d.Take=function(a,c){var e=a.length;if(e<=c)var f=a;else{f=[];for(var b=0;b<c&&!(b>=e);b++)f.push(a[b])}return new IEnumerator(f)};d.Skip=function(a,c){var e=[];if(c>=a.length)return new IEnumerator([]);for(;c<a.length;c++)e.push(a[c]);return new IEnumerator(e)};d.TakeWhile=function(a,c){for(var e=[],f=0;f<a.length;f++)if(c(a[f]))e.push(a[f]);else break;return new IEnumerator(e)};
d.Where=function(a,c){var e=[];a.forEach(function(a){1==c(a)&&e.push(a)});return new IEnumerator(e)};d.SkipWhile=function(a,c){for(var e=0;e<a.length;e++)if(1!=c(a[e]))return d.Skip(a,e);return new IEnumerator([])};d.All=function(a,c){for(var e=0;e<a.length;e++)if(!c(a[e]))return!1;return!0};d.Any=function(a,c){for(var e=0;e<a.length;e++)if(1==c(a[e]))return!0;return!1};d.GroupBy=function(a,c,e){var f=new algorithm.BTree.binaryTree(e);a.forEach(function(a){var e=c(a),b=f.find(e);b?b.push(a):f.add(e,
[a])});console.log(f);return f.AsEnumerable().Select(function(a){return new Group(a.key,a.value)})};d.AllKeys=b;var f=function(){function a(a,e){this.xset=a;this.yset=e;this.keysT=b(a);this.keysU=b(e)}a.prototype.JoinProject=function(a,e){var c={};this.keysT.forEach(function(e){return c[e]=a[e]});this.keysU.forEach(function(a){return c[a]=e[a]});return c};a.prototype.Union=function(a,e,f,b){void 0===b&&(b=this.JoinProject);var c=this.buildUtree(e,f),d=[],h=new algorithm.BTree.binaryTree(f);this.xset.forEach(function(e){var f=
a(e),g=c.find(f);g?(g.forEach(function(a){return d.push(b(e,a))}),h.find(f)||h.add(f)):d.push(b(e,{}))});this.yset.forEach(function(a){var c=e(a);h.find(c)||d.push(b({},a))});return new IEnumerator(d)};a.prototype.buildUtree=function(a,e){var c=new algorithm.BTree.binaryTree(e);this.yset.forEach(function(e){var f=a(e),b=c.find(f);b?b.push(e):c.add(f,[e])});return c};a.prototype.LeftJoin=function(a,e,f,b){void 0===b&&(b=this.JoinProject);var c=this.buildUtree(e,f),d=[];this.xset.forEach(function(e){var f=
a(e);(f=c.find(f))?f.forEach(function(a){return d.push(b(e,a))}):d.push(b(e,{}))});return new IEnumerator(d)};return a}();d.JoinHelper=f})(Enumerable||(Enumerable={}));
var IEnumerator=function(d){function b(f){return d.call(this,b.getArray(f))||this}__extends(b,d);Object.defineProperty(b.prototype,"ElementType",{get:function(){return TypeInfo.typeof(this.First)},enumerable:!0,configurable:!0});b.prototype.ElementAt=function(f){void 0===f&&(f=null);if(!f)f=0;else if("string"==typeof f)throw"Item index='"+f+"' must be an integer!";return this.sequence[f]};b.getArray=function(f){return f?Array.isArray(f)?f.slice():f.sequence.slice():[]};b.prototype.indexOf=function(f){return this.sequence.indexOf(f)};
Object.defineProperty(b.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});b.prototype.FirstOrDefault=function(f){void 0===f&&(f=null);return 0==this.Count?f:this.sequence[0]};b.prototype.Union=function(f,a,c,e,b){void 0===b&&(b=null);Array.isArray(f)||(f=f.ToArray());return(new Enumerable.JoinHelper(this.sequence,f)).Union(a,c,e,b)};
b.prototype.Join=function(f,a,c,e,b){void 0===b&&(b=null);Array.isArray(f)||(f=f.ToArray());return(new Enumerable.JoinHelper(this.sequence,f)).LeftJoin(a,c,e,b)};b.prototype.Select=function(f){return Enumerable.Select(this.sequence,f)};b.prototype.GroupBy=function(f,a){if(isNullOrUndefined(a))switch(typeof f(this.First)){case "string":a=Strings.CompareTo;break;case "number":a=function(a,e){return a-e};break;case "boolean":a=function(a,e){return a==e?0:1==a?1:-1};break;default:throw"No element comparer was specific!";
}return Enumerable.GroupBy(this.sequence,f,a)};b.prototype.Where=function(f){return Enumerable.Where(this.sequence,f)};b.prototype.Min=function(f){void 0===f&&(f=function(a){return DataExtensions.as_numeric(a)});return Enumerable.OrderBy(this.sequence,f).First};b.prototype.Max=function(f){void 0===f&&(f=function(a){return DataExtensions.as_numeric(a)});return Enumerable.OrderByDescending(this.sequence,f).First};b.prototype.Average=function(f){void 0===f&&(f=null);return 0==this.Count?0:this.Sum(f)/
this.sequence.length};b.prototype.Sum=function(f){void 0===f&&(f=null);var a=0;f||(f=function(a){return Number(a)});for(var c=0;c<this.sequence.length;c++)a+=f(this.sequence[c]);return a};b.prototype.OrderBy=function(f){return Enumerable.OrderBy(this.sequence,f)};b.prototype.OrderByDescending=function(f){return Enumerable.OrderByDescending(this.sequence,f)};b.prototype.Take=function(f){return Enumerable.Take(this.sequence,f)};b.prototype.Skip=function(f){return Enumerable.Skip(this.sequence,f)};b.prototype.Reverse=
function(){var f=this.ToArray().reverse();return new b(f)};b.prototype.TakeWhile=function(f){return Enumerable.TakeWhile(this.sequence,f)};b.prototype.SkipWhile=function(f){return Enumerable.SkipWhile(this.sequence,f)};b.prototype.All=function(f){return Enumerable.All(this.sequence,f)};b.prototype.Any=function(f){void 0===f&&(f=null);return f?Enumerable.Any(this.sequence,f):this.sequence&&0!=this.sequence.length?!0:!1};b.prototype.Distinct=function(f){void 0===f&&(f=function(a){return a.toString()});
return this.GroupBy(f,Strings.CompareTo).Select(function(a){return a.First})};b.prototype.ChunkWith=function(f,a){void 0===a&&(a=!1);var c=new List,e=[];this.sequence.forEach(function(b){f(b)?(c.Add(e),e=a?[b]:[]):e.push(b)});0<e.length&&c.Add(e);return c};b.prototype.ForEach=function(f){this.sequence.forEach(f)};b.prototype.JoinBy=function(f,a){void 0===a&&(a=function(a){return"string"===typeof a?a:a.toString()});return this.Select(function(c){return a(c)}).ToArray().join(f)};b.prototype.Unlist=
function(f){void 0===f&&(f=function(a){return a});var a=[];this.ForEach(function(c){f(c).forEach(function(c){return a.push(c)})});return new b(a)};b.prototype.ToArray=function(f){void 0===f&&(f=!0);return f?this.sequence.slice():this.sequence};b.prototype.ToList=function(){return new List(this.sequence)};b.prototype.ToDictionary=function(f,a){void 0===a&&(a=function(a){return a});var c={};this.sequence.forEach(function(e){var b=f(e);e=a(e);c[b]=e});return new Dictionary(c)};b.prototype.ToPointer=
function(){return new Pointer(this)};b.prototype.SlideWindows=function(f,a){void 0===a&&(a=1);return SlideWindow.Split(this,f,a)};return b}(LINQIterator),DOMEnumerator=function(d){function b(f){return d.call(this,b.ensureElements(f))||this}__extends(b,d);b.ensureElements=function(f){var a=TypeInfo.typeof(f);if("NodeList"==a.class){var c=[];f.forEach(function(a){return c.push(a)})}else if("HTMLCollection"==a.class)for(c=[],a=0;a<f.length;a++)c.push(f.item(a));else c=Framework.Extensions.EnsureArray(f);
f=0;for(a=c;f<a.length;f++)TypeExtensions.Extends(a[f]);return c};b.prototype.val=function(f){void 0===f&&(f=null);if(isNullOrUndefined(f))return this.Select(function(a){return b.getVal(a)});"string"==typeof f||"number"==typeof f?this.ForEach(function(a){return b.setVal(a,f)}):Array.isArray(f)?this.ForEach(function(a,c){return b.setVal(a,f[c])}):this.ForEach(function(a,c){return b.setVal(a,f.ElementAt(c))})};b.setVal=function(f,a){f instanceof HTMLInputElement?f.value=a:f.textContent=a};b.getVal=
function(f){return f instanceof HTMLInputElement?f.value:f.textContent};b.prototype.attr=function(f,a){void 0===a&&(a=null);if(a){if("function"==typeof a)return this.Select(function(c){var e=a(c);c.setAttribute(f,e);return e});var c=Framework.Extensions.EnsureArray(a,this.Count);return this.Select(function(a,b){b=c[b];a.setAttribute(f,b);return b})}return this.Select(function(a){return a.getAttribute(f)})};b.prototype.AddClass=function(f){this.ForEach(function(a){a.classList.contains(f)||a.classList.add(f)});
return this};b.prototype.AddEvent=function(f,a){this.ForEach(function(c){DOM.addEvent(c,f,function(e){a(c,e)})})};b.prototype.onChange=function(f){this.AddEvent("onchange",f)};b.prototype.onClick=function(f){this.ForEach(function(a){a.onclick=function(a){f(this,a);return!1}})};b.prototype.RemoveClass=function(f){this.ForEach(function(a){a.classList.contains(f)&&a.classList.remove(f)});return this};b.prototype.hide=function(){this.ForEach(function(f){return f.style.display="none"});return this};b.prototype.show=
function(){this.ForEach(function(f){return f.style.display="block"});return this};b.prototype.Delete=function(){this.ForEach(function(f){return f.parentNode.removeChild(f)})};return b}(IEnumerator),Internal;
(function(d){(function(b){function f(a,c){return a?window.hasOwnProperty.call(a,c):!1}var a={onclick:"onclick"},c=Object.keys(a);b.hasKey=f;b.EnsureNodeId=function(a){if(a)return"#"==a[0]?a:"#"+a;throw"The given node id value is nothing!";};var e=function(){function e(){}e.ensureArguments=function(a){if(isNullOrUndefined(a))return d.Arguments.Default();isNullOrUndefined(a.nativeModel)&&(a.nativeModel=!0);return a};e.select=function(a,c){void 0===c&&(c=window);a=a.replace(":","\\:");if(c instanceof
Window)c=c.document.querySelectorAll(a);else if(c instanceof HTMLElement)c=c.querySelectorAll(a);else throw"Unsupported context type: "+TypeInfo.getClass(c);return new DOMEnumerator(c)};e.prototype.doEval=function(a,c,f){var b=DOM.Query.parseQuery(a);c=e.ensureArguments(f);var d=c.context||window;if(b.type==DOM.QueryTypes.id)return f=d.document.getElementById(b.expression),isNullOrUndefined(f)?(TypeScript.logging.outputWarning&&console.warn("Unable to found a node which its ID='"+a+"'!"),null):c.nativeModel?
TypeExtensions.Extends(f):new HTMLTsElement(f);if(b.type==DOM.QueryTypes.NoQuery)return e.createNew(a,c,d);if(b.singleNode){if(b.type==DOM.QueryTypes.QueryMeta)return DOM.InputValueGetter.metaValue(b.expression,(f||{})["default"],d!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+b.expression+"', no typescript extension was made!");return d.document.querySelector(b.expression)}return e.select(b.expression,d)};e.createNew=function(a,f,b){void 0===b&&
(b=window);a=DOM.ParseNodeDeclare(a);var d=b.document.createElement(a.tag);a.attrs.forEach(function(a){0>c.indexOf(a.name)&&d.setAttribute(a.name,a.value)});f&&e.setAttributes(d,f);return f.nativeModel?TypeExtensions.Extends(d):new HTMLTsElement(d)};e.setAttributes=function(e,b){var h=function(a){if(!(-1<c.indexOf(a)))if("class"==a){var f=b[a];Array.isArray(f)?f.forEach(function(a){return e.classList.add(a)}):e.setAttribute(a,f)}else if("style"==a)if("string"==typeof b)e.setAttribute(a,b);else for(f in b)e.style[f]=
b[f];else"visible"==a?e.style.display=b[a]?"block":"none":e.setAttribute(a,b[a])};d.Arguments.nameFilter(b).forEach(function(a){return h(a)});if(f(b,a.onclick)){var g=b[a.onclick];"string"==typeof g?e.setAttribute(a.onclick,g):e.onclick=g}};return e}();b.stringEval=e})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));
(function(d){(function(b){b.Shared={string:function(){return new b.stringEval},array:function(){return new f},NodeListOf:function(){return new a},HTMLCollection:function(){return new a}};var f=function(){function a(){}a.prototype.doEval=function(a,c,f){return From(a)};return a}();b.arrayEval=f;var a=function(){function a(){}a.prototype.doEval=function(a,c,f){return new DOMEnumerator(a)};return a}();b.DOMCollection=a})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(d){function b(f){return null==f||void 0==f?null:"number"===typeof f?function(a){return a}:"boolean"===typeof f?function(a){return 1==a?1:-1}:"undefined"==typeof f?function(a){return 0}:"string"==typeof f?function(a){return Strings.Val(a)}:function(a){return 0}}d.arrayBufferToBase64=function(f){var a="";f=new Uint8Array(f);for(var c=f.byteLength,e=0;e<c;e++)a+=String.fromCharCode(f[e]);return window.btoa(a)};d.uriToBlob=function(f){var a=window.atob(f.split(",")[1]);f=f.split(",")[0].split(":")[1].split(";")[0];
for(var c=new ArrayBuffer(a.length),e=new Uint8Array(c),b=0;b<a.length;b++)e[b]=a.charCodeAt(b);return new Blob([c],{type:f})};d.parseQueryString=function(f,a){void 0===a&&(a=!1);f=f.split("#")[0].split("&");for(var c={},e=0;e<f.length;e++){var b=f[e].split("="),d=void 0,k=b[0].replace(/\[\d*\]/,function(a){d=a.slice(1,-1);return""});b="undefined"===typeof b[1]?"true":b[1];a&&(k=k.toLowerCase());c[k]?("string"===typeof c[k]&&(c[k]=[c[k]]),"undefined"===typeof d?c[k].push(b):c[k][d]=b):c[k]=b}return c};
d.as_numeric=function(f){return b(f)(f)};d.AsNumeric=b;d.Dim=function(b,a){void 0===a&&(a=null);for(var c=[],e=0;e<b;e++)c.push(a);return c}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function d(b,f){void 0===b&&(b=null);void 0===f&&(f=null);this.key=b;this.value=f}d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.key,this.value]};d.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return d}(),NamedValue=function(){function d(b,f){void 0===b&&(b=null);void 0===f&&(f=null);this.name=b;this.value=f}Object.defineProperty(d.prototype,"TypeOfValue",{get:function(){return TypeInfo.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.name,this.value]};d.prototype.toString=function(){return this.name};return d}(),Strings;
(function(d){function b(a,c){if(!a)return!1;c=a.match("string"==typeof c?new RegExp(c):c);return isNullOrUndefined(c)?!1:c[0]==a}function f(a){return a&&void 0!=a?a.length:0}d.x0=48;d.x9=57;d.asterisk=42;d.cr=99;d.lf=13;d.a=97;d.z=122;d.A=65;d.Z=90;d.numericPattern=/[-]?\d+(\.\d+)?/g;d.isNumericPattern=function(a){return b(a,d.numericPattern)};d.Lanudry=function(a){var c=Math.floor(Math.log(a)/Math.log(1E3));return d.sprintf("%.2f "+["B","KB","MB","GB","TB"][c],a/Math.pow(1E3,Math.floor(c)))};d.escapeXml=
function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};d.parseInt=function(a){if(d.Empty(a,!0))return 0;var c=[];for(var e=0;e<a.length;e++){var b=a.charAt(e);var f=b.charCodeAt(0);if(f>=d.x0&&f<=d.x9)c.push(b);else break}return 0==c.length?0:Number(c.join(""))};d.New=function(a,c){if(0==c)return"";if(1==c)return a;for(var e="",b=1;b<c;++b)e+=a;return e};d.round=function(a,
c){void 0===c&&(c=3);var e="number"==typeof a?a:parseFloat(a);c=Math.pow(10,c);return isNaN(e)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+a+"'"),!1):Math.round(e*c)/c};d.isNumber=function(a){a=a.charCodeAt(0);return a>=d.x0&&a<=d.x9};d.isAlphabet=function(a){a=a.charCodeAt(0);return a>=d.a&&a<=d.z||a>=d.A&&a<=d.Z};d.Val=function(a){return null==a||""==a||void 0==a||"undefined"==a?0:"NA"==a||"NaN"==a?Number.NaN:"Inf"==a?Number.POSITIVE_INFINITY:"-Inf"==a?Number.NEGATIVE_INFINITY:
parseFloat(a)};d.lineTokens=function(a){return a?a.trim().split("\n"):[]};d.GetTagValue=function(a,c){void 0===c&&(c=" ");if(a){var e=c;c=a.indexOf(e);var b=f(e);-1<c?(e=a.substr(0,c),a=a.substr(c+b),a=new NamedValue(e,a)):a=new NamedValue(a,"");return a}return new NamedValue};d.PeekLines=function(a,c){for(var e=0,b=[],f=0;f<c;f++){var d=a.indexOf("\n",e);if(-1<d)b.push(a.substr(e,d-e)),e=d;else break}return b};d.getAllMatches=function(a,c){var e,b=[];"string"==typeof c&&(c=new RegExp(c));if(c.global)for(;e=
c.exec(a);)b.push(e);else(e=c.exec(a))&&b.push(e);return b};d.Trim=function(a,c){void 0===c&&(c=null);if(d.Empty(a,!1))return"";if(isNullOrUndefined(c))return a.trim();"string"==typeof c&&(c=From(d.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(d.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().JoinBy("")}(c)};d.LTrim=function(a,c){void 0===
c&&(c=" ");if(d.Empty(a,!1))return"";"string"==typeof c&&(c=From(d.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(d.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).JoinBy("")}(c)};d.RTrim=function(a,c){void 0===c&&(c=" ");if(d.Empty(a,!1))return"";"string"==typeof c&&(c=From(d.ToCharArray(c)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));for(var e=d.ToCharArray(a),b=0,f=e.length-1;0<f;f--)if(-1==c.indexOf(e[f].charCodeAt(0))){b=
f;break}return 0==b?"":a.substr(0,b+1)};d.Empty=function(a,c){void 0===c&&(c=!1);return a?void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!c||"undefined"!=a&&"null"!=a&&"NULL"!=a?!1:!0:!0};d.Blank=function(a,c){void 0===c&&(c=!1);return!a||b(a,/\s+/g)?!0:void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!c||"\\s"!=a&&"\\t"!=a?!1:!0};d.IsPattern=b;d.Unique=function(a){var c={};return a.filter(function(a){return c.hasOwnProperty(a)?!1:c[a]=!0})};d.ToCharArray=function(a,c){void 0===c&&(c=!1);var e=
[],b=a.length;if(c)for(c=0;c<b;++c)e.push(a.charCodeAt(c));else for(c=0;c<b;++c)e.push(a.charAt(c));return e};d.Len=f;d.CompareTo=function(a,c){for(var e=d.Len(a),b=d.Len(c),f=Math.min(e,b),k=0;k<f;k++){var l=a.charCodeAt(k),m=c.charCodeAt(k);if(l>m)return 1;if(l<m)return-1}return e>b?1:e<b?-1:0};d.sprintf=data.sprintf.doFormat;d.WrappingLines=function(a,c,e){void 0===c&&(c=200);void 0===e&&(e=!1);var b="";a=d.lineTokens(a);for(var f,k=0;k<a.length;k++){var l=e?d.Trim(a[k]):a[k];if(l.length<c)b=b+
l+"\n";else for(f=0;;)if(b=b+l.substr(f,c)+"\n",f+=c,f+c>l.length){b=b+l.substr(f)+"\n";break}}return b}})(Strings||(Strings={}));
var TypeInfo=function(){function d(){}Object.defineProperty(d.prototype,"IsPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsEnumerator",{get:function(){return"object"==this.typeOf&&"IEnumerator"==this.class},enumerable:!0,configurable:!0});d.prototype.IsArrayOf=function(b){return this.IsArray&&this.class==b};d.getClass=
function(b){var f="object"==typeof b,a=Array.isArray(b),c=isNullOrUndefined(b);return d.getClassInternal(b,a,f,c)};d.getClassInternal=function(b,f,a,c){return f?(b=b[0],"object"==(f=typeof b)&&(f=b.constructor.name),f):a?c?(TypeScript.logging.outputWarning&&console.warn(TypeExtensions.objectIsNothing),"null"):b.constructor.name:""};d.typeof=function(b){var f=typeof b,a="object"==f,c=Array.isArray(b),e=isNullOrUndefined(b),h=new d,g=d.getClassInternal(b,c,a,e);h.typeOf=c?"array":f;h.class=g;e?(h.property=
[],h.methods=[]):(h.property=a?Object.keys(b):[],h.methods=d.GetObjectMethods(b));return h};d.GetObjectMethods=function(b){var f=[],a;for(a in b)"function"==typeof b[a]&&f.push(a);return f};d.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};d.CreateMetaReader=function(b){return new TypeScript.Data.MetaReader(Activator.CreateObject(b))};return d}(),MD5;
(function(d){d.safe_add=function(b,f){var a=(b&65535)+(f&65535);return(b>>16)+(f>>16)+(a>>16)<<16|a&65535};d.bit_rol=function(b,f){return b<<f|b>>>32-f};d.md5_cmn=function(b,f,a,c,e,h){return d.safe_add(d.bit_rol(d.safe_add(d.safe_add(f,b),d.safe_add(c,h)),e),a)};d.md5_ff=function(b,f,a,c,e,h,g){return d.md5_cmn(f&a|~f&c,b,f,e,h,g)};d.md5_gg=function(b,f,a,c,e,h,g){return d.md5_cmn(f&c|a&~c,b,f,e,h,g)};d.md5_hh=function(b,f,a,c,e,h,g){return d.md5_cmn(f^a^c,b,f,e,h,g)};d.md5_ii=function(b,f,a,c,e,
h,g){return d.md5_cmn(a^(f|~c),b,f,e,h,g)};d.binl_md5=function(b,f){var a=1732584193,c=-271733879,e=-1732584194,h=271733878;b[f>>5]|=128<<f%32;b[(f+64>>>9<<4)+14]=f;for(var g=0;g<b.length;g+=16){f=a;var k=c;var l=e;var m=h;a=d.md5_ff(a,c,e,h,b[g],7,-680876936);h=d.md5_ff(h,a,c,e,b[g+1],12,-389564586);e=d.md5_ff(e,h,a,c,b[g+2],17,606105819);c=d.md5_ff(c,e,h,a,b[g+3],22,-1044525330);a=d.md5_ff(a,c,e,h,b[g+4],7,-176418897);h=d.md5_ff(h,a,c,e,b[g+5],12,1200080426);e=d.md5_ff(e,h,a,c,b[g+6],17,-1473231341);
c=d.md5_ff(c,e,h,a,b[g+7],22,-45705983);a=d.md5_ff(a,c,e,h,b[g+8],7,1770035416);h=d.md5_ff(h,a,c,e,b[g+9],12,-1958414417);e=d.md5_ff(e,h,a,c,b[g+10],17,-42063);c=d.md5_ff(c,e,h,a,b[g+11],22,-1990404162);a=d.md5_ff(a,c,e,h,b[g+12],7,1804603682);h=d.md5_ff(h,a,c,e,b[g+13],12,-40341101);e=d.md5_ff(e,h,a,c,b[g+14],17,-1502002290);c=d.md5_ff(c,e,h,a,b[g+15],22,1236535329);a=d.md5_gg(a,c,e,h,b[g+1],5,-165796510);h=d.md5_gg(h,a,c,e,b[g+6],9,-1069501632);e=d.md5_gg(e,h,a,c,b[g+11],14,643717713);c=d.md5_gg(c,
e,h,a,b[g],20,-373897302);a=d.md5_gg(a,c,e,h,b[g+5],5,-701558691);h=d.md5_gg(h,a,c,e,b[g+10],9,38016083);e=d.md5_gg(e,h,a,c,b[g+15],14,-660478335);c=d.md5_gg(c,e,h,a,b[g+4],20,-405537848);a=d.md5_gg(a,c,e,h,b[g+9],5,568446438);h=d.md5_gg(h,a,c,e,b[g+14],9,-1019803690);e=d.md5_gg(e,h,a,c,b[g+3],14,-187363961);c=d.md5_gg(c,e,h,a,b[g+8],20,1163531501);a=d.md5_gg(a,c,e,h,b[g+13],5,-1444681467);h=d.md5_gg(h,a,c,e,b[g+2],9,-51403784);e=d.md5_gg(e,h,a,c,b[g+7],14,1735328473);c=d.md5_gg(c,e,h,a,b[g+12],20,
-1926607734);a=d.md5_hh(a,c,e,h,b[g+5],4,-378558);h=d.md5_hh(h,a,c,e,b[g+8],11,-2022574463);e=d.md5_hh(e,h,a,c,b[g+11],16,1839030562);c=d.md5_hh(c,e,h,a,b[g+14],23,-35309556);a=d.md5_hh(a,c,e,h,b[g+1],4,-1530992060);h=d.md5_hh(h,a,c,e,b[g+4],11,1272893353);e=d.md5_hh(e,h,a,c,b[g+7],16,-155497632);c=d.md5_hh(c,e,h,a,b[g+10],23,-1094730640);a=d.md5_hh(a,c,e,h,b[g+13],4,681279174);h=d.md5_hh(h,a,c,e,b[g],11,-358537222);e=d.md5_hh(e,h,a,c,b[g+3],16,-722521979);c=d.md5_hh(c,e,h,a,b[g+6],23,76029189);a=
d.md5_hh(a,c,e,h,b[g+9],4,-640364487);h=d.md5_hh(h,a,c,e,b[g+12],11,-421815835);e=d.md5_hh(e,h,a,c,b[g+15],16,530742520);c=d.md5_hh(c,e,h,a,b[g+2],23,-995338651);a=d.md5_ii(a,c,e,h,b[g],6,-198630844);h=d.md5_ii(h,a,c,e,b[g+7],10,1126891415);e=d.md5_ii(e,h,a,c,b[g+14],15,-1416354905);c=d.md5_ii(c,e,h,a,b[g+5],21,-57434055);a=d.md5_ii(a,c,e,h,b[g+12],6,1700485571);h=d.md5_ii(h,a,c,e,b[g+3],10,-1894986606);e=d.md5_ii(e,h,a,c,b[g+10],15,-1051523);c=d.md5_ii(c,e,h,a,b[g+1],21,-2054922799);a=d.md5_ii(a,
c,e,h,b[g+8],6,1873313359);h=d.md5_ii(h,a,c,e,b[g+15],10,-30611744);e=d.md5_ii(e,h,a,c,b[g+6],15,-1560198380);c=d.md5_ii(c,e,h,a,b[g+13],21,1309151649);a=d.md5_ii(a,c,e,h,b[g+4],6,-145523070);h=d.md5_ii(h,a,c,e,b[g+11],10,-1120210379);e=d.md5_ii(e,h,a,c,b[g+2],15,718787259);c=d.md5_ii(c,e,h,a,b[g+9],21,-343485551);a=d.safe_add(a,f);c=d.safe_add(c,k);e=d.safe_add(e,l);h=d.safe_add(h,m)}return[a,c,e,h]};d.binl2rstr=function(b){for(var f="",a=0;a<32*b.length;a+=8)f+=String.fromCharCode(b[a>>5]>>>a%32&
255);return f};d.rstr2binl=function(b){var f=[];f[(b.length>>2)-1]=void 0;for(var a=0;a<f.length;a+=1)f[a]=0;for(a=0;a<8*b.length;a+=8)f[a>>5]|=(b.charCodeAt(a/8)&255)<<a%32;return f};d.rstr_md5=function(b){return d.binl2rstr(d.binl_md5(d.rstr2binl(b),8*b.length))};d.rstr_hmac_md5=function(b,f){var a=d.rstr2binl(b),c=[],e=[];c[15]=e[15]=void 0;16<a.length&&(a=d.binl_md5(a,8*b.length));for(b=0;16>b;b+=1)c[b]=a[b]^909522486,e[b]=a[b]^1549556828;a=c.concat(d.rstr2binl(f));a=d.binl_md5(a,512+8*f.length);
a=e.concat(a);a=d.binl_md5(a,640);return d.binl2rstr(a)};d.rstr2hex=function(b){for(var f="",a,c=0;c<b.length;c+=1)a=b.charCodeAt(c),f+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return f};d.str2rstr_utf8=function(b){return unescape(encodeURIComponent(b))};d.raw_md5=function(b){return d.rstr_md5(d.str2rstr_utf8(b))};d.hex_md5=function(b){return d.rstr2hex(d.raw_md5(b))};d.raw_hmac_md5=function(b,f){return d.rstr_hmac_md5(d.str2rstr_utf8(b),d.str2rstr_utf8(f))};d.hex_hmac_md5=
function(b,f){return d.rstr2hex(d.raw_hmac_md5(b,f))};d.calculate=function(b,f,a){void 0===f&&(f=null);void 0===a&&(a=null);return f?a?d.raw_hmac_md5(f,b):d.hex_hmac_md5(f,b):a?d.raw_md5(b):d.hex_md5(b)}})(MD5||(MD5={}));
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);a.Dump=function(){var c=Error().stack.split("\n");c=From(c).Skip(2).Select(d.StackFrame.Parse);return new a(c)};a.GetCallerMember=function(){return a.Dump().ToArray()[2]};a.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(c){a.AppendLine("  at "+c.toString())});return a.toString()};return a}(IEnumerator);d.StackTrace=b})(Internal||(Internal={}));
var Dictionary=function(d){function b(f){void 0===f&&(f=null);var a=d.call(this,b.ObjectMaps(f))||this;isNullOrUndefined(f)?a.maps={}:Array.isArray(f)?a.maps=Activator.CreateObject(f):"IEnumerator"==TypeInfo.typeof(f).class?a.maps=Activator.CreateObject(f):a.maps=f;return a}__extends(b,d);Object.defineProperty(b.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});b.prototype.Item=function(b){void 0===b&&(b=null);b||(b=Internal.StackTrace.GetCallerMember().memberName);
return"string"==typeof b?this.maps[b]:this.sequence[b].value};Object.defineProperty(b.prototype,"Keys",{get:function(){return From(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Values",{get:function(){return this.Select(function(b){return b.value})},enumerable:!0,configurable:!0});b.FromMaps=function(f){return new b(f)};b.FromNamedValues=function(f){return new b(Activator.CreateObject(f))};b.MapSequence=function(b){return new IEnumerator(this.ObjectMaps(b))};
b.ObjectMaps=function(b){var a=TypeInfo.typeof(b);return isNullOrUndefined(b)?[]:Array.isArray(b)?b:"IEnumerator"==a.class?b.ToArray():From(Object.keys(b)).Select(function(a){return new MapTuple(a,b[a])}).ToArray()};b.prototype.ContainsKey=function(b){return b in this.maps};b.prototype.Add=function(f,a){this.maps[f]=a;this.sequence=b.ObjectMaps(this.maps);return this};b.prototype.Delete=function(f){f in this.maps&&(delete this.maps[f],this.sequence=b.ObjectMaps(this.maps));return this};return b}(IEnumerator),
TypeScript;
(function(d){var b;(function(a){a.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;a.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;a.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig})(b=d.URLPatterns||(d.URLPatterns={}));var f=function(){function a(c){var e=Strings.GetTagValue(c,"://");this.protocol=e.name;e=Strings.GetTagValue(e.value,"/");this.origin=e.name;e=Strings.GetTagValue(e.value,"?");this.path=e.name;this.fileName=Strings.Empty(this.path)?"":TsLinq.PathHelper.basename(this.path);this.hash=
From(c.split("#")).Last;0>c.indexOf("#")&&(this.hash="");c=a.UrlQuery(e.value);this.queryArguments=Dictionary.MapSequence(c).Select(function(a){return new NamedValue(a.key,a.value)})}Object.defineProperty(a.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});a.prototype.getArgument=function(a,e,b){void 0===e&&(e=!0);void 0===b&&(b="");if(Strings.Empty(a,!1))return"";e||(a=a.toLowerCase());return this.queryArguments.Where(function(c){return e?c.name==
a:c.name.toLowerCase()==a}).FirstOrDefault({value:b}).value};a.UrlQuery=function(a){return a?DataExtensions.parseQueryString(a,!1):{}};a.JumpToHash=function(a){window.scrollTo(0,$ts(a).offsetTop)};a.SetHash=function(a){history.pushState?history.pushState(null,null,a):location.hash=a};a.WindowLocation=function(){return new a(window.location.href)};a.prototype.toString=function(){var a=From(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),e=this.protocol+"://"+
this.origin+"/"+this.path;a&&(e=e+"?"+a);this.hash&&(e=e+"#"+this.hash);return e};a.Refresh=function(a){return a+"&refresh="+1E4*Math.random()};a.getHostName=function(a){a=a.match(b.hostNamePattern);return null!=a&&2<a.length&&"string"===typeof a[2]&&0<a[2].length?a[2]:null};a.ParseAllUrlStrings=function(a){var c=[],f=0;for(a=Strings.getAllMatches(a,b.urlPattern);f<a.length;f++)c.push(a[f][0]);return c};a.IsWellFormedUriString=function(a){var c=a.match(b.uriPattern);if(isNullOrUndefined(c))return!1;
c=c[0];return Strings.Empty(c,!0)?!1:0==a.indexOf(c)};return a}();d.URL=f})(TypeScript||(TypeScript={}));var TsLinq;
(function(d){(function(b){b.basename=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?b[0]:(new IEnumerator(b)).Take(b.length-1).JoinBy(".")};b.extensionName=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?"":b[b.length-1]};b.fileName=function(b){return From(Strings.RTrim(b,"/").split("/")).Last}})(d.PathHelper||(d.PathHelper={}))})(TsLinq||(TsLinq={}));var Modes;
(function(d){d[d.debug=0]="debug";d[d.development=10]="development";d[d.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(d){function b(a,e){var c=$ts("<a>");if("download"in c){c.download=a;c.style.display="none";document.body.appendChild(c);try{var b=DataExtensions.uriToBlob(e),f=URL.createObjectURL(b);c.href=f;c.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(f)})}}catch(l){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),c.href=e}c.click();document.body.removeChild(c)}else window.open(e,"_temp","menubar=no,toolbar=no,status=no")}
function f(c,e,b){void 0===e&&(e=null);void 0===b&&(b=null);var f=$ts("<thead>"),d=$ts("<tbody>");var h=Array.isArray(c)?a(e||$ts(Object.keys(c[0]))):a(e||$ts(Object.keys(c.First)));var m=function(a){var c=$ts("<tr>");h.forEach(function(b){return c.appendChild($ts("<td>").display(a[b.key]))});return c};Array.isArray(c)?c.forEach(function(a){return d.appendChild(m(a))}):c.ForEach(function(a){return d.appendChild(m(a))});h.forEach(function(a){return f.appendChild($ts("<th>").display(a.value))});return $ts("<table>",
b).asExtends.append(f).append(d).HTMLElement}function a(a){var c=TypeInfo.typeof(a);if(c.IsArrayOf("string"))return From(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(c.IsArrayOf(TypeExtensions.DictionaryMap))return a;if(c.IsEnumerator&&"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(c.IsEnumerator&&TypeInfo.getClass(a.First)==TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+c.class;}d.download=function(a,e){navigator.msSaveOrOpenBlob?
navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(e),a):b(a,e)};d.clientSize=function(){var a=window,b=document,f=b.documentElement;b=b.getElementsByTagName("body")[0];return[a.innerWidth||f.clientWidth||b.clientWidth,a.innerHeight||f.clientHeight||b.clientHeight]};d.AddSelectOptions=function(a,b,f,d){void 0===f&&(f=null);void 0===d&&(d=null);a=From(a).Select(function(a){return'<option value="'+a.value+'">'+a.key+"</option>"}).JoinBy("\n");f=isNullOrUndefined(f)&&isNullOrUndefined(d)?a:'\n                <select class="'+
d+'" multiple name="'+f+'">\n                    '+a+"\n                </select>";$ts("#"+b).innerHTML=f};d.CreateHTMLTableNode=f;d.AddHTMLTable=function(a,b,d,g){void 0===d&&(d=null);void 0===g&&(g=null);var c=b+"-table";g?g.id||(g.id=c):g={id:c};$ts(b).appendChild(f(a,d,g))}})(DOM||(DOM={}));
(function(d){(function(b){function f(c){return"checkbox"==c.type?a(c):c.value}function a(a){var c=document.getElementsByName(a.name),b=[];if(1==c.length)return a.checked;c.forEach(function(a){var c=a.value;a.checked&&b.push(c)});return b}function c(a){var c=[],b=0;for(a=e(a);b<a.length;b++){var f=a[b],d=f.value;d||(d=f.innerText);c.push(d)}return c}function e(a){for(var c=[],b,e=0,f=a.options.length;e<f;e++)b=a.options[e],b.selected&&c.push(b);return c}b.metaValue=function(a,c,b){void 0===c&&(c=null);
void 0===b&&(b=!1);a='meta[name~="'+a+'"]';var e=document.querySelector(a);!e&&b&&(e=parent.window.document.querySelector(a));e?c=(b=e.getAttribute("content"))?b:c:TypeScript.logging.outputWarning&&console.warn(a+" not found in current context!");return c};b.getValue=function(a,b){void 0===b&&(b=!0);a=$ts(Internal.Handlers.EnsureNodeId(a));switch(a.tagName){case "input":return f(a);case "select":return c(a);case "textarea":break;default:if(b)throw"Get value of <"+a.tagName+"> is not supported!";return a.getAttribute("value")}};
b.inputValue=f;b.checkboxInput=a;b.selectOptionValues=c;b.getSelectedOptions=e;b.largeText=function(a){}})(d.InputValueGetter||(d.InputValueGetter={}))})(DOM||(DOM={}));
(function(d){var b=function(){function b(a,c){void 0===c&&(c=null);"number"!=typeof a||isNullOrUndefined(c)?(this.min=a.min,this.max=a.max):(this.min=a,this.max=c)}Object.defineProperty(b.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});b.Create=function(a){var c=Array.isArray(a)?$ts(a):a;a=c.Min();c=c.Max();return new b(a,c)};b.prototype.IsInside=
function(a){return a>=this.min&&a<=this.max};b.prototype.ScaleMapping=function(a,c){return(a-this.min)/this.Length*(c.max-c.min)+c.min};b.prototype.PopulateNumbers=function(a){void 0===a&&(a=this.Length/10);for(var c=[],b=this.min;b<this.max;b+=a)c.push(b);return c};b.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return b}();d.NumericRange=b})(data||(data={}));
(function(d){function b(b){b.post=function(b,e,f,d){e={type:HttpHelpers.measureContentType(e),data:e,sendContentType:(d||{}).sendContentType||!0};HttpHelpers.POST(a(b),e,function(a){f&&f(c(a))})};b.getText=function(c,b,e){void 0===e&&(e={nullForNotFound:!1});HttpHelpers.GetAsyn(a(c),function(a,c){200!=c?e.nullForNotFound?b(""):b(a):b(a)})};b.get=function(b,e){HttpHelpers.GetAsyn(a(b),function(a){e&&e(c(a))})};b.upload=function(b,e,f){HttpHelpers.UploadFile(a(b),e,null,function(a){f&&f(c(a))})};b.location=
f();b.parseURL=function(a){return new TypeScript.URL(a)};b.goto=function(a,c){void 0===c&&(c={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(c.lambda)return function(){Goto(a,c.currentFrame)};Goto(a,c.currentFrame)}};return b}function f(){var a=TypeScript.URL.WindowLocation(),c=function(c,b,e){void 0===b&&(b=!0);void 0===e&&(e="");return a.getArgument(c,b,e)};c.path=a.path||"/";c.fileName=a.fileName;c.hash=function(a,c){void 0===a&&(a={trimprefix:!0,doJump:!1});
void 0===c&&(c=null);if(isNullOrUndefined(c))return c=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,c&&a&&1<c.length?c.substr(1):isNullOrUndefined(c)?"":c;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=c:TypeScript.URL.SetHash(c)};return c}function a(a,c){void 0===c&&(c=!1);if("@"==a.charAt(0)){for(var b=[],e,f=1;f<a.length;f++){var d=e=a.charAt(f);d=-1<l.indexOf(d)?!0:Strings.isNumber(d)||Strings.isAlphabet(d);if(d)b.push(e);else break}e=b.join("");a=DOM.InputValueGetter.metaValue(e,
e,!c)+a.substr(b.length+1)}return a}function c(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function e(a,c){a.imports=function(a,c,b,e){void 0===c&&(c=DoNothing);void 0===b&&(b=!1);void 0===e&&(e=!1);return(new HttpHelpers.Imports(a,b,e)).doLoad(c)};a.eval=function(a,c,b){void 0===c&&(c=!1);c&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,b)};a.value=DOM.InputValueGetter.getValue;a.inject=function(a,c){a=$ts(a).contentWindow;
TypeScript.logging.outputEverything&&console.log(c);if(Array.isArray(c))for(var b=0;b<c.length;b++)a.eval(c[b].toString());else"string"==typeof c?a.eval(c):a.eval(c.toString())};a.text=function(a,b){void 0===b&&(b=!1);a=d.Handlers.EnsureNodeId(a);a=c.doEval(a,null,null);return b?a.innerHTML:a.innerText};a.loadJSON=function(c){return JSON.parse(a.text(c))};a.parseFileName=TsLinq.PathHelper.fileName;a.baseName=TsLinq.PathHelper.basename;a.extensionName=TsLinq.PathHelper.extensionName;a.withExtensionName=
function(a,c){return $ts.extensionName(a).toLowerCase()==c.toLowerCase()};a.doubleRange=data.NumericRange.Create;return a}function h(a){a.isNullOrEmpty=function(a){return IsNullOrEmpty(a)};a.from=From;a.csv={toObjects:function(a){return csv.dataframe.Parse(a).Objects()},toText:function(a){return csv.toDataFrame(a).buildDoc()}};a.evalHTML={table:DOM.CreateHTMLTableNode,selectOptions:DOM.AddSelectOptions};a.appendTable=DOM.AddHTMLTable;return a}function g(a){a.select=function(a,c){void 0===c&&(c=window);
return d.Handlers.stringEval.select(a,c)};a.select.getSelectedOptions=function(a,c){void 0===c&&(c=window);a=$ts(a,{context:c});a=DOM.InputValueGetter.getSelectedOptions(a);return new DOMEnumerator(a)};a.select.getOption=function(a,c){void 0===c&&(c=window);a=$ts(a,{context:c});a=DOM.InputValueGetter.getSelectedOptions(a);return 0==a.length?null:a[0].value};return a}function k(a,c,b){var e=TypeInfo.typeof(c),f=e.typeOf;f=f in a?a[f]():null;if(e.IsArray)return f.doEval(c,e,b);if("function"==e.typeOf)DOM.ready(c);
else{if(isNullOrUndefined(eval)){a=a[e.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+e.toString();return a().doEval(c,e,b)}return f.doEval(c,e,b)}}d.StringEval=new d.Handlers.stringEval;d.Static=function(){var a=d.Handlers.Shared,c=function(c,b){return k(a,c,b)},f=a.string();c.mode=Modes.production;c=e(c,f);c=h(c);c=b(c);return c=g(c)};var l=[":","_"];d.urlSolver=a;d.queryFunction=k})(Internal||(Internal={}));
"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(d){return this.slice(0,d.length)==d});function $imports(d,b,f,a){void 0===b&&(b=DoNothing);void 0===f&&(f=!1);void 0===a&&(a=!1);return(new HttpHelpers.Imports(d,f,a)).doLoad(b)}function $include(d){"string"==typeof d&&(d=[d]);$ts(function(){return d.forEach(function(b){var f=$ts("<script>",{type:"text/javascript",src:b});f.onload=function(){document.body.removeChild(f)};document.body.appendChild(f)})})}
function md5(d,b,f){void 0===b&&(b=null);void 0===f&&(f=null);return MD5.calculate(d,b,f)}function From(d){return new IEnumerator(d)}function CharEnumerator(d){return new IEnumerator(Strings.ToCharArray(d))}function IsNullOrEmpty(d){return null==d||void 0==d?!0:Array.isArray(d)&&0==d.length?!0:0==d.Count?!0:!1}function isNullOrUndefined(d){return null==d||void 0==d?!0:!1}function LoadJson(d){return JSON.parse(LoadText(d))}function LoadText(d){return document.getElementById(d).textContent}
function getAllUrlParams(d){void 0===d&&(d=window.location.href);return-1<d.indexOf("?")?(d=Strings.GetTagValue(d,"?").value,d=DataExtensions.parseQueryString(d),new Dictionary(d)):new Dictionary({})}function Goto(d,b){void 0===b&&(b=!1);var f=window;b||(f=window.top);f.location.href=Internal.urlSolver(d,b)}function base64_decode(d){d=Strings.lineTokens(d);d=From(d).Where(function(b){return b&&0<b.length}).Select(function(b){return b.trim()}).JoinBy("");return Base64.decode(d)}
function DoNothing(){return null}function saveSvgAsPng(d,b,f){void 0===f&&(f=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(d,b,f)}var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static();function $image(d,b){return Internal.StringEval.doEval(d,null,b)}function $input(d,b){return Internal.StringEval.doEval(d,null,b)}function $link(d,b){return Internal.StringEval.doEval(d,null,b)}var TypeExtensions;
(function(d){d.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";d.DictionaryMap=TypeInfo.getClass(new MapTuple("",""));d.ensureNumeric=function(b){return"number"==typeof b?b:parseFloat(b)}})(TypeExtensions||(TypeExtensions={}));
var Group=function(d){function b(b,a){a=d.call(this,a)||this;a.Key=b;return a}__extends(b,d);Object.defineProperty(b.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.ToMaps=function(){var b=this;return From(this.sequence).Select(function(a){return new MapTuple(b.Key,a)}).ToArray()};return b}(IEnumerator),List=function(d){function b(b){void 0===b&&(b=null);return d.call(this,b||[])||this}__extends(b,d);b.prototype.Add=function(b){this.sequence.push(b);
return this};b.prototype.AddRange=function(b){var a=this;Array.isArray(b)?b.forEach(function(c){return a.sequence.push(c)}):b.ForEach(function(c){return a.sequence.push(c)});return this};b.prototype.IndexOf=function(b){return this.sequence.indexOf(b)};b.prototype.Pop=function(){var b=this.First;this.sequence=this.sequence.slice(1);return b};return b}(IEnumerator),Matrix=function(d){function b(f,a,c){void 0===c&&(c=null);return d.call(this,b.emptyMatrix(f,a,c))||this}__extends(b,d);Object.defineProperty(b.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});b.emptyMatrix=function(b,a,c){for(var e=[],f=0;f<a;f++)e.push(DataExtensions.Dim(b,c));return e};b.prototype.M=function(b,a,c){void 0===c&&(c=null);if(isNullOrUndefined(c))return this.sequence[b][a];this.sequence[b][a]=c};b.prototype.column=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a)){a=
[];for(var c=0;c<this.rows;c++)a.push(this.sequence[c][b]);return a}a=Array.isArray(a)?a:a.ToArray(!1);for(c=0;c<this.rows;c++)this.sequence[c][b]=a[c];return null};b.prototype.row=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[b];Array.isArray(a)?this.sequence[b]=a:this.sequence[b]=a.ToArray(!1)};b.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return b}(IEnumerator),Pointer=function(d){function b(b){b=d.call(this,b)||this;b.p=0;return b}
__extends(b,d);Object.defineProperty(b.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Next",{get:function(){var b=this.Current;this.p+=1;return b},enumerable:!0,configurable:!0});b.prototype.MoveNext=function(){this.p+=1;return this};b.prototype.Peek=function(b){return this.sequence[this.p+b]};return b}(IEnumerator),
SlideWindow=function(d){function b(b,a){a=d.call(this,a)||this;a.index=b;return a}__extends(b,d);b.Split=function(f,a,c){void 0===c&&(c=1);Array.isArray(f)||(f=f.ToArray());for(var e=f.length-a,d=[],g=0;g<e;g+=c){for(var k=Array(a),l=0;l<a;l++)k[l]=f[g+l];d.push(new b(g,k))}return new IEnumerator(d)};return b}(IEnumerator);
(function(d){var b;(function(a){a[a.NoQuery=0]="NoQuery";a[a.id=1]="id";a[a["class"]=10]="class";a[a.tagName=-100]="tagName";a[a.QueryMeta=200]="QueryMeta"})(b=d.QueryTypes||(d.QueryTypes={}));var f=function(){function a(){}a.parseQuery=function(c){if("&"==c.charAt(0)){var b=!0;c=c.substr(1)}else b=!1;return a.parseExpression(c,b)};a.getById=function(a){return{type:b.id,singleNode:!0,expression:a}};a.getByClass=function(a,e){return{type:b.class,singleNode:e,expression:a}};a.getByTag=function(a,e){return{type:b.tagName,
singleNode:e,expression:a}};a.createElement=function(a){return{type:b.NoQuery,singleNode:!0,expression:a}};a.queryMeta=function(a){return{type:b.QueryMeta,singleNode:!0,expression:a}};a.isSelectorQuery=function(a){var c=-1<a.indexOf(" ");a="<"==a.charAt(0)&&">"==a.charAt(a.length-1);return c&&!a};a.parseExpression=function(c,e){var f=c.charAt(0);if(a.isSelectorQuery(c))return{type:b.tagName,singleNode:e,expression:c};switch(f){case "#":return this.getById(c.substr(1));case ".":return this.getByClass(c,
e);case "<":return this.createElement(c);case "@":return this.queryMeta(c.substr(1));default:return this.getByTag(c,e)}};return a}();d.Query=f})(DOM||(DOM={}));
(function(d){function b(f,a,c){if(document.addEventListener)if(f&&f.nodeName||f===window)f.addEventListener(a,c,!1);else{if(f&&f.length)for(var e=0;e<f.length;e++)b(f[e],a,c)}else if(f&&f.nodeName||f===window)f.attachEvent("on"+a,function(){return c.call(f,window.event)});else if(f&&f.length)for(e=0;e<f.length;e++)b(f[e],a,c)}d.ready=function(b,a){void 0===a&&(a=["interactive","complete"]);if("function"===typeof b){TypeScript.logging.outputEverything&&(console.log("Add Document.ready event handler."),
console.log("document.readyState = "+document.readyState));if(-1<a.indexOf(document.readyState))return b();document.addEventListener("DOMContentLoaded",b,!1)}};d.addEvent=b})(DOM||(DOM={}));
(function(d){var b=function(){function b(){}b.FromNode=function(a){var c=new b;c.tagName=a.tagName;c.id=a.id;c.classList=this.tokenList(a.classList);c.attrs=this.nameValueMaps(a.attributes);return c};b.tokenList=function(a){for(var c=[],b=0;b<a.length;b++)c.push(a.item(b));return c};b.nameValueMaps=function(a){for(var c=[],b,f=0;f<a.length;f++)b=a.item(f),b=new NamedValue(b.name,b.value),c.push(b);return c};return b}();d.node=b})(DOM||(DOM={}));
(function(d){d.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;d.ParseNodeDeclare=function(b){b=b.substr(1,b.length-2).trim();b=Strings.GetTagValue(b," ");var f=b.name,a=[];0<b.value.length&&(a=From(b.value.match(d.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var b=a.value.trim();b=b.substr(1,b.length-2);return new NamedValue(a.name,b)}).ToArray());return{tag:f,attrs:a}}})(DOM||(DOM={}));
var HTMLTsElement=function(){function d(b){this.node=b instanceof HTMLElement?b:b.node}Object.defineProperty(d.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});d.prototype.display=function(b){if(b)if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)this.HTMLElement.innerHTML=b.toString();else{var f=this.HTMLElement;b="function"==typeof b?b():b instanceof d?b.HTMLElement:b;f.innerHTML="";f.appendChild(b)}else this.HTMLElement.innerHTML="";return this};
d.prototype.clear=function(){this.HTMLElement.innerHTML="";return this};d.prototype.text=function(b){this.HTMLElement.innerText=b;return this};d.prototype.addClass=function(b){var f=this.HTMLElement;f.classList.contains(b)||f.classList.add(b);return this};d.prototype.removeClass=function(b){var f=this.HTMLElement;f.classList.contains(b)&&f.classList.remove(b);return this};d.prototype.append=function(b){b instanceof d?this.HTMLElement.appendChild(b.HTMLElement):b instanceof HTMLElement?this.HTMLElement.appendChild(b):
this.HTMLElement.appendChild(b());return this};d.prototype.show=function(){this.HTMLElement.style.display="block";return this};d.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return d}();
(function(d){d.Extends=function(b){if(isNullOrUndefined(b))return null;var f=new HTMLTsElement(b);b.display=function(a){f.display(a);return b};b.show=function(){f.show();return b};b.hide=function(){f.hide();return b};b.addClass=function(a){f.addClass(a);return b};b.removeClass=function(a){f.removeClass(a);return b};b.CType=function(){return b};b.clear=function(){b.innerHTML="";return b};b.selects=function(a){return Internal.Handlers.stringEval.select(a,b)};b.asExtends=f;b.asImage=b;return b.asInput=
b}})(TypeExtensions||(TypeExtensions={}));(function(d){(function(b){var f=function(){function a(a){this.meta=a}a.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=Internal.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return a}();b.MetaReader=f})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));
(function(d){var b=function(a){function b(){return a.call(this,[])||this}__extends(b,a);Object.defineProperty(b.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.enqueue=function(a){var b=this.Last,c=this.Q;a=new f(a);c.push(a);b&&(b.below=a,a.above=b)};b.prototype.extract=function(a){var b=this.Q,c=b[a-1],e=b[a+1];a=b.splice(a,1)[0];c&&(c.below=e);e&&(e.above=c);return a};b.prototype.dequeue=function(){return this.extract(0)};return b}(IEnumerator);d.PriorityQueue=
b;var f=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();d.QueueItem=f})(TsLinq||(TsLinq={}));var algorithm;
(function(d){(function(b){var f=function(){function a(a){void 0===a&&(a=function(a,b){a=DataExtensions.as_numeric(a);b=DataExtensions.as_numeric(b);return a-b});this.compares=a}a.prototype.add=function(a,e){void 0===e&&(e=null);var c=this.root;if(c)for(;c;){var f=this.compares(a,c.key);if(0==f){c.value=e;break}else if(0>f)if(c.left)c=c.left;else{c.left=new b.node(a,e);break}else if(c.right)c=c.right;else{c.right=new b.node(a,e);break}}else this.root=new b.node(a,e)};a.prototype.find=function(a){for(var b=
this.root,c;b;){c=this.compares(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null};a.prototype.ToArray=function(){return b.binaryTreeExtensions.populateNodes(this.root)};a.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return a}();b.binaryTree=f})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(b){(function(b){function a(b,e){isNullOrUndefined(b)?TypeScript.logging.outputWarning&&console.warn(b):(e.push(b),b.left&&a(b.left,e),b.right&&a(b.right,e))}b.populateNodes=function(b){var c=[];a(b,c);return c}})(b.binaryTreeExtensions||(b.binaryTreeExtensions={}))})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(b){var f=function(){function a(a,b,f,d){void 0===b&&(b=null);void 0===f&&(f=null);void 0===d&&(d=null);this.key=a;this.left=f;this.right=d;this.value=b}a.prototype.toString=function(){return this.key.toString()};return a}();b.node=f})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));var Base64;
(function(d){var b=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;d.isValidBase64String=function(f){return f&&0==f.length%4?b.test(f):!1};d.encode=function(b){var a=[],c=0;for(b=d.utf8_encode(b);c<b.length;){var e=b.charCodeAt(c++);var f=b.charCodeAt(c++);var g=b.charCodeAt(c++);var k=e>>2;e=(e&3)<<4|f>>4;var l=(f&15)<<2|g>>6;var m=g&63;isNaN(f)?l=m=64:isNaN(g)&&(m=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m))}return a.join("")};d.decode=function(b){var a="",c=0;for(b=b.replace(/[^A-Za-z0-9+/=]/g,"");c<b.length;){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));
var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));e=e<<2|f>>4;f=(f&15)<<4|g>>2;var l=(g&3)<<6|k;a+=String.fromCharCode(e);64!=g&&(a+=String.fromCharCode(f));64!=k&&(a+=String.fromCharCode(l))}return a=d.utf8_decode(a)};d.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var c=0;c<b.length;c++){var e=b.charCodeAt(c);128>e?a.push(String.fromCharCode(e)):(127<e&&2048>e?a.push(String.fromCharCode(e>>6|192)):(a.push(String.fromCharCode(e>>12|224)),
a.push(String.fromCharCode(e>>6&63|128))),a.push(String.fromCharCode(e&63|128)))}return a.join("")};d.utf8_decode=function(b){for(var a=[],c=0,e,d,f;c<b.length;)e=b.charCodeAt(c),128>e?(a.push(String.fromCharCode(e)),c++):191<e&&224>e?(d=b.charCodeAt(c+1),a.push(String.fromCharCode((e&31)<<6|d&63)),c+=2):(d=b.charCodeAt(c+1),f=b.charCodeAt(c+2),a.push(String.fromCharCode((e&15)<<12|(d&63)<<6|f&63)),c+=3);return a.join("")}})(Base64||(Base64={}));var LZW;
(function(d){d.encode=function(b){var d={};b=(b+"").split("");for(var a=[],c,e=b[0],h=256,g=1;g<b.length;g++)c=b[g],null!=d[e+c]?e+=c:(a.push(1<e.length?d[e]:e.charCodeAt(0)),d[e+c]=h,h++,e=c);a.push(1<e.length?d[e]:e.charCodeAt(0));for(g=0;g<a.length;g++)a[g]=String.fromCharCode(a[g]);return a.join("")};d.decode=function(b){var d={};b=(b+"").split("");for(var a=b[0],c=a,e=[a],h=256,g,k=1;k<b.length;k++)g=b[k].charCodeAt(0),g=256>g?b[k]:d[g]?d[g]:c+a,e.push(g),a=g.charAt(0),d[h]=c+a,h++,c=g;return e.join("")}})(LZW||
(LZW={}));var Levenshtein;
(function(d){function b(a,b,e){void 0===e&&(e=f);a=Strings.ToCharArray(a,!0);b=Strings.ToCharArray(b,!0);if(0==a.length&&0==b.length)return[[0]];if(0==a.length)return[[$ts(b).Sum(function(a){return e.insert(a)})]];if(0==b.length)return[[$ts(a).Sum(function(a){return e.delete(a)})]];var c=a.length+1,d=b.length+1,k=new Matrix(c,d,0);k.column(0,Enumerable.Range(0,c-1));k.row(0,Enumerable.Range(0,d-1));for(var l=1;l<d;l++)for(var m=1;m<c;m++)k.M(m,l,Enumerable.Min(k.M(m-1,l)+e.delete(a[m-1]),k.M(m,l-
1)+e.insert(b[l-1]),k.M(m-1,l-1)+e.substitute(a[m-1],b[l-1])));return k.ToArray(!1)}var f={insert:function(a){return 1},delete:function(a){return 1},substitute:function(a,b){return a==b?0:1}};d.DistanceMatrix=b;d.ComputeDistance=function(a,c,e){void 0===e&&(e=f);a=b(a,c,e);return a[a.length-1][a[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function d(b,d){void 0===b&&(b=null);void 0===d&&(d="\n");this.buffer=b?"string"==typeof b?""+b:""+b.buffer:"";this.newLine=d}Object.defineProperty(d.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});d.prototype.Append=function(b){this.buffer+=b;return this};d.prototype.AppendLine=function(b){void 0===b&&(b="");return this.Append(b+this.newLine)};d.prototype.toString=function(){return this.buffer+""};return d}(),Bootstrap=function(){function d(){this.status=
"Sleep";this.hookUnload=null}Object.defineProperty(d.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});d.prototype.Init=function(){var b=this,d=this,a=this.getCurrentAppPage();(Router.isCaseSensitive()?a==this.appName:a.toLowerCase()==this.appName.toLowerCase())?(TypeScript.logging.outputEverything&&console.log("%c["+TypeInfo.typeof(this).class+
"] App(name:="+this.appName+") Init...","color:blue;"),$ts(function(){return b.OnDocumentReady()}),window.onload=function(){return b.OnWindowLoad()},window.onbeforeunload=function(){return b.OnWindowUnload()},window.onhashchange=function(){var a=window.location.hash.substr(1);d.OnHashChanged(a)},this.init(),this.status="Running"):TypeScript.logging.outputEverything&&console.log("%c["+TypeInfo.typeof(this).class+"] Continue Sleep as: TRUE = "+a+" <> "+this.appName,"color:green;")};d.prototype.OnDocumentReady=
function(){};d.prototype.OnWindowLoad=function(){};d.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};d.prototype.unhook=function(){this.hookUnload=null};d.prototype.OnHashChanged=function(b){};d.prototype.getCurrentAppPage=function(){return getAllUrlParams().Item("app")||"/"};d.prototype.toString=function(){return"["+this.status+"] "+this.appName};return d}(),Framework;
(function(d){(function(b){function d(a,b){void 0===b&&(b=-1);var c=TypeInfo.typeof(a);if(c.IsEnumerator)c=a.ToArray();else if(c.IsArray)c=a.slice();else if(0>=b)c=[a];else{c=[];for(var e=0;e<b;e++)c.push(a)}if(1<=b)if(b<c.length)c=c.slice(0,b);else if(b>c.length)for(e=c.length;e<b;e++)c.push(null);return c}function a(b,e){void 0===e&&(e=null);if(null==b||"object"!=typeof b||b.constructor!=Object&&b.constructor!=Array)return b;if(b.constructor==Date||b.constructor==RegExp||b.constructor==Function||
b.constructor==String||b.constructor==Number||b.constructor==Boolean)return new b.constructor(b);e=e||new b.constructor;for(var c in b)e[c]="undefined"==typeof e[c]?a(b[c],null):e[c];return e}b.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(d(a,b))};b.EnsureArray=d;b.extend=a})(d.Extensions||(d.Extensions={}))})(Framework||(Framework={}));
(function(d){var b=Modes.development,f=Modes.debug,a=Modes.production,c=function(){function c(){}Object.defineProperty(c,"outputWarning",{get:function(){return $ts.mode<=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"outputEverything",{get:function(){return $ts.mode==f},enumerable:!0,configurable:!0});Object.defineProperty(c,"outputError",{get:function(){return $ts.mode==a},enumerable:!0,configurable:!0});c.log=function(a,b){this.outputEverything&&console.log(a)};return c}();d.logging=
c})(TypeScript||(TypeScript={}));var Router;
(function(d){function b(a,b){b(e[a])}function f(a,b){void 0===b&&(b="/");var c=TypeInfo.typeof(a);return{module:b,appName:a.appName,className:c.class,status:a.appStatus,hookUnload:a.appHookMsg}}function a(a){var b=TypeScript.URL.WindowLocation().hash;if(b=c.Item(b))"/"==b?(window.location.hash="",window.location.reload(!0)):$ts("#"+a).innerHTML=HttpHelpers.GET(b)}var c,e,h=!0;d.isCaseSensitive=function(){return h};d.CaseInsensitive=function(a){void 0===a&&(a=!0);h=!a};d.AddAppHandler=function(a,c){void 0===
c&&(c="/");isNullOrUndefined(e)&&(e={});c in e||(e[c]=new Dictionary({}));b(c,function(b){return b.Add(a.appName,a)})};var g={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};d.getAppSummary=f;d.RunApp=function(a){void 0===a&&(a="/");if(a in e)b(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in
g){a=!1;for(var c=0,d=Object.keys(g);c<d.length;c++){var h=d[c];if(h in e){b(h,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=[];Object.keys(e).forEach(function(a){b(a,function(b){b.ForEach(function(b){return k.push(f(b.value,a))})})});console.table(k)}};d.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};
d.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};d.register=function(b,e,f){void 0===b&&(b="app");void 0===e&&(e=null);void 0===f&&(f=!0);c||(c=new Dictionary({"/":"/"}));var h=e?"string"==typeof e?d.queryKey(e):e:function(a){return(new TypeScript.URL(a)).fileName};e=$ts(".router");e.attr("router-link",function(a){return a.href});e.attr("href","javascript:void(0);");e.onClick(function(a,c){d.goto(a.getAttribute("router-link"),b,h)});e.attr("router-link").ForEach(function(a){c.Add(h(a),
a)});a(b)};d.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};d.goto=function(a,b,c,e){d.IsTopWindowStack()?($ts("#"+b).innerHTML=HttpHelpers.GET(a),d.register(b,c,!1),window.location.hash=c(a)):parent.Router.goto(a,b,c,parent)}})(Router||(Router={}));var Which;
(function(d){function b(a,b){void 0===b&&(b=f.default());for(var c=null,d=0,g=0;g<a.Count;g++)0<b(a.ElementAt(g),c)&&(c=a.ElementAt(g),d=g);return d}d.Is=function(a){Array.isArray(a)&&(a=new IEnumerator(a));return a.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var f=function(){function a(){this.as_numeric=null}a.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=DataExtensions.AsNumeric(a),this.as_numeric||(this.as_numeric=
DataExtensions.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};a.default=function(){return(new a).compares};return a}();d.DefaultCompares=f;d.Max=b;d.Min=function(a,c){void 0===c&&(c=f.default());return b(a,function(a,b){return-c(a,b)})}})(Which||(Which={}));
(function(d){var b=function(){function b(){}b.nameFilter=function(a){var b=this;return From(Object.keys(a)).Where(function(a){return-1==b.ArgumentNames.indexOf(a)}).ToArray()};b.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};b.ArgumentNames=Object.keys(b.Default());return b}();d.Arguments=b})(Internal||(Internal={}));
(function(d){var b=function(){function b(){}b.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};b.Parse=function(a){var c=new b,e=b.getFileName(a);a=a.replace(e,"").trim().substr(3);e=e.substr(1,e.length-2);if(-1<a.indexOf("/")||-1<a.indexOf(":"))a="<HTML\\Document>";var d=$ts(e.match(/([:]\d+){2}$/m)[0].split(":")),f=d.Select(function(a){return a.length}).Sum()+2;d=From(d).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();
c.file=e.substr(0,e.length-f);(e=(e=a.match(/\[.+\]/))&&0!=e.length?e[0]:null)?(a=a.substr(0,a.length-e.length).trim(),c.memberName=e.substr(3,e.length-4).trim()):(e=a.split("."),c.memberName=e[e.length-1]);c.caller=a;c.line=d[0];c.column=d[1];return c};b.getFileName=function(a){var b=a.match(/\(.+\)/);return b&&0!=b.length?b[0]:"("+a.substr(6).trim()+")"};return b}();d.StackFrame=b})(Internal||(Internal={}));
(function(d){var b=function(){function a(){this.lastCheck=this.start=(new Date).getTime()}a.prototype.Tick=function(){var a=(new Date).getTime(),b=new f;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return a}();d.Benchmark=b;var f=function(){function a(){}Object.defineProperty(a.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return a}();d.CheckPoint=f})(TypeScript||
(TypeScript={}));var Cookies;(function(d){function b(b){b=(b=RegExp(""+b+"[^;]+").exec(document.cookie))?b.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(b)}d.getCookie=b;d.delCookie=function(d){var a=b(d),c=new Date;c.setTime(c.getTime()-1);null!=a&&(c=c.toGMTString(),document.cookie=d+"="+a+";expires="+c)}})(Cookies||(Cookies={}));var CanvasHelper;
(function(d){function b(a){return a.fillText&&a.measureText?!0:!1}var f;d.getTextWidth=function(a,b){var c=(f||(f=$ts("<canvas>"))).getContext("2d");c.font=b;return c.measureText(a).width};d.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};d.createCanvas=function(a,c,d,f){void 0===f&&(f="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:c,title:d,style:"display: "+f+";"});if(!a.getContext)return null;c=a.getContext("2d");return b(c)?a:null};d.supportsText=
b;var a=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();d.fontSize=a;var c=function(){function b(){}b.prototype.apply=function(a){b.applyCSS(a,this)};b.applyCSS=function(b,c){b.style.fontFamily=c.fontName;b.style.fontSize=a.css(c.size)};return b}();d.CSSFont=c})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){function d(a){return a instanceof HTMLElement||a instanceof SVGElement}function a(a){if(d(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function c(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function e(a,e,d){var f=a.getAttributeNS(b.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),c(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var h=
$ts("<canvas>"),g=h.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||a.getAttribute("href"))?(k.src=f,k.onload=function(){h.width=k.width;h.height=k.height;g.drawImage(k,0,0);a.setAttributeNS(b.xlink,"href",h.toDataURL("image/png"));e--;d(e)},k.onerror=function(){console.error("Could not load "+f);e--;d(e)}):(e--,d(e));return e}b.xlink="http://www.w3.org/1999/xlink";b.isElement=d;b.requireDomNode=a;b.isExternal=c;b.inlineImages=function(b,c){a(b);b=b.querySelectorAll("image");var d=b.length,
f=function(a){0===a&&c()};f(d);for(var h=0;h<b.length;h++)d=e(b[h],d,f)};b.getDimension=function(a,b,c){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[c]||null!==b.getAttribute(c)&&!b.getAttribute(c).match(/%$/)&&parseInt(b.getAttribute(c))||a.getBoundingClientRect()[c]||parseInt(b.style[c])||parseInt(window.getComputedStyle(a).getPropertyValue(c));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};b.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){b.xmlns="http://www.w3.org/2000/xmlns/";b.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var d=function(){function a(){}a.prepareSvg=function(c,e,d){void 0===e&&(e=new b.Options);b.requireDomNode(c);e.scale=e.scale||1;e.responsive=e.responsive||!1;b.inlineImages(c,function(){return a.doInlineImages(c,e,d)})};a.doInlineImages=function(a,
d,f){var c=$ts("<div>"),e=a.cloneNode(!0);if("svg"==a.tagName){var h=d.width||b.getDimension(a,e,"width");var m=d.height||b.getDimension(a,e,"height")}else if(a.getBBox){var p=a.getBBox();h=p.x+p.width;m=p.y+p.height;e.setAttribute("transform",e.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(e);e=p}else{console.error("Attempted to render non-SVG element",a);return}e.setAttribute("version","1.1");e.getAttribute("xmlns")||
e.setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/2000/svg");e.getAttribute("xmlns:xlink")||e.setAttributeNS(b.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");d.responsive?(e.removeAttribute("width"),e.removeAttribute("height"),e.setAttribute("preserveAspectRatio","xMinYMin meet")):(e.setAttribute("width",(h*d.scale).toString()),e.setAttribute("height",(m*d.scale).toString()));e.setAttribute("viewBox",[d.left||0,d.top||0,h,m].join(" "));p=e.querySelectorAll("foreignObject > *");for(var q=0;q<
p.length;q++)p[q].getAttribute("xmlns")||p[q].setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/1999/xhtml");c.appendChild(e);b.styles.doStyles(a,d,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);e.insertBefore(a,e.firstChild);f&&(a=c.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),f(a,h,m))})};a.svgAsDataUri=function(a,e,d){void 0===d&&(d=null);this.prepareSvg(a,e,function(a){a="data:image/svg+xml;base64,"+
window.btoa(b.reEncode(b.doctype+a));d&&d(a)})};a.convertToPng=function(a,b,d,f){b=$ts("<canvas>",{width:b,height:d});d=b.getContext("2d");f.canvg?f.canvg(b,a):d.drawImage(a,0,0);f.backgroundColor&&(d.globalCompositeOperation="destination-over",d.fillStyle=f.backgroundColor,d.fillRect(0,0,b.width,b.height));try{var c=b.toDataURL(f.encoderType,f.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return c};
a.svgAsPngUri=function(c,d,f){void 0===d&&(d=new b.Options);b.requireDomNode(c);d.encoderType=d.encoderType||"image/png";d.encoderOptions=d.encoderOptions||.8;var e=function(b,c,e){f(a.convertToPng(b,c,e,d))};d.canvg?this.prepareSvg(c,d,e):this.svgAsDataUri(c,d,function(a){var b=new Image;b.onload=function(){e(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};a.saveSvg=function(a,d,f){b.requireDomNode(a);f=f||{};this.svgAsDataUri(a,f,function(a){return DOM.download(d,a)})};a.saveSvgAsPng=function(a,d,f){void 0===f&&(f=b.Options.Default());"string"==typeof a&&(a=$ts(a));b.requireDomNode(a);this.svgAsPngUri(a,f,function(a){return DOM.download(d,a)})};return a}();b.Encoder=d})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){var d=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();b.Options=d;d=function(){function b(){}b.doStyles=function(a,b,c){for(var d="",e=[],f=document.styleSheets,h=0;h<f.length;h++){try{var g=f[h].cssRules}catch(u){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[h].href);continue}null!=g&&(d+=this.processCssRules(a,g,b,f[h].href,e))}this.processFontQueue(e,
d,c)};b.processCssRules=function(a,c,d,f,l){for(var e="",h=0,g;h<c.length;h++,g=null){var k=c[h];if("undefined"!=typeof k.style){try{var r=k.selectorText}catch(t){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',t)}try{r&&(g=a.querySelector(r)||a.parentNode.querySelector(r))}catch(t){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+r+'"',t)}if(g)g=d.selectorRemap?d.selectorRemap(k.selectorText):k.selectorText,k=d.modifyStyle?
d.modifyStyle(k.style.cssText):k.style.cssText,e+=g+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){g=/url\(["']?(.+?)["']?\)/;var n=k.cssText.match(g);n=n&&n[1]||"";n.match(/^data:/)&&(n="");"about:blank"===n&&(n="");n?(n.startsWith("../")?n=f+"/../"+n:n.startsWith("./")&&(n=f+"/."+n),l.push({text:k.cssText,fontUrlRegexp:g,format:b.getFontMimeTypeFromUrl(n),url:n})):e+=k.cssText+"\n"}}}return e};b.processFontQueue=function(a,b,c){function d(d){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+d.url),console.warn(f));b+=d.text+"\n";e.processFontQueue(a,b,c)}function h(d,f){b+=d.text.replace(d.fontUrlRegexp,'url("data:'+d.format+";base64,"+f+'")')+"\n";setTimeout(function(){e.processFontQueue(a,b,c)},0)}var g=new XMLHttpRequest;g.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(g.response);h(d,a)});g.addEventListener("error",f);g.addEventListener("abort",f);g.open("GET",d.url);g.responseType="arraybuffer";g.send()}var e=
this;if(0<a.length){var f=a.pop();d(f)}else c(b)};b.getFontMimeTypeFromUrl=function(b){for(var c=Object.keys(a),d=0;d<c.length;++d){var e=c[d];if(0<b.indexOf("."+e))return a[e]}this.warnFontNotSupport(b);return"application/octet-stream"};b.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return b}();b.styles=d;var a={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(d){var b=function(){function b(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof a?[a]:a;this.errors=[];this.onErrorResumeNext=b;this.echo=d}b.prototype.nextScript=function(){return this.jsURL[this.i++]};b.prototype.doLoad=function(a){var b=this;void 0===a&&(a=DoNothing);var e=this.nextScript();Strings.Empty(e,!0)?a():d.GetAsyn(e,function(c,d){return b.doExec(e,c,d,a)})};b.prototype.doExec=function(a,b,d,f){switch(d){case 200:try{eval.apply(window,
[b])}catch(g){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(a),console.warn(g)),this.errors.push(a);else throw g;}finally{this.echo&&console.log("script loaded: ",a)}break;default:this.echo&&console.error("ERROR: script not loaded: ",a),this.errors.push(a)}this.doLoad(f)};b.doEval=function(a,b,d){void 0===d&&(d=window);Base64.isValidBase64String(a)&&(a=Base64.decode(a));eval.apply(d,[a]);b&&b()};b.getFullPath=function(a){var b=$ts.location.path;if("/"==a.charAt(0))return a;
console.log(b)};return b}();d.Imports=b})(HttpHelpers||(HttpHelpers={}));
(function(d){d.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};d.measureContentType=function(b){return b instanceof FormData?d.contentTypes.form:"string"==typeof b?d.contentTypes.text:d.contentTypes.json};d.GET=function(b){var a=new XMLHttpRequest;a.open("GET",b,!1);a.send(null);return 200===a.status?a.responseText:null};d.GetAsyn=function(b,a){var c=new XMLHttpRequest;c.open("GET",b,!0);c.onreadystatechange=function(){var b=
this.getResponseHeader("content-type");isNullOrUndefined(b)&&(b=this.getResponseHeader("Content-Type"));4==c.readyState&&a(c.response||c.responseText,c.status,b)};c.send(null)};d.POST=function(b,a,c){var e=new XMLHttpRequest,f=a.data;a.type==d.contentTypes.json&&"string"!=typeof f&&(f=JSON.stringify(f));e.open("POST",b,!0);a.sendContentType&&e.setRequestHeader("Content-Type",a.type);e.onreadystatechange=function(){4==e.readyState&&c(e.responseText,e.status)};e.send(f)};d.UploadFile=function(b,a,c,
e){void 0===c&&(c=null);var f=new FormData;a instanceof File?(f.append("filename",a.name),c=c||a.name):f.append("filename",c);f.append("File",a,c);d.POST(b,{type:d.contentTypes.form,data:f},e)};var b=function(){function b(){this.sendContentType=!0}b.prototype.toString=function(){return this.type};return b}();d.PostData=b})(HttpHelpers||(HttpHelpers={}));var csv;
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});a.prototype.Column=function(a){var b=this.sequence[0].indexOf(a);return-1==b?new IEnumerator([]):this.Select(function(a){return a.ElementAt(b)})};a.prototype.AppendLine=
function(a){this.sequence.push(a);return this};a.prototype.AppendRows=function(a){var b=this;Array.isArray(a)?a.forEach(function(a){return b.sequence.push(a)}):a.ForEach(function(a){return b.sequence.push(a)});return this};a.prototype.buildDoc=function(){return this.Select(function(a){return a.rowLine}).JoinBy("\n")};a.prototype.Objects=function(b,d){void 0===b&&(b={});void 0===d&&(d=function(){return{}});var c=a.ensureMapsAll(b,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=
d();a.ForEach(function(a,d){b[c(d)]=a});return b})};a.ensureMapsAll=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d in a||(a[d]=d)}return function(c){return a[b[c]]}};a.prototype.save=function(a,b,d){void 0===b&&(b="upload.csv");void 0===d&&(d=function(a){console.log(a)});var c=this.buildDoc();HttpHelpers.UploadFile(a,c,b,d)};a.Load=function(b,d,f){var c=this;void 0===d&&(d=null);void 0===f&&(f=this.defaultContent);if(null==d||void 0==d){b=f(HttpHelpers.GET(b));var e=this.isTsv(b);return a.Parse(b.content,
e)}HttpHelpers.GetAsyn(b,function(b,e,g){if(200==e)b=f(b,g),e=c.isTsv(b),b=a.Parse(b.content,e),console.log(b.headers),d(b);else throw"Error while load csv data source, http "+e+": "+b;});return null};a.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};a.defaultContent=function(a){return{type:"csv",content:a}};a.Parse=function(b,e){void 0===e&&(e=!1);e=e?d.row.ParseTsv:d.row.Parse;b=$ts.from(b.split(/\n/));b=Strings.Empty(b.Last)?b.Take(b.Count-1).Select(e):b.Select(e);return new a(b)};
return a}(IEnumerator);d.dataframe=b})(csv||(csv={}));
(function(d){(function(b){function f(b,d){void 0===d&&(d=a);var c=b.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");b=b.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+d+'">\n                <thead>\n                    <tr>'+c+"</tr>\n                </thead>\n                <tbody>\n                    "+b+"\n                </tbody>\n            </table>"}
var a=["table","table-hover"];b.toHTMLTable=f;b.createHTMLTable=function(b,e){void 0===e&&(e=a);return f(d.toDataFrame(b),e)}})(d.HTML||(d.HTML={}))})(csv||(csv={}));
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"columns",{get:function(){return this.sequence.slice()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowLine",{get:function(){return From(this.columns).Select(a.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});a.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,b)};a.prototype.ProjectObject=
function(a){var b={},c=this.columns;Array.isArray(a)?a.forEach(function(a,d){b[a]=c[d]}):a.ForEach(function(a,d){b[a]=c[d]});return b};a.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};a.Parse=function(b){return new a(d.CharsParser(b))};a.ParseTsv=function(b){return new a(d.CharsParser(b,"\t"))};return a}(IEnumerator);d.row=b})(csv||(csv={}));
(function(d){d.CharsParser=function(b,d,a){void 0===d&&(d=",");void 0===a&&(a='"');var c=[],e=[],f=!1,g=From(Strings.ToCharArray(b)).ToPointer(),k=new RegExp("["+a+"]{2}","g"),l=function(){return e.join("").replace(k,a)};for(b=function(b){var h=e;var k=void 0;void 0===k&&(k="\\");h=IsNullOrEmpty(h)?!1:h[h.length-1]==k;h?e[e.length-1]=b:(h=g.Current,k=0<e.length&&e[e.length-1]!=a,0==e.length&&h==d?(c.push(""),e=[],g.MoveNext(),f=!1):(h==d||g.EndRead)&&k?(c.push(l()),e=[],g.MoveNext(),f=!1):e.push(b))};!g.EndRead;){var m=
g.Next;f?m==a?b(m):e.push(m):0==e.length&&m==a?f=!0:m==d?(c.push(l()),e=[]):e.push(m)}0<e.length&&c.push(l());return c}})(csv||(csv={}));(function(d){d.toDataFrame=function(b){b=Array.isArray(b)?new IEnumerator(b):b;var f=$ts(Object.keys(b.First));b=b.Select(function(a){var b=f.Select(function(b,c){b=a[b];b=isNullOrUndefined(b)?"":""+b;return b});return new d.row(b)});return(new d.dataframe([new d.row(f)])).AppendRows(b)}})(csv||(csv={}));
